// ==UserScript==
// @name         三国杀打小抄
// @namespace    https://greasyfork.org/scripts/448004
// @version      3.1.0
// @author       小麦 孤独尊
// @description  打小抄支持网页版和微端，微端文件请加群 830137048
// @icon         https://i0.hdslb.com/bfs/new_dyn/17ec41a0ca79633b77399065ab80da3f2138912.png
// @downloadURL  https://goka.top:8080/daxiaochao.user.js
// @updateURL    https://goka.top:8080/daxiaochao.user.js
// @match        *://game.4399iw2.com/yxsgs/*
// @match        *://my.4399.com/yxsgs/*
// @match        *://*.sanguosha.com/*
// @match        *://web.kuaiwan.com/kwsgsn/*
// @match        *://wan.baidu.com/microend?gameId=19793595/*
// @match        *://www.7k7k.com/special/sgs/?*
// @match        *://playgame.iqiyi.com/login/iframe_page_web/top?game_id=146
// @grant        none
// @run-at       document-start
// ==/UserScript==

(function () {
	'use strict';

	var _documentCurrentScript = typeof document !== 'undefined' ? document.currentScript : null;
	var __freeze=Object.freeze,__defProp=Object.defineProperty,__defNormalProp=(e,t,i)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,__publicField=(e,t,i)=>(__defNormalProp(e,"symbol"!=typeof t?t+"":t,i),i),__template=(e,t)=>__freeze(__defProp(e,"raw",{value:__freeze(t||e.slice())})),_a,_b,_a2;function localGet(e,t=null,i=!0){let n;return n||"undefined"==typeof localStorage||(n=localStorage.getItem(e)),n?JSON.parse(n):t}async function localSet(e,t,i=!0){"undefined"!=typeof localStorage&&localStorage.setItem(e,JSON.stringify(t));}async function localDel(e,t=!0){"undefined"!=typeof localStorage&&localStorage.removeItem(e);}function json2html(e,t=0){let i="";const n="  ".repeat(t);if(Array.isArray(e)){e.every((e=>"object"!=typeof e||!e))?i+=`${n}${e.join("\t")}\n`:(i+=`${n}<ol>\n`,e.forEach((e=>{i+=`${n}  <li>\n`,i+=json2html(e,t+2),i+=`${n}  </li>\n`;})),i+=`${n}</ol>\n`);}else if("object"==typeof e&&null!==e){if(Object.values(e).every((e=>"object"!=typeof e||!e)))i+=`${n}${Object.entries(e).map((([e,t])=>`<strong>${e}:</strong> ${t}`)).join(", ")}\n`;else {i+=`${n}<ul>\n`;for(const l in e)i+=`${n}  <li>\n`,i+=`${n}    <strong>${l}:</strong>\n`,i+=json2html(e[l],t+2),i+=`${n}  </li>\n`;i+=`${n}</ul>\n`;}}else i+=`${n}  ${e}\n`;return i}function array2table(e,t={}){if(!(null==e?void 0:e.length))return "";const i=e.flatMap((e=>Object.keys(e))).filter(((e,t,i)=>i.indexOf(e)===t));return '<table border="1"><thead><tr><th>'+i.map((e=>t[e]??e)).join("</th><th>")+"</th></tr></thead><tbody><tr><td>"+e.map((e=>i.map((t=>e[t]??"")).join("</td><td>"))).join("</td></tr><tr><td>")+"</td></tr></tbody></table>"}async function download(e,t=""){const i=document.createElement("a");i.download=t,i.href=e,i.click(),i.remove();}const notificationQueue=[];let isNotificationShowing=!1,currentTimeout=null;function addTooltip(e,t="acTooltip",i=1e4,n="",l=null,o=!1){o?updateOrCreateTooltip(e,t,i,n):(notificationQueue.push({text:e,id:t,duration:i,className:n,clickCallback:l}),isNotificationShowing||showNextNotification());}function updateOrCreateTooltip(e,t,i,n){let l=document.getElementById(t);l||(l=document.createElement("div"),l.id=t,l.className="ac-tooltip "+n,document.body.appendChild(l)),l.innerHTML=e,l.className="ac-tooltip "+n,l.addEventListener("click",(()=>{removeTooltip(uniqueId);})),setTimeout((()=>{l.classList.remove("hide"),l.classList.add("show"),l.style.top="20px";}),50),currentTimeout&&clearTimeout(currentTimeout),currentTimeout=setTimeout((()=>removeTooltip(t)),i);}function tooltipSGS(e){(null==ChannelUtils?void 0:ChannelUtils.openQQBuy)&&ChannelUtils.openQQBuy({ret:!0,msg:e});}function showNextNotification(e){if(0===notificationQueue.length)return void(isNotificationShowing=!1);isNotificationShowing=!0;const{text:t,id:i,duration:n,className:l,clickCallback:o}=notificationQueue.shift();let a=document.getElementById(i);a&&a.remove();let s=i+"-"+(new Date).getTime(),r=document.createElement("div");r.id=s,r.className="ac-tooltip "+l,r.innerHTML=t,document.body.appendChild(r),o&&"function"==typeof o&&r.addEventListener("click",o),r.addEventListener("click",(()=>{removeTooltip(s),showNextNotification();})),setTimeout((()=>{r.classList.remove("hide"),r.classList.add("show"),r.style.top="20px";}),50),n?setTimeout((()=>{removeTooltip(s),showNextNotification();}),n):isNotificationShowing=!1;}function removeTooltip(e){let t=document.getElementById(e);t&&(t.classList.remove("show"),t.classList.add("hide"),setTimeout((()=>{t&&t.remove();}),300));}var recordHTML=function(e){return String.raw(_a2||(_a2=__template(['\n<html><head><meta charset="utf-8" /><title>战绩胜率统计</title><style>\ntable { margin-right: 8px; border-collapse: collapse; }\nth, td { text-align: center; border: 2px solid black; font-size: 24px; box-sizing: border-box; }\ntd { padding: 2px 5px; border: 1px solid black; }\n.nav, thead { background: white; position: sticky;; }\n.rate { margin: 5px; font-size: 28px;}\n.button {  display: none; } \n.button[name=mode] + .label { display: inline-block; font-size: 30px; user-select: none; border: solid 1px black; border-radius: 5px; padding: 5px; margin: 5px; }\nth .button + .label { display: inline-block; width: 100%; height: 100%;}\nth .button:checked + .label::after { content: "↓"; }\nth.reverse .button:checked + .label::after { content: "↑"; }\n.button:checked + .label { background: rgb(64,160,255); } \nbutton { font-size: 20px; padding: 3px; border-radius: 5px; }\n.s0 { background: white; }\n.s1 { background: rgb(221,0,0); }\n.s2 { background: rgb(255, 200, 0); }\n.s3 { background: rgb(0, 136, 68); }\n.s4 { background: rgb(0, 94, 183); }\n.s5 { background: rgb(255, 0, 255); }\n</style></head><body style="margin: 0 8px;">\n\t<div class="nav" style="top: 0; height: 136px; z-index: 3"><div id="modeTab"></div><div id="filter" style="font-size: 20px;">\n\t\t<label for="start">起始日期：</label>\n\t\t<input type="date" id="start" name="start">\n\t\t<label for="end">终止日期：</label>\n\t\t<input type="date" id="end" name="end">\n\t\t<label for="search">搜索：</label>\n\t\t<input type="text" id="search" name="search" placeholder="输入武将名">\n\t\t<button onclick="reSet(true)">搜索筛选</button>\n\t\t<button onclick="reSet()">取消筛选</button>\n\t</div><div id="summary"></div></div>\n\t<div style="display: flex; align-items: flex-start; flex-wrap: wrap;"><table id="detail"><thead style="top: 135px; z-index: 1"></thead><tbody></tbody></table>\n\t<table id="record"><thead style="top: 135px; z-index: 2"></thead><tbody></tbody></table></div>\n\t<div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9999; background-repeat: repeat; background-image: url(&quot;data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'350\' height=\'200\'><text x=\'50%\' y=\'50%\' font-size=\'20\' fill=\'rgba(0,0,0,0.1)\' transform=\'rotate(-30, 100, 100)\' text-anchor=\'middle\'>由三国杀打小抄提供</text></svg>&quot;);"></div>\n<script>\nconst data = Object.entries(',").reduce((acc,[mode, records]) => {\nacc[mode] = Object.entries(records).reverse().map(([time, record]) => ({timestamp:parseInt(time), time: new Date(time*1000).toISOString().slice(0,16).replace('T',' '), ...record, durationstr: formatSeconds(record.duration)}));\nreturn acc;\n},{});\nconst modeName = {1: '八人标准', 2: '六人身份', 3: '八人军争', 4: '应变身份', 5: '八人至尊', 6: '身份老友房', 7: '国战', 8: '应变国战', 9: '国战老友房', 10: '新1V1', 11: '欢乐', 12: '应变欢乐', 13: '欢乐老友房', 14: '统率', 15: '4V4演武', 16: '应变演武', 17: '欢乐演武', 18: '国战演武', 19: '统率排位', 20: '欢乐排位', 21: '智斗三国', 22: '欢乐新手', 23: '欢乐新手', 24: '六人新手', 25: '六人新手', 26: '排位赛', 27: '主公杀', 28: '1v1面杀练习场', 29: '五人匹配', 30: '排位赛', 31: '欢乐33', 32: '33老友房', 33: '武将试炼', 34: '武将试炼', 35: '斗地主', 36: '线上赛事', 37: '山河图', 38: '王战练习', 39: 'SCL练习', 40: '斗地主练习', 42: '八人匹配', 43: '个人挑战1V1', 44: '单骑无双'};\nconst sfName = {5:{0: '综合', 1: '主公', 2: '忠臣', 3: '反贼', 4: '内奸'},7:{0: '综合', 1: '魏国', 2: '蜀国', 3: '吴国', 4: '群雄', 5:'晋国'},26:{0:'综合',2:'一四',3:'二三'},35:{0:'综合',1:'地主',3:'农民'},44:{0:'综合',1:'先手',4:'后手'}};\ncolors=['white','rgb(221,0,0)','rgb(255, 200, 0)','rgb(0, 136, 68)','rgb(0, 94, 183)','rgb(255, 0, 255)','black'];\nconst modeTab = document.getElementById('modeTab');\n[26,35,44,5,7].forEach(mode => {\nif(mode in data) modeTab.innerHTML += '<label><input type=\"radio\" class=\"button\" name=\"mode\" value=\"'+mode+'\" onclick=\"reSet()\"><span class=\"label\">'+modeName[mode]+'</span></label>';\n}); modeTab.innerHTML += ' （更多功能敬请期待…）';\ndocument.querySelector('#record thead').innerHTML = '<tr onclick=\"recordSort(event)\">'+['时间','武将','阵营','胜负','时长'].map((name,i)=>'<th'+(i?'':' class=\"reverse\"')+'><label><input type=\"radio\" class=\"button\" name=\"record\" onchange=\"recordSort(event)\" '+(i?'':'checked')+'><span class=\"label\">'+name+'</span></label></th>').join('')+'</tr>';\nfunction reSet(event) {\nlet i, tabcontent, tablinks;\nwindow.mode = document.querySelector('#modeTab input[name=\"mode\"]:checked')?.value\nwindow.guozhanQ = modeName[mode].includes('国战');\nlet start = (document.getElementById('start')?.valueAsNumber || 0) / 1000;\nlet end = (document.getElementById('end')?.valueAsNumber || Infinity) / 1000;\nlet search = document.getElementById('search')?.value?.trim() || '';\nif (start > end) { [start, end] = [end, start]; }\nlet filter = event !== true ? ({shenfen}) => shenfen : ({shenfen, timestamp, general}) => shenfen && timestamp >= start && timestamp <= end && general?.some(e => e?.includes?.(search));\nwindow.records = data[mode].filter(filter).sort();\nlet summary = Array.from({length:10},(_,i)=>[0,0,0,i]);\nlet detail = records.reduce((acc, record) => {\n\tsummary[0][record.result] += 1;\n\tsummary[0][2] += record.duration;\n\tsummary[record.shenfen][record.result] += 1;\n\trecord.general.forEach((g,n)=>{\n\t\tif(!acc[g]) acc[g] = Array.from({length:10},(_,i)=>[0,0,0,i]);\n\t\tacc[g][0][record.result] += 1;\n\t\tacc[g][0][2] += record.duration;\n\t\tacc[g][guozhanQ?(n+1):record.shenfen][record.result] += 1;\n\t});\n\treturn acc;\n},{});\nsummary = summary.filter(s=>s[0]+s[1]>0);\nlet sf = guozhanQ?[0,1,2]:summary.map(s=>s[3]);\ndocument.querySelector('#detail thead').innerHTML = '<tr><th rowspan=2>武将</th>'+sf.map(sf=>'<th colspan=4 style=\"background:'+colors[sf]+';\">'+(guozhanQ?{0:'综合',1:'主将',2:'副将'}[sf]:sfName[window.mode][sf])+'</th>').join('')+'<th rowspan=2 onclick=\"detailSort(event)\"><label><input type=\"radio\" class=\"button\" name=\"detail\" onchange=\"detailSort(event)\"><span class=\"label\">平均时长</span></label></th></tr><tr onclick=\"detailSort(event)\">'+sf.flatMap((sf,i)=>['胜率','出场','胜场','败场'].map((name,j)=>'<th class=\"reverse\"><label><input type=\"radio\" class=\"button\" name=\"detail\" onchange=\"detailSort(event)\" '+(i==0&&j==2?'checked':'')+'><span class=\"label\">'+name+'</span></label></th>')).join('')+'</tr>';\nwindow.detail = Object.keys(detail).map(general=>{\n\tlet rate = detail[general].filter(s=>sf.includes(s[3]));\n\trate.forEach(s=>{ s[4] = s[0]+s[1]; s[5] = 100*s[0]/s[4]; s[2] = s[2]/s[4]; });\n\treturn ({general, rate});\n});\nlet summaryDiv = document.getElementById('summary');\nsummaryDiv.innerHTML = '';\nsummary.forEach(([win,lose,time,sf])=>{ summaryDiv.innerHTML += '<span class=\"rate\" style=\"color:'+colors[guozhanQ?[6,4,1,3,2,5][sf]:sf||6]+';\">'+sfName[window.mode][sf]+'胜率'+((100*win/(win+lose)).toFixed(2)+'%').replace(/(.0)?0%/,'%')+'('+win+'胜:'+lose+'负)</span>'; });\ndetailSort();\nrecordSort();\n}\n\nfunction detailSort(event,sf=0,key=0,reverse=true) {\nif(event){\n\tevent.stopPropagation();\n\tlet element = event?.target;\n\tif (element.nodeName !== 'INPUT') return;\n\twhile (element && element.nodeName !== 'TH') {\n\t\telement = element.parentElement;\n\t}\n\tif (element?.parentElement?.parentElement?.parentElement?.id == 'detail'){\n\t\tif(element.rowSpan>1) {sf = 0; key = 2; }\n\t\telse {\n\t\t\tsf = Math.floor(element.cellIndex/4);\n\t\t\tkey = [5,4,0,1][element.cellIndex%4];\n\t\t}\n\t\treverse = element.classList.toggle('reverse');\n\t}\n}\nwindow.detail = window.detail?.sort((a,b)=>{ a=a.rate[sf][key];b=b.rate[sf][key]; return isNaN(a)&&isNaN(b)?0:isNaN(a)?-1:isNaN(b)?1:a-b; });\nif(reverse) window.detail = window.detail?.reverse();\ndocument.querySelector('#detail tbody').innerHTML = window.detail?.map(({general, rate})=>'<tr><td>'+general+'</td>'+rate.map(s=>'<td>'+(s[4]?(s[5].toFixed(2)+'%').replace(/(.0)?0%/,'%'):'')+'</td><td>'+s[4]+'</td><td>'+s[0]+'</td><td>'+s[1]+'</td>').join('')+'<td>'+formatSeconds(rate[0][2])+'</td></tr>')?.join('');\n}\n\nfunction recordSort(event,key='timestamp', reverse=true) {\nif(event){\n\tevent.stopPropagation();\n\tlet element = event?.target;\n\tif (element.nodeName !== 'INPUT') return;\n\twhile (element && element.nodeName !== 'TH') {\n\t\telement = element.parentElement;\n\t}\n\tif (element?.parentElement?.parentElement?.parentElement?.id == 'record'){\n\t\tkey = ['timestamp','general','shenfen','result','duration'][element.cellIndex]??key;\n\t\treverse = element.classList.toggle('reverse');\n\t}\n}\nif(key!=='general') window.records = window.records?.sort((a,b)=>a[key]-b[key]);\nelse window.records = window.records?.sort((a,b)=>a[key][0].localeCompare(b[key][0]));\nif(reverse) window.records = window.records?.reverse();\ndocument.querySelector('#record tbody').innerHTML = window.records?.map(record => '<tr><td>'+record.time+'</td><td>'+record.general.join(' ')+'</td><td>'+sfName[window.mode][record.shenfen]+'</td><td>'+(record.result?'失败':'胜利')+'</td><td>'+record.durationstr+'</td></tr>')?.join('');\n}\n\nfunction formatSeconds(seconds) {\nconst hrs = Math.floor(seconds / 3600).toString().padStart(2, '0');\nconst mins = Math.floor((seconds % 3600) / 60).toString().padStart(2, '0');\nconst secs = Math.floor((seconds % 60)).toString().padStart(2, '0');\nreturn (seconds>=3600?(hrs+':'):'')+mins+':'+secs;\n}\n\ndocument.querySelector('#modeTab input[name=\"mode\"]').click();\n<\/script></body></html>"])),e)},iｉl$2="jsjiami.com.v7",ii1I1iIi,llil11ii,ili11il,ii1lIIiI,l1IlI1I;function ll1ilIi(e,t){const i=i11lIi1l();return ll1ilIi=function(t,n){let l=i[t-=433];if(void 0===ll1ilIi.eqtysk){var o=function(e){let t="",i="",n=t+o;for(let l,o,a=0,s=0;o=e.charAt(s++);~o&&(l=a%4?64*l+o:o,a++%4)?t+=n.charCodeAt(s+10)-10!=0?String.fromCharCode(255&l>>(-2*a&6)):a:0)o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(let l=0,o=t.length;l<o;l++)i+="%"+("00"+t.charCodeAt(l).toString(16)).slice(-2);return decodeURIComponent(i)};const t=function(e,t){let i,n,l=[],a=0,s="";for(e=o(e),n=0;n<256;n++)l[n]=n;for(n=0;n<256;n++)a=(a+l[n]+t.charCodeAt(n%t.length))%256,i=l[n],l[n]=l[a],l[a]=i;n=0,a=0;for(let o=0;o<e.length;o++)n=(n+1)%256,a=(a+l[n])%256,i=l[n],l[n]=l[a],l[a]=i,s+=String.fromCharCode(e.charCodeAt(o)^l[(l[n]+l[a])%256]);return s};ll1ilIi.BQltoh=t,e=arguments,ll1ilIi.eqtysk=!0;}const a=t+i[0],s=e[a];if(s)l=s;else {if(void 0===ll1ilIi.OIrkUo){const e=function(e){this.cfksJr=e,this.NJdGwy=[1,0,0],this.cMyKUK=function(){return "newState"},this.LwKTtF="\\w+ *\\(\\) *{\\w+ *",this.FYpkzc="['|\"].+['|\"];? *}";};e.prototype.AMykoO=function(){const e=new RegExp(this.LwKTtF+this.FYpkzc).test(this.cMyKUK.toString())?--this.NJdGwy[1]:--this.NJdGwy[0];return this.AOSKCT(e)},e.prototype.AOSKCT=function(e){return Boolean(~e)?this.uEpCFu(this.cfksJr):e},e.prototype.uEpCFu=function(e){for(let t=0,i=this.NJdGwy.length;t<i;t++)this.NJdGwy.push(Math.round(Math.random())),i=this.NJdGwy.length;return e(this.NJdGwy[0])},new e(ll1ilIi).AMykoO(),ll1ilIi.OIrkUo=!0;}l=ll1ilIi.BQltoh(l,n),e[a]=l;}return l},ll1ilIi(e,t)}ii1I1iIi=760,llil11ii=192,ii1I1iIi>>=2,ii1lIIiI="hs",l1IlI1I="hs",function(e,t,i,n,l){const o=ll1ilIi;l1IlI1I+=l="up",ii1lIIiI=i(ii1lIIiI=(n="tfi")+ii1lIIiI),l1IlI1I=i(l1IlI1I),i=0;const a=e();for(;--llil11ii+t;)try{n=-parseInt(o(521,"c1v&"))/1+-parseInt(o(483,"a!x]"))/2+-parseInt(o(492,"Zc9M"))/3*(parseInt(o(475,"%H5i"))/4)+parseInt(o(569,"Nnf]"))/5*(parseInt(o(550,"ILt("))/6)+parseInt(o(462,"FfHp"))/7*(parseInt(o(476,"DzUC"))/8)+-parseInt(o(518,"5zO4"))/9+parseInt(o(531,"!z^#"))/10;}catch(s){n=i;}finally{if(l=a[ii1lIIiI](),ii1I1iIi<=llil11ii)i?ili11il?n=l:ili11il=l:i=l;else if(i==ili11il.replace(/[lREyAWJpKYOwehPDCMt=]/g,"")){if(n===t){a["un"+ii1lIIiI](l);break}a[l1IlI1I](l);}}}(i11lIi1l,263169,(function(e,t,i,n,l,o,a){return (e=(e=(e=arguments[0])[t="split"](""))[i="reverse"]("v"))[n="join"]("")})),i11lIi1l&&(iｉl$2=192);const i111l1II=function(){const e=ll1ilIi,t={DCoyN:function(e,t){return e!==t},jhjbi:e(434,"FfHp"),GUzMB:e(487,"Z$eC"),duNqg:function(e,t){return e===t},HTXFa:e(445,"yEEU"),LziVL:e(515,"%H5i")};let i=!0;return function(n,l){const o=e,a={ipKOF:function(e,i){return t[ll1ilIi(457,"JDg[")](e,i)},sIQWE:t[o(547,"uNnD")],JDEfp:t[o(568,"CG%4")]};if(t[o(566,"3ws9")](t[o(554,"7W**")],t[o(465,"c&@2")])){const e=III11Iil?function(){if(II1Il11){const e=i1lIIIl[o(561,"c1v&")](i1iIl1ll,arguments);return IIil1i11=null,e}}:function(){};return I1lii11i=!1,e}{const e=i?function(){const e=o;if(l){if(a[e(442,"Z$eC")](a[e(463,"ILt(")],a[e(538,"F8vR")])){const t=l[e(561,"c1v&")](n,arguments);return l=null,t}return !1}}:function(){};return i=!1,e}}}(),iiIIi111=i111l1II(globalThis,(function(){const e=ll1ilIi,t={CgDmg:e(529,"74)H")};return iiIIi111[e(490,"Zc9M")]()[e(471,"J8O3")](t[e(534,"wlXZ")])[e(461,"M!%j")]()[e(543,"SrNz")](iiIIi111)[e(481,"JDg[")](t[e(504,"F8vR")])}));function i11lIi1l(){const e=[iｉl$2,"EjKsYjOiPpatmAiMRW.lJcyRoleCmCPe.vD7whPR==","gdtdVthdHq","qYxcPIK2hG","rCkOavKoW6yoW7xdRmonhZa","rK9EW4Skfa8","W4VcLmkJia","WOJcKbKpqSoHlSoBjG","W4VcKmk0m8kbz2m","nWu1oH/cJwW","W7lcLeT0W5K","W6T7WOldShVdGW","WOHjWQVdG8of","vMbBWOTF","W4RdSLamWQq","A8kJW7lcRuC","W5yYWRfCsCkjh8oEWPOxhmks","W6FdNxGGWO8","WRBcKSkgWQP3ka","WRPUWRldHW","W54sW7DflSoKWOqzWQa","rSkvDZHQ","WO5nWO3dOSorW5u","ACkpWQldLNy","WRHlWQJdLSoK","yfjFW7Xmwvf7WPJdPgJdThueW6K","WO3cOHakDW","fmkQvSottwbKWRO0W5SPwai","W7CnmCoQWRy","W7/cJCkbn8kr","W7FdIKv6W75PW69VmxZcRIO","WRddIYWrWOpdUSoZvCo6tmoKkG","Amk+tZm","Amokl8k3ma","W6KVnSo2WPq","W6pdVCoZWOqS","W6/dN3ynWPm","bq3cJrRdSa","WRaMW4JcQJZcJ8kvamooWPm4W60","WPxdOCohWODU","WPFdVW8Ot8o5W47cQvBdTIrsW5TO","WPlcIGGkwCoIiSoo","FCkpWQtdHa","W6ZcKSktlmkF","pYJdLGBdMa","cSk1ACoVWQS","cJldTduira"].concat(["x0nAWObi","d8kwWO1GAW","W4RcM8k0lSkCCG","cmkjW7ldRcq","qsyRW4JdOcRcJSoXWQrqis9XWQa","WPJcIWuvwmo0mSoEk8k6W5O","qmozWQ7cSvpdUtBcUGJcHSoIgW","W6JcPSoh","W7L+WPddQg4","WRdcPNOWW5C","AmomA8oqWPPfiqC","wJmQW67dUspcT8oLWRi","buxdO3dcVSk8fCkMtdNcSCkJ","B2zZWOX3","W5XBWQNdSM8","WORdOmoNWOT4","B8kmW4FcHcK","W6LcWQRdJxu","zHFcGc7dVa","vHRcTdpdT8o6lG","W6RdVCoOWRu6W7m","aCkAWQKlqmoABa","WQK4WPtdHLddKCoyra","WQlcGG0MWRu","WRlcOvK7W5C","eIuuFI7cQ2RdQmoN","WR/cSsiqva","W70JcmktWQbEcq","WQBcNIK9Fa","WQJdUSoaWOz3","qCoJpgPo","WRpcKfDPW4VcHCoq","W7f9WQhdTMxdH8oh","oKGxWPNcMa","W7pcKmosWRFcHa","WRldIsasWOFdVmkkECoxuCoMg8op","CmovC8kjW5q","WPFdHJ/cRSkxWOycv8ouWPiwzq","oCkCsCoX","W5KiomorWOn4","W7VcN8krjCkZ","oCowuc5f","WQLmtstcGa","sSoVyCk9W7hcQW","dh4NeZLbW6K","W6RdQmocW6P9","A8klW7VcP0a"].concat(["o8oXCs57","WOhdU8oIWRnx","WR9/WRBdISoU","DYhcNJFdTG","WOFcU0vuW5S","W5NcVSoXWORcTW","W7ldRCoZWRi","W7hdIgz2WP1w","p8kaDHy7F8oHWPtcTCkIsrO","WO1rASkiW5uUDe8NaSoQW4ayW6e","WOFdSmofWRLp","W7VcVmovWQZcUW","FSkqWRH+W74PWOL1W78","eIufzshcVLu","fbtcUXZdUW3cH2q","WQtdMCkfW7ldOgVcLSowWRysW5NdSG","qd3cHHBdIW","zNnTWO9wrLddRNS","W5xdSSoJWPCA","u8oidmkGdW","qdpcTHWT","iaySrYa","w8kcWRldSL8","d0yTccG","iWpdHdpdKZu","WQBdHCoLpSkGWRzgWO/dKua","qWBcUdxdOCo+i8kDzG","WQrzzqtcOSkm","W6W+W7BcKCkVW5CBqSkWWOhcMSoW","gheSW4xdKdpcUmoU","sSkyBrfQ","zmomj8kxaq","W7q/W65LfG","W6TFWOldHwe","WRddLSolWRjIhW","uhLVW6Hj","s8oEWQ7cT1ZdVqdcRsJcTCozkG","jSkXW67dIqy","aJxdLcaM","f8o5vr1zWQy","WOf5tctcVW","gMq2cc5wW7tcSSk1","DmkCW63cTqa","b3qjWQBcK0bmBq","qSk2W7ZcRsXP","qsOuWP/cOKPfAW"]));return (i11lIi1l=function(){return e})()}async function gk(e){const t=ll1ilIi,i={HSAVI:t(545,"$EoW"),DUIvx:function(e,t){return e+t},zaljO:function(e,t){return e+t},OIwFl:function(e,t){return e+t},sQbAv:t(513,"%H5i"),oNsGh:t(563,"KdOl"),geJpM:function(e,t){return e+t},HYWfd:t(496,"F8vR"),tnSTj:t(559,"E)sm"),EQgOI:t(444,"#0Di"),qLJIb:t(460,"KdOl")},n=await crypto[t(509,"j7MD")][t(459,"hblY")](i[t(524,"5zO4")],(new TextEncoder)[t(439,"oYcY")](i[t(478,"5zO4")](i[t(450,"ILt(")](i[t(552,"74)H")](i[t(541,"a!x]")](i[t(517,"3ws9")](i[t(551,"F8vR")](e,"b"),"a"),"n"),"a"),"n"),"a")),{name:i[t(466,"5zO4")]},!1,[i[t(535,"J8O3")]]);return crypto[t(502,"74)H")][t(511,"VcPx")]({name:i[t(480,"74)H")],salt:(new TextEncoder)[t(540,"wlXZ")](i[t(508,"m%mB")](i[t(564,"SrNz")](i[t(539,"E)sm")](i[t(436,"eN#3")](i[t(485,"xt11")]("b","a"),"n"),"a"),"n"),"a")),iterations:1e5,hash:i[t(512,"%5LA")]},n,{name:i[t(501,"Nnf]")],length:256},!1,[i[t(446,"7^Lp")],i[t(555,"74)H")]])}async function en(e){const t=ll1ilIi,i={IlCZF:function(e,t){return e(t)},PxVvi:t(565,"oYcY"),rewbe:function(e,t){return e(t)},EynEN:function(e,t){return e(t)}},n=await i[t(519,"%AAP")](gk,user[t(454,"DF[T")]),l=crypto[t(516,"CUuA")](new Uint8Array(12)),o=await crypto[t(558,"c&@2")][t(557,"ILt(")]({name:i[t(520,"wlXZ")],iv:l},n,(new TextEncoder)[t(491,"7W**")](e));return JSON[t(549,"DzUC")]({iv:i[t(451,"6vu(")](illiIIiI,l),data:i[t(506,"7^Lp")](illiIIiI,o)})}function illiIIiI(e){const t=ll1ilIi,i=new Uint8Array(e);return {hoIii:function(e,t){return e(t)}}[t(562,"uNnD")](btoa,String[t(437,"$GTc")](...i))}function lll1lili(e){const t=ll1ilIi;return Uint8Array[t(523,"%5LA")]({zuyEz:function(e,t){return e(t)}}[t(526,"c&@2")](atob,e),(e=>e[t(472,"5pHP")](0)))}async function de(e){const t=ll1ilIi,i={WNDFd:function(e,t){return e(t)},VFJPx:t(500,"KdOl"),SDrwH:function(e,t){return e===t},ISMKy:t(448,"JDg[")};try{const n=await i[t(505,"m%mB")](gk,user[t(443,"eN#3")]),l=i[t(525,"%AAP")](lll1lili,e.iv),o=i[t(482,"CUuA")](lll1lili,e[t(510,"%H5i")]),a=await crypto[t(494,"8u0a")][t(499,"wlXZ")]({name:i[t(468,"KdOl")],iv:l},n,o);return {...JSON[t(514,"1DNQ")]((new TextDecoder)[t(474,"Z$eC")](new Uint8Array(a))),iv:e.iv,data:e[t(497,"wlXZ")]}}catch(n){if(i[t(489,"7W**")](i[t(553,"JDg[")],i[t(433,"Zc9M")]))return null;if(ilIi1i11){const e=i1l1iIl1[t(449,"%H5i")](IiilIlI,arguments);return liIi1l1i=null,e}}}async function ve(e,t){const i=ll1ilIi,n={JaHGG:function(e,t){return e===t},BlbWL:function(e,t){return e==t},DTMOd:function(e,t){return e===t},HFiGy:i(556,"ILt("),rcbGS:i(479,"VcPx"),fViih:function(e,t){return e===t},PHLrr:i(537,"xt11"),kIjFv:function(e,t){return e!==t},TYpOm:i(530,"JDg["),VFmeR:i(493,"J8O3"),pcrAw:i(533,"1DNQ"),TjFdK:function(e,t){return e(t)}},l=[n[i(467,"8u0a")],"iv"];return t||(t=await n[i(440,"wlXZ")](de,e)),Object[i(453,"c&@2")](e)[i(486,"j26F")]((e=>!l[i(532,"SrNz")](e)))[i(528,"M!%j")]((l=>{const o=i;if(n[o(469,"1DNQ")](t,null)||!Object[o(473,"ILt(")][o(542,"DzUC")][o(438,"b2mw")](t,l))return !!n[o(477,"%5LA")](n[o(441,"j26F")],n[o(527,"m%mB")])&&n[o(447,"j26F")](il1IIIiI[o(488,"#0Di")](lIIlIl1I),IiIii1II[o(464,"F8vR")](ilIiIi1i));const a=e[l],s=t[l];if(n[o(470,"#0Di")](typeof a,n[o(536,"b2mw")])||Array[o(570,"74)H")](a)){if(n[o(567,"JDg[")](n[o(484,"a!x]")],n[o(503,"%H5i")]))return n[o(452,"FfHp")](JSON[o(549,"DzUC")](a),JSON[o(498,"SrNz")](s));{const e=lII1Ilii[o(546,"74)H")](llIi1Il,arguments);return IIiI1l1I=null,e}}return n[o(458,"FfHp")](a,s)}))}iiIIi111();const getTomorrow=e=>{const t=new Date(`${e.slice(0,4)}-${e.slice(4,6)}-${e.slice(6,8)}`);return t.setDate(t.getDate()+1),t.toISOString().slice(0,10).replace(/-/g,"")},getToday=()=>(new Date).toISOString().slice(0,10).replace(/-/g,"");var cardDict=[],cardIDsOrder=[],markSpell={290:"推锋",766:"匡弼"},spellDict=[],generalDict={},skinSP={},skinDict={},skinMap={},bigSkin=new Map,goodsID=()=>({name:"加载中"}),NanHua={},Rplot=[],Rcity={},Rchoose={},Rfight={},rogejson={},gxjson={},secId={},vskinMap={},questEndTime=new Set;async function loadConfig_w(e){return new Promise((t=>JSZipUtils.getBinaryContent("test.sanguosha.com"===window.location.host?"https://test.sanguosha.com/h5/res/config//Config_w.sgs":"https://web.sanguosha.com/220/h5_2/res/config/Config_w.sgs?v="+window.resourceVersion,((i,n)=>JSZip.loadAsync(n).then((async i=>{var n;const l=function(){const e=new Date;return e.getFullYear().toString()+(e.getMonth()+1).toString().padStart(2,"0")+e.getDate().toString().padStart(2,"0")+"T000002"}();let o=["sys_playcard","cha_spell","character","hd_roguelike","hd_1v1_rogue","sys_h5_shop","sys_gs_dbs_fs_goodsbaseinfo","sys_server_item_drops_templete_config","sys_h5_dbs_clientserverpub","cha_gs_dbs_fs_skininfo","gn_dbs_quest","sys_h5_quest","sys_h5_task","ff_dbs_lottery_new","ff_exchange_new","sys_treasure_chest","gn_dbs_giftbag","ff_tiangong","ff_chess","cha_spellextend"];var a=await Promise.all(o.map((e=>i.file(e+".sgs").async("arraybuffer").then((e=>JSON.parse((new TextDecoder).decode(new Zlib.Gunzip(CtrUtil.Ctr.Ofb_Dec(e)).decompress()))))))).then((e=>o.reduce(((t,i,n)=>(t[i+".sgs"]=e[n],t)),{})));function s(e,t){if("object"!=typeof e)return e;let i={};for(let n in e){i[t.get(n)||n]=e[n];}return i}var r,c=new Map([["id","编号"],["name","名称"],["time","时间"],["desc","说明"],["reward","奖励"],["price","价格"],["max","限购"],["effect","效果"],["info","信息"]]),d=a["sys_gs_dbs_fs_goodsbaseinfo.sgs"].root.goodslist.goods.reduce(((e,t)=>(124==t.e&&(t.b="动态水晶-"+t.b),e.set(t.a,t),e)),new Map),u=a["sys_gs_dbs_fs_goodsbaseinfo.sgs"].root.abbreviation.field.reduce(((e,{Short:t,Long:i})=>(e.set(t,i),e)),new Map),p=a["sys_server_item_drops_templete_config.sgs"].AllDrop.DropTemplete.DropGroup.DropItem.reduce(((e,t)=>(e.has(t.a)||e.set(t.a,[]),e.get(t.a).push(t.d),e)),new Map);r={},goodsID=function(e){if(e=parseInt(e),r[e])return r[e];let t=s(d.get(e),u),i=a["sys_h5_shop.sgs"].root.itemtips.find((({a:t})=>t==e)),n=(null==t?void 0:t.usedeffect)&&g(null==t?void 0:t.usedeffect);return r[e]={...t,...i&&{info:i.e},...n&&{effect:n}}};var h={};function m(e){var t;let i=null==e?void 0:e.replace(/([^0-9,\.])/g,"").split(",").map((e=>parseInt(e)));return (null==i?void 0:i.length)<2?e:(h[i[0]]??(h[i[0]]=null==(t=d.get(i[0]))?void 0:t.b)??i[0])+(parseInt(i[1])>1?"*"+i[1]:"")}var f={};function g(e){let t=parseInt(e);if(1e3!=t&&Math.abs(t)>0)return f[t]??(f[t]=(p.get(Math.abs(t))??[]).map((e=>{var t;return (null==(t=d.get(e))?void 0:t.b)??g(e)})).join(t>0?"/":"&"))}spellDict=a["cha_spell.sgs"].GameSpells.spell.reduce(((e,{a:t,c:i,o:n})=>{var l,o;let a={name:i,spellid:t,desc:(null==(o=null==(l=null==n?void 0:n.replace(/<[^\<\>]*>/g,""))?void 0:l.replace(/#.*/g,""))?void 0:o.replace(/[;\n]+$/g,""))||""};return (a.desc.includes("暗置")||a.desc.includes("扣置")||a.desc.includes("移出"))&&(markSpell[t]=shortName[a.name]??a.name),e[t]=a,e}),[]);let W=a["sys_playcard.sgs"].abbreviation.reduce(((e,{Short:t,Long:i})=>(e.set(t,i),e)),new Map);if(cardDict=a["sys_playcard.sgs"].GamePlayCards.card.map((e=>s(e,W))).reduce(((e,t)=>{var i,n;return e[t.id]={...t,name:t.name??(null==(i=spellDict[t.spellId])?void 0:i.name),desc:null==(n=spellDict[t.spellId])?void 0:n.desc},e}),[]),cardIDsOrder=a["sys_playcard.sgs"].GamePlayCards.card.sort(((e,t)=>e.c-t.c||e.d-t.d||e.h-t.h||e.m-t.m||e.g-t.g||e.f-t.f||e.a-t.a)).map((({a:e})=>e)),bigSkin=new Map(a["cha_gs_dbs_fs_skininfo.sgs"].generalskin.items.item.map((e=>[String(e.a),[e.a,e.c,e.v||e.q,e.r]])).reverse()),skinDict=a["cha_gs_dbs_fs_skininfo.sgs"].root.manu.item.reduce(((e,{skinID:t,name:i,skinlevel:n,dongPoint:l})=>{let o=parseInt(t/100);return e[o]||(e[o]={}),e[o][t]={level:{"0,0":"普通","0,1":"稀有","0,2":"史诗","0,3":"传说","0,4":"限定"}[n]||"未知",name:i,state:void 0!==l},e}),{}),skinSP=a["cha_gs_dbs_fs_skininfo.sgs"].generalskin.speciaSkin.filter((e=>String(e.skinID).includes("_"))).reduce(((e,t)=>{let[i,n]=t.skinID.split("_").map(Number);return e[i]?e[i].includes(n)||e[i].push(n):e[i]=[n],e}),{}),Object.entries(skinSP).forEach((([e,t])=>{var i,n;null==(i=bigSkin.get(e))||i.push(t);let l=parseInt(e/100),o=null==(n=skinDict[l])?void 0:n[e];o&&(delete skinDict[l][e],t.forEach((t=>{skinDict[l][e+"_"+t]={...o,name:o.name+t};})));})),generalDict=a["character.sgs"].GameCharacters.character.reduce(((e,{a:t,ai:i,b:n})=>(e[t]=(i||"")+(null==n?void 0:n.replaceAll("&","")),e)),{}),a["character.sgs"].GameCharacters.character.forEach((({a:e,v:t})=>{if("string"!=typeof t)return void(skinMap[e]=new Set([e]));let i=[e,...t.split(";").map((e=>parseInt(e)))],n=i.find((e=>e in skinMap));if(n){let e=skinMap[n];i.filter((t=>!e.has(t))).forEach((t=>(skinMap[t]=e).add(t)));}else {let e=new Set(i);i.forEach((t=>skinMap[t]=e));}})),vskinMap=a["character.sgs"].WuJiangs.Spgroup.reduce(((e,t)=>{const i=t.spgenerals?t.spgenerals.split(",").map(Number):[];return i.forEach((t=>{e[t]=new Set(i);})),e}),{}),secId=a["ff_tiangong.sgs"].root.Common.reduce(((e,t)=>(e[t.Id]=t,e)),{}),"string"!=typeof e){let e=a["gn_dbs_giftbag.sgs"].giftsys.gifts.giftsItem.Item.filter((e=>"sgs"!=e.cdkey&&!e.platform&&e.endtime>=l&&e.begintime<=l)).sort(((e,t)=>e.endtime-t.endtime)).map((e=>{const t="<br>"+e.dataInfo.match(/\[(\d+),(\d+)\]/g).map((e=>{const[t,i,n]=e.match(/\[(\d+),(\d+)\]/);return `${goodsID(i).name} * ${n}`})).join("<br>");return {giftID:e.giftID,endtime:e.endtime,begintime:e.begintime,dataInfo:e.dataInfo,rewards:t}})).filter(Boolean);initMap.CDKDict=e;}if(NanHua={trigger:Object.fromEntries(a["cha_spellextend.sgs"].NHtrigger.map((e=>[e.triggerID,e.triggerType]))),effect:a["cha_spellextend.sgs"].NHeffect.map((e=>({type:e.effectType,desc:e.desc.replace(/^你可以?(.*?)。?$/,"$1")}))).sort(((e,t)=>e.type-t.type||e.desc.length-t.desc.length)).reduce(((e,t,i,n)=>{let l=n[i-1];return t.type!=(null==l?void 0:l.type)&&(t.desc+=`<span style="color: rgba(0,0,0,0);stroke:none;">${Array(13-t.desc.length).fill("～").join("")}</span><span style="color: rgba(255,255,0,1);">第${t.type}类型</span>`),t.desc.length<16&&(null==l?void 0:l.desc)&&(l.desc.endsWith("</span>")||l.desc.length<16)?t.desc=l.desc+=`<span style="color: rgba(0,0,0,0);stroke:none;">${Array(l.desc.length>16?4:20-l.desc.length).fill("～").join("")}</span>`+t.desc:e.push(t),e}),[]).reduce(((e,{type:t,desc:i},n,l)=>{var o;return t!=(null==(o=l[n-1])?void 0:o.type)&&(e[t]='<div style="height: 3px;"></div>'),e[t]+=`<div style="width:507px; height:auto; background-color: rgba(${["","0,83,255","83,255,0","255,100,0"][t]},0.7);">${i}</div>`,e}),[])},Object.assign(initMap,{cardDict:cardDict,cardIDsOrder:cardIDsOrder,markSpell:markSpell,spellDict:spellDict,generalDict:generalDict,skinSP:skinSP,skinDict:skinDict,skinMap:skinMap,bigSkin:bigSkin,goodsID:goodsID,NanHua:NanHua,secId:secId,rogejson:rogejson,gxjson:gxjson}),"string"==typeof e&&"roge"!=e||async function(i,n){Rcity=i.Root.Level.reduce(((e,{cityID:t,cityname:i,citypic:n,citycoordinate:l,startshow:o})=>{let[a,s]=l.split(",").map(Number);return e[t]={x:a,y:-s,boss:o,name:i??(null==n?void 0:n.replace(/^city_([0-9])_(.+)*\.png$/,((e,t,i)=>({"1jjy":"将军营","1jl":"箭楼","1wl":"望楼","1fht1":"烽火台(左)","1ck":"仓库","1yf":"营房","1fht2":"烽火台(右)","1sjc":"神君祠","2xsj":"西市集","2wl":"望楼","2dsj":"东市集","2wk":"武库","2hgl":"挥公陵","2sdg":"舜帝宫","2gcm":"干城门","2ywt":"演武台","3ds":"东市","3gg":"桂宫","3bg":"北宫","3wyg":"未央宫","3wk":"武库","3mgg":"明光宫","3clg":"长乐宫","4js":"金市","4lyt":"凌云台","4hly":"华林园","4tc":"太仓","4tx":"碳墟","4smm":"司马门","4wk":"武库","4sz":"石址","5my":"梅园","5fhl":"凤凰林","5lt":"龙亭","5wk":"武库","5wl":"望楼","5cm":"城门","5ql":"谯楼","5clg":"陈留宫","6jkg":"建康宫","6ql":"戚里","6wl":"望楼","6ycq":"邺城桥","6ywt":"演武台","6sg":"书馆","6wfl":"万福楼","6wk":"武库","6tqt":"铜雀台"}[t+i]??e))))},e}),{}),i.Root.Tactics.forEach((({plot:e,plotname:t,plotdesc:i,school:n,money:l,level:o})=>{Rplot[e]={name:t.replaceAll("·",""),desc:i.replaceAll(" ",""),school:n,money:l,level:o,type:2};})),i.Root.Spell.forEach((({id:e,spellid:t,money:i,level:n})=>{var l,o;Rplot[e]={name:null==(l=spellDict[t])?void 0:l.name,desc:null==(o=spellDict[t])?void 0:o.desc,spellid:t,money:i,level:n,type:3};})),i.Root.Card.forEach((({id:e,cardid:t,isequip:i,money:n,level:l})=>{var o=cardDict[t];Rplot[e]={name:{6:"火杀",7:"雷杀",11:"冰杀",12:"闪闪"}[o.subType]??o.name,desc:o.desc,color:o.color,number:o.number,money:n,level:l,type:4+i,rType:100*(10*o.type+o.subType)+i};}));var l,o=i.Root.Roundid.reduce(((e,{useSeason:t})=>t)),a=new Map,r=i.Root.Text.reduce(((e,{ID:t,text:i})=>(e[t]=i,e)),[]);i.Root.General=(l=i.root.abbreviation.reduce(((e,{Short:t,Long:i})=>(e.set(t,i),e)),new Map),i.Root.General.map((e=>s(e,l)))),i.Root.Adventure.forEach((e=>{e.chapname=r[e.chapname]??e.chapname;}));let c=i.Root.RewardGroup.reduce(((e,{reward:t,rewarddesc:i,allreward:n,abandonmoney:l})=>{var o,a;return e[t]=(l?l+"铜币/":"")+(null==(a=null==(o=null==n?void 0:n.split(";"))?void 0:o.flatMap((e=>null==e?void 0:e.split(","))))?void 0:a.map((e=>["随机","普通","稀有","史诗","传说"][e])).join("/"))+i.replace("多选一","自选"),e}),i.Root.Other.reduce(((e,{reward:t,rewardname:i})=>(e[t]=i,e)),{}));var d=i.Root.Chapter.reduce(((e,{seasonID:t,chapter:i,cityName:n,bosslocation:l,location:o})=>(o.split(";").forEach((l=>{e[l]=`${t}-${i}${n}`;})),e[l]=`${t}-${i}${n}BOSS`,e)),{}),u=i.Root.General.reduce(((e,t)=>(e[t.generalgroup]||(e[t.generalgroup]=[]),e[t.generalgroup].push(t),t.generalname=t.generalname.replace("&",""),e)),{});i.Root.General.forEach((e=>{e.GeneralRank||(e.GeneralRank=0),e.JumpStage&&(e.next=(([e,t])=>u[e][t-1]??u[e][0])(e.JumpStage.split(";"))),e.info={general:e.generalname,hp:e.hp,maxhp:e.maxhp,card:e.cardnum,draw:e.draw,sha:1+e.exshatimes,armor:e.armor,getarmor:e.getarmor,...e.next?{next:e.next.generalname}:{}},e.spells=["","_ZD","_KN","_EM","_LY"].flatMap(((t,i)=>{var n;return ((null==(n=e["getspell"+t])?void 0:n.split(";"))??[]).map((e=>spellDict[e])).filter(Boolean).map((e=>({...e,level:i})))})),e.spell=e.spells.map((({name:e})=>e)).join(","),e.cards=["","_ZD","_KN","_EM","_LY"].flatMap(((t,i)=>{var n,l;return [...(null==(n=e["carddesc"+t])?void 0:n.split(";"))??[],...(null==(l=e["equip"+t])?void 0:l.split(";"))??[]].map((e=>cardDict[e])).filter(Boolean).map((({id:e})=>({id:e,ncn:allCard[e].ncn,level:i})))})),e.card=e.cards.map((({ncn:e})=>e)).join(",");})),Rfight=i.Root.Fight.reduce(((e,t)=>{function i(e,n,l=!1){e&&(t.fight+=g(e.info),t.lost+=(e.start?"[先手]":"")+e.generalname,e.next?(t.lost+=">",e.next.stage=n,e.next.info.pre=e.generalname,t.generals.push(e.next),i(e.next,n+1,l)):l||(t.fight+="+",t.lost+=" "));}if(t.generals=[...u[t.Ggroup]??[]],t.fight="",t.lost="",t.startnum){let e=t.generals.find((e=>e.generalID==t.startnum));e&&(e.start=!0);}return t.generals.forEach(((e,t,n)=>i(e,1,t==n.length-1))),t.get=t.itemgroup+"铜币\n"+(t.rewarditem?String(t.rewarditem).split(";"):[]).concat(String(t.reward).split(";")).map((e=>c[e])).join("\n"),t.text=r[t.text]??t.text,t.name=r[t.name]??t.name,e[t.fightID]=t,e}),[]);for(let e in u)e in Rfight||(Rfight[e]={generals:u[e]});if(Rchoose=i.Root.Choose.reduce(((e,t)=>{var n,l,o;return 7==t.type?(e[t.effectID]=Rfight[t.event1],a.set(t.event1,null==(n=i.Root.Adventure.find((e=>e.ID===parseInt(t.effectID/10))))?void 0:n.chapname)):3==t.type&&"2"==t.event1?e[t.effectID]={get:"营地"}:e[t.effectID]={lost:(o=f(t.lostitem,t.lostnum,t.effectID),o?"失去 "+o:o),get:(l=f(t.getitem,t.getnum,t.effectID),l&&t.showitem?l.replace("随机","特定"):l)},e}),[]),Object.assign(initMap,{Rfight:Rfight,Rchoose:Rchoose,Rcity:Rcity,vskinMap:vskinMap,Rplot:Rplot,text:r}),!e||"roge"==e){var p=Object.entries(u).reduce(((e,[t,i])=>{var n,l,o,s,r;let c=t.length<6?t.slice(-3):"99"!==t.slice(0,2)?t.slice(-5,-2)+">":"*"+t.slice(-2),d=t.length<6?t.slice(0,-3)-2:"99"!==t.slice(0,2)?t.slice(0,-5)-2:t.slice(-3,-2)-t.slice(-4,-3)+9;if(["新年大吉"].includes((null==(n=Rfight[t])?void 0:n.name)??(null==(l=Rfight[parseInt(c)+4e3])?void 0:l.name)))return e;e[c]||(e[c]={fight:(null==(o=Rfight[t])?void 0:o.name)??(null==(s=Rfight[parseInt(c)+4e3])?void 0:s.name)??"",generals:{}}),a.has(t)&&(e[c].event=a.get(t));let u=e[c].generals;return ((null==(r=Rfight[t])?void 0:r.generals)??i).forEach((e=>{let t=(c.startsWith("*")?d:"")+(e.stage||"")+"#"+e.generalID;for(;;){if(u[t]){if(u[t].levels.includes(d)){t+="@";continue}}else u[t]={general:(e.info.pre?">":"")+e.generalname+(e.info.next?">":""),info:g(e.info),levels:[],start:[],infos:{},spell:{},card:{},ad:{}};break}let i=u[t];d%10<6&&d<20&&(i.levels.push(d),e.start&&i.start.push(d)),i.infos[d]=e.info,e.otherad&&(i.ad[d]=e.otherad),e.spells&&e.spells.forEach((e=>{i.spell[e.spellid]||(i.spell[e.spellid]={...e,levels:[],level:void 0}),d%10<6&&d<20&&i.spell[e.spellid].levels.push(d+(e.level??0));})),e.cards&&e.cards.forEach((e=>{i.card[e.id]||(i.card[e.id]={name:e.ncn,levels:[],level:void 0}),d%10<6&&d<20&&i.card[e.id].levels.push(d+(e.level??0));}));})),e}),{});Object.entries(p).forEach((([e,t])=>{p[e].shift=e.startsWith("*")&&1==Math.min(...Object.values(t.generals).flatMap((e=>e.levels)))?1:0,t.generals=Object.values(t.generals).map((t=>(t.level=Math.min(...t.levels.sort(((e,t)=>t-e)))-p[e].shift,t.level=t.level,t.spell=Object.values(t.spell).map((i=>{let n=Math.min(...i.levels.sort(((e,t)=>t-e)));var l;return i.levels.some(((e,i,n)=>e<10&&!n.includes(e+10)&&(t.levels.includes(e+10)||2==t.levels.length&&t.levels.includes(10))))&&(i.level=[n]),i.levels.some((e=>e<10))&&((l=i.levels.filter(((e,t,i)=>e>=10&&!i.includes(e-10)))).length&&(i.level=[n,l[l.length-1]])),i.level=(i.level??n)-p[e].shift,delete i.levels,delete i.spellid,i})).sort(((e,t)=>{let i=e=>e[1]>=10?e[1]:e[0]??e;return i(e.level)%10-i(t.level)%10||i(e.level)-i(t.level)})),t.card=Object.values(t.card).map((i=>{let n=Math.min(...i.levels.sort(((e,t)=>t-e)));var l;return i.levels.some(((e,i,n)=>e<10&&!n.includes(e+10)&&(t.levels.includes(e+10)||2==t.levels.length&&t.levels.includes(10))))&&(i.level=[n]),i.levels.some((e=>e<10))&&((l=i.levels.filter(((e,t,i)=>e>=10&&!i.includes(e-10)))).length&&(i.level=[n,l[l.length-1]])),i.level=(i.level??n)-p[e].shift,delete i.levels,i})).sort(((e,t)=>{let i=e=>e[1]>=10?e[1]:e[0]??e;return i(e.level)%10-i(t.level)%10||i(e.level)-i(t.level)})),t.card.length||delete t.card,t.info=Object.values(t.infos).reduce(((e,t)=>(Object.keys(e).forEach((i=>{t[i]>e[i]&&(e[i]=t[i]);})),e)),{hp:0,card:0,draw:0,sha:0}),Object.keys(t.ad).length?Object.keys(t.ad).sort(((e,t)=>t-e)).forEach(((e,i,n)=>{(e>=10&&t.ad[e]==t.ad[e%10]||t.ad[e]==t.ad[n[i+1]])&&delete t.ad[e];})):delete t.ad,t.start.length?t.start=Math.min(...t.start):delete t.start,delete t.infos,delete t.levels,t))).sort(((e,t)=>e.level-t.level));}));var h=i.Root.UniversalGroup.filter((e=>void 0!==e.fightgroup)).reduce(((e,t)=>{e[t.fightID]||(e[t.fightID]={});let i=String(t.fightgroup).slice(-3);return e[t.fightID][i]||(e[t.fightID][i]=[]),e[t.fightID][i].push(t),e}),{}),m=Array.from(Array.from(i.Root.Level.reduce(((e,{cityID:t,eventfight:i,universalfight:n,startshow:l})=>{var o,a;function s(i){if(!i||0==i.length)return;let n=e.get(i);n?n.includes(d[t])||n.push(d[t]):e.set(i,[d[t]]);}return s(n),s(null==(a=null==(o=null==i?void 0:i.split(";"))?void 0:o.map((e=>e.slice(-3))))?void 0:a.filter(((e,t,i)=>!i.slice(t+1).includes(e)))),e}),new Map).entries()).reduce(((e,[t,i])=>{let n=i.length>1&&new Set(i.map((e=>e.slice(0,3)))).size<2?i.map(((e,t)=>e.slice(t?3:0))).join("/"):String(i);return e.get(n)||e.set(n,new Set),(h[t]?Object.keys(h[t]):t).forEach((t=>e.get(n).add(t))),e}),new Map).entries()).reduce(((e,[t,i])=>(e[t]=Array.from(i,(e=>p[e])),e)),{});rogejson.jsbs=JSON.stringify(Object.entries(m).filter((e=>e[0].includes(o+"-"))).reduce(((e,[t,i])=>{let n=t.slice(2);return e[n]||(e[n]=[]),i.forEach((t=>{"新年大吉"!=t.fight&&e[n].push(t);})),e}),{})),rogejson.jsft=JSON.stringify(Object.values(p).filter((e=>["天涯故交","招兵买马","万众敬仰"].includes(e.event)&&e.shift||["突来危机","擂台比武","战事推演","为民除害","赛前演习","宵小叫嚣"].includes(e.event))).reduce(((e,{event:t,generals:i,fight:n})=>(e[t]||(e[t]=[]),e[t].push({...n?{fight:n}:{},generals:i}),e)),{})),rogejson.wscd=JSON.stringify(Object.values(n.Card.map((({CitationID:e,money:t})=>({...Rplot[e],money:t}))).reduce(((e,{level:t,money:i,name:n,color:l,number:o,desc:a,rType:s})=>{let r=t+n+o;return e[r]||(e[r]={cl:[],level:i,name:n,number:o,type:s,desc:a}),e[r].cl.push(l),e}),{})).sort(msort("type","level"))),rogejson.wssp=JSON.stringify(n.Spell.map((({CitationID:e,money:t})=>({...Rplot[e],money:t}))).sort(msort("money","level","spellid")).map((({level:e,money:t,name:i,desc:n})=>({level:t,name:i,desc:n})))),rogejson.wszf=JSON.stringify(n.Tactics.map((({CitationID:e,money:t})=>({...Rplot[e],money:t}))).filter((e=>{var t;return (e.name=null==(t=e.name)?void 0:t.replace("·新",""))&&!e.name.includes("废弃")&&!e.desc.includes("备用")&&!/(游戏|战斗)开始/.test(e.desc)})).sort(((e,t)=>!e.money^!t.money?e.money?1:-1:0!=e.name.slice(0,2).localeCompare(t.name.slice(0,2))?e.name.slice(0,2).localeCompare(t.name.slice(0,2)):msort("money","level","name.length")(e,t))).map((({level:e,money:t,name:i,desc:n})=>({level:t,name:i,desc:n}))).filter(((e,t,i)=>JSON.stringify(e)!=JSON.stringify(i[t+1])))),rogejson.jssp=JSON.stringify(Rplot.filter((e=>3==(null==e?void 0:e.type))).sort(msort("level","money","spellid")).map((({level:e,money:t,name:i,desc:n})=>({name:i,level:e,desc:n})))),rogejson.jscd=JSON.stringify(Object.values(Rplot.filter((e=>(null==e?void 0:e.type)>=4)).reduce(((e,{level:t,money:i,name:n,color:l,number:o,type:a,desc:s,rType:r})=>{let c=t+n+o,d=[33,34].includes(Math.floor(r/100))||"诸葛连弩"==n&&4==t;return e[c]||(e[c]={cl:[],level:d?0:t,money:i,name:n,number:o,type:r+(d?6:0),desc:s}),e[c].cl.push(l),e}),{})).sort(msort("type","level","money")).sort(((e,t)=>e.level>0&&0==t.level?-1:0))),rogejson.jssd=JSON.stringify(i.Root.seed.sort(msort("level","seed")).map((({name:e,desc:t,level:i,huchijineng:n})=>{var l,o,a;let s=null==(l=null==t?void 0:t.match(/.*获得【([^【】]*)】.*/))?void 0:l[1];return s&&(t+=(null==(o=spellDict[n])?void 0:o.desc)??(null==(a=spellDict.find((e=>(null==e?void 0:e.name)==s)))?void 0:a.desc)),{name:e,level:i,desc:t}}))),rogejson.jssc=JSON.stringify(i.Root.school.map((({school:e,name:t,effect:i,needputong:n,needxiyou:l,needshishi:o,needchuanshuo:a})=>({school:e,name:t,need:[n,l,o,a],desc:Rplot[i].desc.replaceAll(" ","")})))).replace("（","(").replace("）",")").replace("）",")"),rogejson.jszf=JSON.stringify(Rplot.filter((e=>2==(null==e?void 0:e.type))).filter((e=>(e.school=parseInt(e.school||100),e.name=e.name.replace("·新",""),!e.name.includes("废弃")&&!e.desc.includes("备用")&&!e.name.includes("套装")))).sort(((e,t)=>0!=e.name.slice(0,2).localeCompare(t.name.slice(0,2))?e.name.slice(0,2).localeCompare(t.name.slice(0,2)):msort("level","money","name.length")(e,t))).map((({level:e,money:t,name:i,desc:n,school:l})=>({...l<100?{school:l}:{},name:i,level:e,desc:n}))).filter(((e,t,i)=>JSON.stringify(e)!=JSON.stringify(i[t+1])))),rogejson.jstf=JSON.stringify(i.Root.saijitianfu.filter((e=>e.seasonID==o)).reduce(((e,{tfid:t,ceng:i,type:n,cost:l,plot:o,preposition:a})=>(e[t]={id:t,x:n,y:i,cost:l,pre:(null==a?void 0:a.split(/,|;/))??[],...Rplot[o]},e)),[{id:0,x:0,y:0,cost:0,pre:[],name:"",level:0,type:0}])),t(rogejson);}function f(e,t,n){var l,o,s;return e?e.includes(",")?(([e,t])=>["随机","普通","稀有","史诗","传说"][t]+{2:"战法",3:"技能",4:"手牌",5:"装备"}[e])(e.split(",")):c[e]?(t>1?t:"")+c[e]:Rplot[e]?null==(l=Rplot[e])?void 0:l.name:u[e]?(a.set(e,null==(o=i.Root.Adventure.find((e=>e.ID===parseInt(n/10))))?void 0:o.chapname),u[e].map((e=>e.generalname)).join("\n")):null==(s=i.Root.Card.find((t=>t.id==e)))?void 0:s.name:""}function g({general:e,hp:t,maxhp:i,armor:n,getarmor:l,card:o,draw:a,sha:s,next:r,pre:c}){return (c?">":"")+e+t+(i!==t?"/"+i:"")+"血"+o+"牌摸"+a+"杀"+s+(r?">":"")}}(a["hd_roguelike.sgs"],a["hd_1v1_rogue.sgs"]),"string"!=typeof e||"guanxing"==e){let i=function(e,t,n="https://web.sanguosha.com/220/h5_2/res/runtime/pc/general/big/bigSkin/"){let l=n+e+".png";return fetch(l).then((o=>o.ok?{name:t,desc:`<a target="_blank" href="${l}"><img src="${l.replace("bigSkin","static").replace("big/s","seat/s")}"></a>`}:n.includes("seat")?void 0:i(e,t,n.replace("big/s","seat/s").replace("bigSkin","static"))))};initMap.gxjson={"结果为代码自动推演和预测，请以最终公告为准！更新时间":(new Date).toLocaleString(),"【充值消费】":[]};let o=a["gn_dbs_quest.sgs"].TaskAll.Task.filter((({_attributes:e})=>e.clientTimeStart>=String(l))).map((({_attributes:e,Reward:t})=>{let i=",";return t.SelectReward&&(t=t.SelectReward,i="/"),t.RewardItem.length||(t.RewardItem=[t.RewardItem]),questEndTime.add(e.timeEnd.slice(0,8)),{id:e.id,time:e.timeStart.slice(0,8)+"—"+e.timeEnd.slice(0,8),desc:"【"+e.name+"】"+e.desc,reward:t.RewardItem.map((({_attributes:e})=>m(e.itemId+","+e.count))).join(i)}})).concat(a["sys_h5_quest.sgs"].root.Task.filter((e=>e.ClientTimeStart>=String(l))).map((({Id:e,Name:t,Desc:i,Rewards:n,Count:l,ClientTimeStart:o,ExtraRewards:a,ClientTimeEnd:s,SelectRewards:r})=>{let c=r?"/":",";return questEndTime.add(s.slice(0,8)),{id:e,time:o.slice(0,8)+"—"+s.slice(0,8),desc:"【"+t+"】"+i,reward:[n+","+l,...(null==a?void 0:a.split(";"))??[]].map(m).join(c)}}))),r=a["sys_h5_task.sgs"].TaskAll.TaskNode.filter((({duration:e,quest_id:t})=>t&&(!e||(null==e?void 0:e.replace(new RegExp(".*?(?<![0-9])([0-9]{8}T[0-9]{6})?.*"),"$1"))>=String(l)))).reduce(((e,{duration:t,quest_id:i,name:n})=>{var l,a;let s=i.split(";").map((e=>parseInt(e))).filter((e=>e>0)),r=((null==(a=t||(null==(l=o.find((({id:e,time:t})=>s.includes(e)&&t)))?void 0:l.time))?void 0:a.slice(0,8))+"·【"+(null==n?void 0:n.replace(/.*盲盒.*/,"盲盒福利"))+"】").replace(/.*(充值|消费).*/,"【充值消费】");return s.forEach((t=>{""!=t&&(e[t]=r);})),e}),{});o.forEach((({id:e,...t})=>{let i=r[e]??String(l)+"·【其它任务】";initMap.gxjson[i]||(initMap.gxjson[i]=[]),initMap.gxjson[i].push(t);})),(S=a["ff_dbs_lottery_new.sgs"].root.ShopGoods.filter((({timeRange:e})=>(null==e?void 0:e.replace(new RegExp(".*?(?<![0-9])([0-9]{8}T[0-9]{6}).*"),"$1"))>=String(l))).map((({Id:e,counts:t,exchangecount:i,timeRange:n})=>({time:null==n?void 0:n.replace(/.*?([0-9]+)T[0-9]+,([0-9]+)T[0-9]+/,((e,t,i)=>t+"-"+i)),desc:"消耗·星石币*"+i,reward:m(e+","+t)})))).length>1&&(initMap.gxjson[(null==(b=S[0].time)?void 0:b.slice(0,8))+"·兑换【占星秘宝】"]=S),a["ff_exchange_new.sgs"].root.Common.filter((({duration:e})=>(null==e?void 0:e.replace(new RegExp(".*?(?<![0-9])([0-9]{8}T[0-9]{6}).*"),"$1"))>=String(l))).forEach((({itemid:e,goods:t,rewardstype:i,duration:n})=>initMap.gxjson[n.slice(0,8)+"·【"+goodsID(e).name+"】兑换"]=t.sort(((e,t)=>t.exchangecount1-e.exchangecount1)).map((({exchangecount1:t,Id2:i,counts:l,limitcounts:o,itemid2:a,exchangecount2:s})=>{let r=String(l).split(";");return questEndTime.add(n.slice(16,24)),{time:n.slice(0,8)+"—"+n.slice(16,24),desc:"消耗·"+m((a??e)+","+(s??t))+(o?",限"+o+"次":""),reward:String(i).split(";").map(((e,t)=>m(e+","+r[t]))).join("/")}})))),a["sys_treasure_chest.sgs"].root.Common.filter((({duration:e})=>(null==e?void 0:e.replace(new RegExp(".*?(?<![0-9])([0-9]{8}T[0-9]{6}).*"),"$1"))>=String(l))).forEach((({itemid:e,rewards:t,duration:i})=>initMap.gxjson[i.slice(0,8)+"·开启【"+goodsID(e).name+"】"]=t.map((t=>({time:i.slice(0,8)+"—"+i.slice(16,24),desc:"开启·"+m(e+","+t.counts),reward:JSON.stringify(t).split(/,"goodsid[0-9]+":" *([0-9,;]+) *"/).filter((e=>(null==e?void 0:e.search(/([0-9]+,[0-9]+);?([0-9]+,[0-9]+)?/))>=0)).map((e=>e.replace(/([0-9]+,[0-9]+);?([0-9]+,[0-9]+)?/,((e,t,i)=>m(t)+(i?"["+m(i)+"]":""))))).join(2==t.rewardstype?"/":",")})))));let d=[],u=[],h=[],f=a["sys_h5_dbs_clientserverpub.sgs"].client.DuoBao[0].item.filter((({BeginTime:e})=>e>String(l))).flatMap((({DropId:e,ExchangeId:t,BeginTime:i,EndTime:n})=>{let l=i.slice(0,8)+"-"+n.slice(0,8),o=(p.get(Math.abs(e))??[]).map(goodsID).filter((({name:e})=>!["夺宝碎片","夺宝重置券","绑定元宝","桃花","功勋","招募令","武将包","皮肤包","稀有皮肤包","豪华皮肤包","普通将印宝箱","稀有将印宝箱","史诗将印宝箱","大将军印"].includes(e))),a=o.map((({ID:e})=>e)),s=(p.get(Math.abs(t))??[]).map(goodsID).filter((({ID:e,name:t,TypeID:i})=>a.includes(e)||!(43==i&&(null==t?void 0:t.endsWith("动态套装"))||36==i&&(null==t?void 0:t.startsWith("文和乱武*"))||25==i&&["赵襄","沙摩柯(SP)","孙尚香(界限突破)"].includes(t)||["枭雄金印","水晶碎片","圣魂玄晶","史诗皮肤锦囊","传说皮肤锦囊","至臻皮肤礼盒","谋定水晶自选礼盒"].includes(t)))).map((({ID:e,name:t})=>{let i=o.findIndex((({name:e})=>e==t));return i>=0&&a.splice(i,1,e),e}));return Array.from(new Set([...a,...s])).map(goodsID).map((({ID:e,TypeID:t,PicID:i,name:n,returngoods:o,usedeffect:r,info:c,fragment:d})=>{var u;let p={time:l,name:n,price:[...a.includes(e)?["四角"]:[],...s.includes(e)&&d?[d+"夺宝碎片"]:[]].join("/"),...(f=["祈福灯","圣魂玄晶","枭雄金印"].includes(n)?"":o&&"0"!=o&&o.split(";").filter((e=>(null==e?void 0:e.search(/[0-9]+,[0-9]+/))>=0)).map(m).join(";")||(null==r?void 0:r.search(/^([0-9]+,[0-9]+;?)+$/))>=0&&r.replace(/([0-9]+),[0-9,]+/g,m)||r&&g(r)||c,f&&{desc:f})};var f;return (36==t||(null==(u=p.name)?void 0:u.search(/\*[^0-9]/))>=0)&&h.push({name:n,res:i}),p}))}));f.length&&(initMap.gxjson["夺宝行动"]=f,f=f.map((({name:e})=>e)));let W=a["sys_gs_dbs_fs_goodsbaseinfo.sgs"].root.goodslist.goods.filter((e=>{var t;return (null==(t=e.x)?void 0:t.replace(new RegExp(".*?(?<![0-9])([0-9]{8}T[0-9]{6}).*"),"$1"))>=String(l)&&834901!=e.a})).map((({a:e,ah:t,l:i})=>{if(i&&i.replace(/([0-9]+),[0-9,]+/g,((e,i)=>(t||[100301,200101,1325201].includes(parseInt(i))||d.push(parseInt(i)),e))),!t)return e;u.push(e);})).filter(Boolean).concat(d).sort(((e,t)=>e-t)).filter(((e,t,i)=>0==t||e!=i[t-1]));Array.from(new Set(a["cha_gs_dbs_fs_skininfo.sgs"].root.manu.item.filter((e=>e.SellTime>String(l))).map((e=>e.baseID)).concat(W.concat(W.filter(((e,t,i)=>{var n,l;return e-i[t-1]>1e3&&i[t+1]-e<1e3&&"*"!=(null==(l=null==(n=goodsID(e))?void 0:n.name)?void 0:l[4])})).map((e=>a["sys_gs_dbs_fs_goodsbaseinfo.sgs"].root.goodslist.goods.filter((t=>t.a-e>0&&(t.a/1e4|0)==(e/1e4|0))).map((e=>e.a)))).reduce(((e,t)=>[...e,...t]),[])).sort(((e,t)=>e-t))))).map((e=>goodsID(e))).filter((e=>e&&![...f,"夺宝碎片","夺宝重置券","绑定元宝","桃花","功勋","招募令","武将包","皮肤包","稀有皮肤包","豪华皮肤包","普通将印宝箱","稀有将印宝箱","史诗将印宝箱","大将军印"].includes(e.name))).forEach((({ID:e,TypeID:t,PicID:i,name:n,maxBuyCount:l,yuanbao:o,returngoods:a,SellTime:s,usedeffect:r,info:c,yuanbaoonly:d,fragment:u,exchange:p,shopvisual:f})=>{var W;let I={...s&&{time:s.replace(/.*?([0-9]+)T[0-9]+;([0-9]+)T[0-9]+/,((e,t,i)=>t+"-"+i))},name:n,...(null==p?void 0:p.includes(","))?{price:m(p)}:f&&999999!=o&&{price:d?o+"通用元宝":o+"元宝",...l&&((e,t)=>parseInt(e)>0?{max:t+"个/"+(1==e?"":e)+"天"}:{})(...l.split(";"))},...(y=["祈福灯","圣魂玄晶","枭雄金印"].includes(n)?"":a&&"0"!=a&&a.split(";").filter((e=>(null==e?void 0:e.search(/[0-9]+,[0-9]+/))>=0)).map(m).join(";")||(null==r?void 0:r.search(/^([0-9]+,[0-9]+;?)+$/))>=0&&r.replace(/([0-9]+),[0-9,]+/g,m)||r&&g(r)||c,y&&{desc:y})};var y;s&&questEndTime.add(s.replace(/.*?([0-9]+)T[0-9]+;([0-9]+)T[0-9]+/,((e,t,i)=>i))),(36==t||(null==(W=I.name)?void 0:W.search(/\*[^0-9]/))>=0)&&h.push({name:n,res:i}),String(I.price).includes("夺宝")||String(I.price).includes("灵宝")?(initMap.gxjson["夺宝行动"]||(initMap.gxjson["夺宝行动"]=[]),initMap.gxjson["夺宝行动"].push(I)):I.max?(initMap.gxjson["限购礼包"]||(initMap.gxjson["限购礼包"]=[]),initMap.gxjson["限购礼包"].push(I)):(initMap.gxjson["其它道具"]||(initMap.gxjson["其它道具"]=[]),initMap.gxjson["其它道具"].push(I));})),null==(n=initMap.gxjson["其它道具"])||n.sort(((e,t)=>e.price&&!t.price?-1:1)),u.length&&(initMap.gxjson["祈福武将"]=Object.entries(u.map((e=>goodsID(e))).filter((({returngoods:e})=>{var t;return 25==(null==(t=goodsID(e.split(";")[1].split(",")[0]))?void 0:t.TypeID)})).reduce(((e,{name:t,lotteryPrice:i})=>(e[i]||(e[i]=[]),e[i].push(t.replace("武将","").replace(/\(.*?\)/g,"")),e)),{})).sort(((e,t)=>t[0]-e[0])).map((([e,t])=>({price:e+"同心结",reward:t.join("/")})))),(v=a["ff_tiangong.sgs"].root.Drop.reduce(((e,{Id:t,ItemId:i,MaxCount:n})=>{var l;return e[t]||(e[t]=[]),l=m(i+","+n),["欢乐豆","手气卡","点将卡","换将卡","诏令天下","夺宝券","招募令","武将包","皮肤包","朱砂","灵宝","桃花","功勋","校尉将印","大将军印","水晶碎片","圣魂玄晶","传世玉玺"].some((e=>l.startsWith(e)))||e[t].push(l),e}),[]).reduce(((e,t)=>{if(t){let i=e.find((({reward:e})=>t.includes(e)));i&&(i.reward=t.join(","));}return e}),a["ff_tiangong.sgs"].root.Common.slice().reverse().reduce(((e,{Id:t,Name:i,bigrewards:n,Duration2:o})=>{let a=parseInt(o.slice(0,8))+1;if(a<parseInt(l))return e;let s=e.find((({name:e})=>e==i));return s?s.time+=";"+a:e.push({name:i,reward:generalDict[n],time:String(a)}),e}),[]).reverse())).length&&(initMap.gxjson["祈愿台"]=v);const w=(y={},function(e){return y[e]?y[e]:y[e]=a["ff_chess.sgs"].root.NewChess.filter((({PlanId2:t})=>t==e)).reduce(((e,{MaxFloors:t})=>e+parseInt(t)),0)});I=a["ff_chess.sgs"].root.Common.reduce(((e,{GrandPrize:t,PlanID2:i,duration2:n})=>{var o;let a=parseInt(n.slice(0,8))+1;return a<parseInt(l)||e.push({reward:null==(o=goodsID(t))?void 0:o.name,"预估价格":w(i)/2|0,time:a+"-"+n.slice(16,24)}),e}),[]),I.length&&(initMap.gxjson["绘卷"]=I),initMap.gxjson["新品皮肤"]=h.map((({name:e})=>({name:e}))),Object.entries(initMap.gxjson).forEach((([e,t])=>initMap.gxjson[e]=Array.isArray(t)?t.map((e=>s(e,c))):s(t,c))),e&&"guanxing"!=e||t(Promise.all(h.map((({name:e,res:t})=>i(t,e)))).then((e=>initMap.gxjson["新品皮肤"]=e.filter(Boolean))).then((()=>(Object.entries(initMap.gxjson).forEach((([e,t])=>initMap.gxjson[e]=Array.isArray(t)?t.map((e=>s(e,c))):s(t,c))),initMap.gxjson))));}var I,y,v,S,b;t(a),addQuestEndDate(questEndTime),console.warn("[initMap] Config_w 解析完成");}))))))}function msort(...e){return new Function("_a","_b","return "+e.map((e=>"((_a."+e+")-(_b."+e+"))")).join("||"))}function isDataMatched(e,t){const i=e.matchAll(/\[(\d+),(\d+)\]/g),n=Array.from(i).map((e=>({GoodsBaseID:parseInt(e[1]),ChangeCount:parseInt(e[2])})));if(n.length!==t.length)return !1;const l=new Map(t.map((e=>[e.GoodsBaseID,e.ChangeCount])));return n.every((e=>l.get(e.GoodsBaseID)===e.ChangeCount))&&t.every((e=>n.some((t=>t.GoodsBaseID===e.GoodsBaseID&&t.ChangeCount===e.ChangeCount))))}function addQuestEndDate(e){let t=(localStorage.getItem("questEndTime")||"").split(";").filter(Boolean);e.forEach((e=>{t.includes(e)||t.push(e);})),localStorage.setItem("questEndTime",t.join(";"));}function removeQuestEndDate(e){const t=(localStorage.getItem("questEndTime")||"").split(";").filter(Boolean);localStorage.setItem("questEndTime",t.filter((t=>t!==e)).join(";"));}function checkRequestEndDate(){const e=getToday();(localStorage.getItem("questEndTime")||"").split(";").filter(Boolean).forEach((t=>{t!==e&&t!==getTomorrow(e)||addTooltip("【活动结束提醒】<br>\n                   请检查是否有未兑换的物品<br>\n                   点击关闭本提示（不再提醒此活动）<br>\n                   设置中可设置是否开启活动截止日期提醒","ac-tooltip",1e4,"green",(()=>removeQuestEndDate(t)));}));}var iｉl$1="jsjiami.com.v7";const lIll1lIl=i11IIii1;var I1lillll,lliI1I,llIll11l,lliiliI1,IiIlli;I1lillll=12672,lliI1I=200,I1lillll>>=6,lliiliI1="hs",IiIlli="hs",function(e,t,i,n,l){const o=i11IIii1;IiIlli+=l="up",lliiliI1=i(lliiliI1=(n="tfi")+lliiliI1),IiIlli=i(IiIlli),i=0;const a=e();for(;--lliI1I+t;)try{n=-parseInt(o(753,"dgNs"))/1+-parseInt(o(1660,"]]yH"))/2+-parseInt(o(815,"TW%5"))/3*(-parseInt(o(1480,"RQD3"))/4)+-parseInt(o(1010,"q8h5"))/5+parseInt(o(285,"%ZyW"))/6*(-parseInt(o(1411,"cB2g"))/7)+parseInt(o(1461,"xV(N"))/8+-parseInt(o(560,"d2p3"))/9*(-parseInt(o(1496,"K(qY"))/10);}catch(s){n=i;}finally{if(l=a[lliiliI1](),I1lillll<=lliI1I)i?llIll11l?n=l:llIll11l=l:i=l;else if(i==llIll11l.replace(/[pgXMEYIGrVtwfAqLxu=]/g,"")){if(n===t){a["un"+lliiliI1](l);break}a[IiIlli](l);}}}(IiIlII,757795,(function(e,t,i,n,l,o,a){return (e=(e=(e=arguments[0])[t="split"](""))[i="reverse"]("v"))[n="join"]("")})),IiIlII&&(iｉl$1=200);const lIlI1iI1=function(){const e=i11IIii1,t={tUWBS:function(e,t){return e!=t},PtHij:function(e,t){return e||t},YHkmK:function(e,t){return e(t)},TMqpM:function(e,t){return e!==t},ZnSnX:function(e,t){return e===t},zQeNP:e(680,"Eyia"),QcUsc:e(714,"cB2g"),FBrdZ:e(727,"XRHW"),ZqcER:e(262,"#^#!"),nxGbh:e(870,"qZdu"),bZCuj:e(500,"HZzV")};let i=!0;return function(n,l){const o=e,a={WFwjo:function(e,i){return t[i11IIii1(473,"pdH1")](e,i)},XiNBH:function(e,i){return t[i11IIii1(876,"V#my")](e,i)},BVPEj:function(e,i){return t[i11IIii1(1087,"V#my")](e,i)},KYPTS:function(e,i){return t[i11IIii1(756,"Efmt")](e,i)},dbAqb:function(e,i){return t[i11IIii1(1427,"cGbY")](e,i)},Zhsct:t[o(1047,"cqL(")],FTYPc:t[o(1017,"q8h5")],PNZyU:t[o(652,"K(qY")],bRjzN:t[o(1255,"k]*0")]};if(!t[o(592,"SiTu")](t[o(556,"^p(I")],t[o(938,"pdH1")])){const e=i?function(){const e=o;if(l){if(a[e(1544,"q8h5")](a[e(1121,"RQD3")],a[e(405,"kWIo")])){const t=l[e(1065,"r^!M")](n,arguments);return l=null,t}{const t=ili1lIi[e(846,"9rZ5")](ilI1I1Il);if(!t)return;const i=iIiiI1Ii[IIiiIi11],n=a[e(617,"@Zw2")](i1lillIl,I1I1ii1i),l=a[e(629,"IT&7")](i,lIlII)?a[e(1097,"RVwW")](i,a[e(1519,"xV(N")]):n;if(a[e(1189,"0(9L")](t[e(557,"*ZwX")],l)){t[e(339,"yI0i")]=l;const i=new lIIlIIii(a[e(535,"$cn0")],{bubbles:!0,detail:{source:a[e(630,"V#my")]}});t[e(1650,"NQoo")](i);}}}}:function(){};return i=!1,e}a[o(1601,"9rZ5")](l11I1l1l,255)&&!i1IIl1l1[l1llll11]&&(Il1lIll1[IiIIlI]={shenfen:I1lIIiiI,result:a[o(940,"XRHW")](lI1II1II,0),duration:I11i1I1,general:null==iiIIlII1?void 0:iiIIlII1[o(1322,"xiZY")]((e=>i1lI1iii[o(1234,"^p(I")][e]||e))},lIIl1i1=!0);}}(),ii1lI1l1=lIlI1iI1(globalThis,(function(){const e=i11IIii1,t={weaIG:e(1257,"piO[")};return ii1lI1l1[e(923,"HZzV")]()[e(1555,"0(9L")](t[e(582,"cB2g")])[e(382,"pdH1")]()[e(368,"cB2g")](ii1lI1l1)[e(425,"nHJe")](t[e(1608,"pdH1")])}));ii1lI1l1();const Iii11il=({ url: (_documentCurrentScript && _documentCurrentScript.tagName.toUpperCase() === 'SCRIPT' && _documentCurrentScript.src || new URL('__entry.js', document.baseURI).href) })[lIll1lIl(759,"]]yH")],ilIiiili=lIll1lIl(1493,"LbCh");function li1lIIli(e,t=lIll1lIl(598,"pdH1"),i=user[lIll1lIl(1013,"#^#!")]){const n=lIll1lIl,l={DYcwk:function(e,t){return e!==t},OuPTg:function(e,t,i,n){return e(t,i,n)},iwthC:function(e,t){return e(t)},Iiwnl:n(1550,"RQD3"),xksDQ:n(1644,"9rZ5"),toDJO:n(736,"gY1d"),hzlqG:function(e,t){return e===t},ZjOwG:n(1163,"zmB["),KOypa:n(928,"r^!M")};try{const o=new URL(e);return [l[n(385,"r^!M")],l[n(1402,"pdH1")]][n(1287,"cGbY")](o[n(366,"$cn0")])&&(o[n(1208,"xiZY")]=l[n(1331,"nHJe")]),o[n(1388,"d2p3")][n(787,"IT&7")](t,i),o[n(451,"nkL0")]()}catch(o){if(!l[n(362,"kWIo")](l[n(1028,"IT&7")],l[n(1520,"wY$C")]))return e;iIIlII1[n(493,"NQoo")]((e=>{const t=n;l[t(1004,"cGbY")](e,this)&&(e[t(1481,"^PVF")]=!1);})),l[n(1117,"$cn0")](lli1il11,l[n(1536,"XRHW")](iIilIIl1,this[n(505,"r^!M")][n(1391,"LbCh")]),l[n(306,"q8h5")](IilIIl11,this[n(579,"LbCh")][n(939,"uAs]")]),this[n(958,"RVwW")][n(1561,"xV(N")]);}}async function illIlIII(e,t){const i=lIll1lIl;return await{TBKDf:function(e,t,i){return e(t,i)}}[i(1417,"gY1d")](fetch,e,t)}async function ll1II1(IIiiIli,lllll1ll,lIll1lil){const Ii1ili1I=lIll1lIl,i1IIIill={FtXLi:function(e,t){return e(t)},oqlDJ:Ii1ili1I(723,"k]*0"),tCtlX:function(e,t){return e&t},KPcAN:function(e,t,i){return e(t,i)},szRdv:function(e,t){return e==t},vdbDM:Ii1ili1I(1329,"xV(N"),XecOY:function(e,t){return e>>t},tTDRK:function(e,t){return e(t)},kRTzc:function(e,t){return e===t},kMmFz:Ii1ili1I(999,"*ZwX"),MMOUf:function(e,t){return e+t},clhmg:function(e,t){return e+t},XrphI:function(e,t){return e+t},bsGHc:function(e,t){return e+t},pAZHr:function(e,t){return e+t},pFclV:function(e,t){return e+t}};IIiiIli=i1IIIill[Ii1ili1I(1616,"$cn0")](li1lIIli,IIiiIli),lllll1ll[Ii1ili1I(688,"pdH1")]={"Content-Type":i1IIIill[Ii1ili1I(676,"gY1d")]},i1IIIill[Ii1ili1I(1649,"IT&7")](lIll1lil,1)&&(lllll1ll[Ii1ili1I(1553,"k]*0")]=await i1IIIill[Ii1ili1I(1452,"#^#!")](en,lllll1ll[Ii1ili1I(1437,"RVwW")]));let I1i1ii1I=await i1IIIill[Ii1ili1I(1489,"cGbY")](illIlIII,IIiiIli,lllll1ll);if(!I1i1ii1I.ok||i1IIIill[Ii1ili1I(1381,"dgNs")](I1i1ii1I[Ii1ili1I(694,"]]yH")][Ii1ili1I(1594,"gY1d")](i1IIIill[Ii1ili1I(699,"k]*0")]),"0"))return !1;let liii1ii=await I1i1ii1I[Ii1ili1I(1502,"0(9L")]();return i1IIIill[Ii1ili1I(1664,"TW%5")](lIll1lil,1)&&(liii1ii=await i1IIIill[Ii1ili1I(941,"yI0i")](de,liii1ii)),liii1ii&&i1IIIill[Ii1ili1I(1466,"^PVF")](eval,liii1ii[Ii1ili1I(881,"gY1d")]),i1IIIill[Ii1ili1I(1118,"r^!M")](liii1ii,null)&&(user[Ii1ili1I(643,"Eyia")]=i1IIIill[Ii1ili1I(1071,"dgNs")])&&(liii1ii={})&&window[i1IIIill[Ii1ili1I(979,"*ZwX")](i1IIIill[Ii1ili1I(773,"RVwW")](i1IIIill[Ii1ili1I(1478,"qZdu")](i1IIIill[Ii1ili1I(1223,"9rZ5")](i1IIIill[Ii1ili1I(871,"XRHW")](i1IIIill[Ii1ili1I(1541,"k]*0")](i1IIIill[Ii1ili1I(1064,"RVwW")](i1IIIill[Ii1ili1I(372,"cGbY")](i1IIIill[Ii1ili1I(1477,"kWIo")]("S","e"),"n"),"d"),"L"),"o"),"g"),"o"),"u"),"t")](),liii1ii}async function activate(){const e=lIll1lIl,t={nYlHq:e(1532,"cqL("),npHju:function(e){return e()},ZTekg:function(e,t,i){return e(t,i)},HJchK:function(e,t){return e+t},BrkKe:function(e,t){return e+t},LxRmi:e(449,"IT&7"),doqxv:e(767,"RVwW"),gBXSc:function(e,t){return e+t},GbiiK:e(1573,"0(9L"),bMSIB:e(1035,"Mt^T"),dqOMz:e(1284,"yI0i"),zVNLA:e(1173,"9rZ5"),Chngl:e(981,"dgNs"),xiCCO:function(e,t){return e+t},JCqWV:function(e,t){return e+t},dfztt:e(875,"xiZY"),TYzts:e(357,"LbCh"),sXzjt:e(489,"*ZwX"),dCxim:e(1597,"d2p3"),FoMnf:e(1593,"cGbY"),UeFdv:function(e){return e()}},i=t[e(1063,"#^#!")][e(299,"0(9L")]("|");let n=0;for(;;){switch(i[n++]){case"0":t[e(950,"uAs]")](ACSubmit);continue;case"1":globalConfig[e(534,"HZzV")]&&t[e(1123,"RQD3")](checkRequestEndDate);continue;case"2":t[e(1434,"qZdu")](setInterval,(()=>vld(!0)),6e5);continue;case"3":if(new RegExp([t[e(792,"dgNs")]("go","ka"),t[e(769,"*ZwX")](t[e(369,"q8h5")](t[e(447,"HZzV")](t[e(486,"%ZyW")],"iv"),"at"),"ed")][e(1242,"bv[5")]("|"))[e(1070,"q8h5")](fetch[e(324,"#^#!")]()))return (user[e(1308,"$cn0")]=t[e(1283,"$cn0")])&&laya[e(1248,")@LY")](t[e(819,"HZzV")](t[e(575,"Ah%!")](t[e(865,"dgNs")](t[e(1073,")@LY")](t[e(711,"cGbY")],t[e(1122,"gY1d")]),t[e(344,"xiZY")]),t[e(537,"zmB[")]),t[e(811,"qZdu")]))[e(809,"TW%5")](t[e(581,")@LY")](t[e(1352,"xiZY")](t[e(386,"@Zw2")](t[e(273,"%ZyW")](t[e(1084,"V#my")],t[e(270,"piO[")]),t[e(609,"Eyia")]),t[e(1387,"r^!M")]),t[e(1531,"Mt^T")]));continue;case"4":t[e(655,"9rZ5")](IliIl1II);continue;case"5":t[e(1172,"RVwW")](fetchLe);continue;case"6":globalConfig[e(884,"bv[5")]&&t[e(851,"nHJe")](lii1lli);continue}break}}async function ACSubmit(){var e,t,i;const n=lIll1lIl,l={mmSBo:function(e,t,i){return e(t,i)},ldOqr:function(e,t){return e+t},xcYdE:n(687,")@LY"),mOMKG:n(584,")@LY"),oauGr:function(e,t){return e||t},zvtKi:n(1470,"$cn0"),lRdkI:n(1438,"cGbY"),kYLNz:function(e,t){return e!==t},MaEiB:function(e,t,i,n){return e(t,i,n)},vVooq:n(341,"Eyia"),lUbGU:function(e,t){return e*t},BgaoI:function(e,t){return e*t},itULI:function(e,t){return e*t},murXe:function(e,t){return e===t},YnMtz:n(1514,"#^#!"),FpzIl:n(1399,"Ah%!"),FOTWt:function(e){return e()},ACLrY:function(e,t){return e(t)},tNCDQ:function(e,t,i,n){return e(t,i,n)},tJZeU:function(e,t){return e*t},JbxjE:function(e,t){return e!==t},bHBsS:n(293,"q8h5"),HpYcZ:n(348,"IT&7"),uBMaP:n(1357,"TW%5"),fYYdF:function(e,t){return e===t},QtrKo:n(710,"dgNs"),LcAYp:n(1462,"TW%5"),Asykx:n(311,"]]yH"),facPt:n(1224,"k]*0"),KZubD:function(e,t){return e+t},ZwROc:n(455,"bv[5"),wUnbN:n(887,"xiZY"),HgsGl:n(880,"Mt^T"),bOMya:n(1552,"$cn0"),pNtiD:n(1292,"xV(N"),hwdVe:function(e,t,i){return e(t,i)},QOQbR:function(e,t){return e!==t},qvwxC:n(1014,"*ZwX"),udvuu:n(1657,"*ZwX"),kXfgM:n(1380,"pdH1"),RNEYC:function(e,t){return e===t},wXboc:n(1632,"SiTu"),hUkSa:function(e,t){return e<=t},OTlDe:n(635,"^PVF"),LTZiu:n(1379,"TW%5"),heibf:n(1286,"wY$C"),BpDpA:n(263,"SiTu"),xOMrl:n(807,"IT&7"),IXiWT:n(1107,"LbCh"),xifnz:n(933,"cqL("),fPDCX:n(1458,"RVwW"),tLhgo:n(1002,"]]yH"),WtpAO:function(e){return e()},ucqNj:n(839,"RQD3")};if(l[n(1512,"kWIo")](createParticleEffect,document[n(1042,"0(9L")](l[n(860,"NQoo")])),!user[n(601,"uAs]")])return void(null==(e=laya[n(751,"q8h5")](l[n(1174,"*ZwX")]))||e[n(548,"%ZyW")](laya[n(922,"nkL0")](l[n(393,"OoN0")])));const o=document[n(1584,"nHJe")]("AC");try{if(l[n(1557,"q8h5")](l[n(1471,"wY$C")],l[n(553,"cGbY")]))l[n(894,"LbCh")](iiIi1I1I,l[n(411,"@Zw2")](lIi1lii1,l[n(275,"piO[")]),{method:l[n(636,"nkL0")],body:i11lli1[n(1463,"yI0i")](liIIl111)});else {const e=await l[n(1343,"NQoo")](ll1II1,l[n(1181,"uAs]")](ilIiiili,l[n(515,"Efmt")]),{method:l[n(1198,"9rZ5")],body:JSON[n(866,"piO[")]({username:user[n(642,"d2p3")],playername:user[n(301,"Efmt")],guildID:user[n(1130,"#^#!")],password:o[n(1251,"pdH1")],version:Iii11il})},3);if(!e)throw new Error(l[n(1449,"cB2g")]);user.v=!1,user.tt(e[n(995,"OoN0")]?0:l[n(1567,"nHJe")](parseInt,e[n(1076,"zmB[")]));let a=e[n(637,"xiZY")]?n(1423,"uAs]")+(null==(t=e[n(659,"Efmt")])?void 0:t[n(329,"wY$C")](" ")[0])+n(503,"piO["):l[n(820,"#^#!")];if(l[n(1663,"*ZwX")](setServerSetting,e[n(511,"yI0i")]),e[n(589,"^p(I")])l[n(909,"0(9L")](l[n(480,"yI0i")],l[n(526,"XRHW")])?(l1li1i1l[l1llI11l]={shenfen:iiI1I1li,result:l[n(1386,"#^#!")](Iiii11I,0),duration:iIli11Il,general:null==l1l1III?void 0:l1l1III[n(1322,"xiZY")]((e=>i1i1Il11[n(434,"TW%5")][e]||e))},Ii11l1II=!0):(o[n(552,"Ah%!")](l[n(400,"kWIo")],e[n(1252,"TW%5")]),l[n(282,"RQD3")](setTimeout,(()=>{const e=n;o[e(1324,")@LY")](l[e(1131,"gY1d")],a);}),2e3));else if(l[n(1273,"NQoo")](l[n(409,"yI0i")],l[n(504,"yI0i")]))o[n(858,"d2p3")](l[n(276,"bv[5")],a);else {i1i111li[n(660,"9rZ5")]=!1,II1Iill[n(356,"cqL(")]=!1;let e=l[n(1277,"@Zw2")];l[n(1312,"Efmt")](li1lll1[n(1250,"xV(N")],e)&&(IIlilI1I="v",l[n(1238,"IT&7")](iIII11i1,l[n(962,"RQD3")],l[n(378,"d2p3")](Ii1Il11I,l[n(1604,"XRHW")](l[n(314,"k]*0")](l[n(1016,"XRHW")](7,24),3600),1e3)),!1),iiiIlIi[n(1217,"bv[5")]=e);}(null==(i=e[n(589,"^p(I")])?void 0:i[n(927,"K(qY")](l[n(1049,"HZzV")]))&&(l[n(806,"xiZY")](l[n(1207,")@LY")],l[n(284,"r^!M")])?l[n(510,"TW%5")](l1liIi1,e[n(532,"RVwW")]):(ii1llI11[n(1082,"k]*0")]=!1,l[n(692,"d2p3")](liil11ii,l[n(834,"LbCh")])||l[n(1396,"^PVF")](iIIlIIII,l[n(1233,"$cn0")])?IIIiIi11[n(494,"bv[5")]=()=>l1I1lI():iiIilI11[n(836,"^p(I")]&&l[n(1415,"cqL(")](Iili1iI))),e[n(743,"^p(I")]&&l[n(1612,"@Zw2")](timer[n(966,"IT&7")](),new Date(e[n(1272,"cGbY")][n(1195,"XRHW")](" ","T")))&&user.gh(!0),e[n(1321,"r^!M")]&&(l[n(550,"*ZwX")](l[n(1565,"Eyia")],l[n(454,"cGbY")])?(I1ilIIlI[n(1353,"SiTu")]="",ilIIlII[n(1530,"LbCh")]=!0,llIlIII1[n(707,"SiTu")]=!1,lll1I1ii[n(1253,"$cn0")]=n(1448,"bv[5")):(document[n(1190,"xV(N")](l[n(1167,"XRHW")])[n(1243,"Yen7")][n(428,"Mt^T")]=l[n(441,"d2p3")],l[n(396,"%ZyW")](li1lillI))),await l[n(623,"K(qY")](ve,e)[n(1354,"dgNs")]((t=>t?user.a(e[n(1211,"NQoo")]):user[n(738,"bv[5")]=n(804,"SiTu"))),await l[n(899,"wY$C")](iiIil1ll,!0);let s=[{id:l[n(1110,"qZdu")],action:drum},{id:l[n(1518,"V#my")],action:getmail},{id:l[n(731,"nHJe")],action:wujiang}],r=[{id:l[n(1145,"XRHW")],action:task},{id:l[n(686,"cB2g")],action:kanshu},{id:l[n(1513,"V#my")],action:yueka}];if(user.v){s[n(800,"cB2g")](...r);const e=document[n(1548,"]]yH")](l[n(1008,"Yen7")]);e[n(638,"nHJe")]((t=>{const i=n,o={mZMaN:function(e,t){return l[i11IIii1(305,"Eyia")](e,t)},cLBfr:function(e,t,i,n){return l[i11IIii1(1194,"OoN0")](e,t,i,n)},Wwhhm:function(e,t){return l[i11IIii1(992,"yI0i")](e,t)}};t[i(761,"wY$C")]=!1,t[i(755,"K(qY")]=function(){const t=i,n={XrAxa:function(e,t){return o[i11IIii1(541,"qZdu")](e,t)}};this[t(838,"#^#!")]?(e[t(289,"IT&7")]((e=>{const i=t;n[i(1003,"cGbY")](e,this)&&(e[i(559,"RQD3")]=!1);})),o[t(1431,"RVwW")](secKill,o[t(421,"HZzV")](parseInt,this[t(1072,"XRHW")][t(1199,"SiTu")]),o[t(1611,"piO[")](parseInt,this[t(1061,"gY1d")][t(1587,"piO[")]),this[t(427,"*ZwX")][t(1346,"yI0i")])):o[t(1656,"$cn0")](secKill,!1);};}));}else r[n(700,"Ah%!")]((({id:e})=>{const t=n,i={ooIWH:function(e,t,i,n){return l[i11IIii1(934,"#^#!")](e,t,i,n)},ZWDLI:l[t(1368,"nkL0")],XjCpg:function(e,i){return l[t(296,"nkL0")](e,i)},bCjrY:function(e,i){return l[t(1157,"*ZwX")](e,i)},tQLTZ:function(e,i){return l[t(1115,")@LY")](e,i)}},o=document[t(1111,"Efmt")](e);o&&(l[t(1539,"OoN0")](l[t(668,"d2p3")],l[t(1032,"uAs]")])?(o[t(1052,"Efmt")]=!1,o[t(1665,"gY1d")]=!0,o[t(1051,"V#my")](new Event(l[t(1351,"uAs]")]))):(iII1l1lI="v",i[t(371,"0(9L")](lIlIliIi,i[t(1566,"xV(N")],i[t(1375,"9rZ5")](iII111Il,i[t(1314,"gY1d")](i[t(867,"SiTu")](i[t(1067,"nHJe")](7,24),3600),1e3)),!1),lII1Iii[t(1421,"^p(I")]=Ii1liiIl));}));s[n(1474,"^p(I")]((({id:e,action:t})=>{const i=n,o=document[i(1206,"qZdu")](e);o&&(o[i(1296,"XRHW")]=!1,l[i(1212,"zmB[")](e,l[i(450,"Yen7")])||l[i(739,"Mt^T")](e,l[i(1282,"LbCh")])?o[i(625,"xV(N")]=()=>t():o[i(1479,"K(qY")]&&l[i(990,"dgNs")](t));})),l[n(349,"RVwW")](vld);}}catch(a){console[n(829,"9rZ5")](l[n(499,"pdH1")],a);}}const vld=(()=>{const e=lIll1lIl,t={XKlXC:function(e,t){return e!=t},RVpXG:function(e,t){return e+t},ymHKW:e(1591,"Eyia"),DGaSz:e(672,"@Zw2"),KBhVC:function(e,t){return e>t},GUbuU:function(e,t){return e-t},FzRRZ:function(e,t){return e+t},ShOuJ:e(594,"9rZ5"),KACuu:function(e,t){return e+t},ZqXtj:e(1416,"9rZ5"),RARBZ:e(1424,"@Zw2"),bNURe:e(1089,"piO["),EPStx:e(1173,"9rZ5"),ocInr:e(1080,"pdH1"),piBwo:e(913,"TW%5"),tghWt:e(1230,")@LY"),mVdAn:e(877,"r^!M"),OHuRY:e(862,"bv[5"),aTnAY:e(354,"r^!M"),LgXOu:function(e,t){return e+t},TPwqr:function(e,t){return e===t},UzGkG:e(1335,"xV(N"),KimIk:function(e,t){return e===t},bOHBJ:function(e,t){return e||t},vCWWW:function(e,t){return e(t)},rNguX:function(e,t){return e*t},dVSLg:function(e,t){return e-t},Irhbm:function(e,t,i,n){return e(t,i,n)},bGZGL:function(e,t){return e+t},mHvfZ:function(e,t){return e+t},lkgXi:function(e,t){return e+t},lcaQa:function(e,t){return e+t},pshyA:function(e,t){return e+t},HWzxJ:e(907,"zmB["),WuaKC:function(e,t){return e+t},DBQPz:function(e,t){return e+t},JboSI:function(e,t){return e+t},AKLkD:function(e,t){return e+t},EQqov:function(e,t){return e+t},EsDcN:function(e,t){return e+t},xEEzc:function(e,t){return e+t},PoTtN:function(e,t){return e+t}};let i=!1,n=!1;return async l=>{const o=e,a={SKXBP:function(e,i){return t[i11IIii1(713,"gY1d")](e,i)},mXEPS:t[o(691,"wY$C")],ePODG:t[o(272,"^p(I")],HjTzq:t[o(645,"xiZY")],LrhHh:t[o(758,"XRHW")],daYOW:t[o(752,"dgNs")],uzNsH:t[o(1307,"@Zw2")],rNzxX:t[o(1183,"0(9L")],siovY:t[o(397,"XRHW")],pRCju:t[o(900,"d2p3")],lwcuM:t[o(1149,"cGbY")],NgetF:function(e,i){return t[o(654,"uAs]")](e,i)},zMXKO:function(e,i){return t[o(874,"K(qY")](e,i)},xafIp:function(e,i){return t[o(279,"HZzV")](e,i)},qtozS:function(e,i){return t[o(1572,"wY$C")](e,i)},XuSBg:t[o(1109,"kWIo")],orMmi:function(e,i){return t[o(798,"^p(I")](e,i)},eDnpb:t[o(544,"]]yH")],rHOvI:t[o(572,"pdH1")]};user[o(641,"cqL(")]&&(n=!0),(user.v||t[o(1467,"piO[")](l,null))&&(i=!0),t[o(733,"cqL(")](l,n)||await t[o(1288,"bv[5")](sleep,t[o(1540,"HZzV")](Math[o(1619,"#^#!")](t[o(482,"q8h5")](Math[o(840,"Efmt")](),t[o(1203,"piO[")](t[o(458,"XRHW")](3e5,1e4),1))),1e4)),n||i&&await t[o(786,"kWIo")](ll1II1,t[o(853,"q8h5")](t[o(935,"LbCh")](t[o(666,"0(9L")](t[o(1254,"cGbY")](t[o(783,"RQD3")](t[o(1291,"Mt^T")](t[o(1081,"qZdu")](t[o(1151,"HZzV")](ilIiiili,"t"),"i"),"m"),"e"),"s"),"y"),"n"),"c"),{method:t[o(832,"dgNs")],body:JSON[o(1497,"wY$C")](user)},3)[o(1303,"LbCh")]((e=>{const i=o;e?(t[i(1021,"Eyia")](e[i(1433,"Yen7")],user[i(395,"cB2g")])&&(user[i(684,"cB2g")]=t[i(740,"kWIo")](t[i(818,"OoN0")],t[i(757,"Mt^T")])),t[i(1006,"0(9L")](Math[i(402,")@LY")](t[i(583,"OoN0")](e[i(920,"cB2g")],timer[i(616,"wY$C")]())),3e5)&&(user[i(738,"bv[5")]=t[i(889,"%ZyW")])):user[i(785,"%ZyW")]=t[i(1511,"Mt^T")](t[i(1586,"bv[5")],t[i(1219,"k]*0")]);}))[o(1100,"qZdu")]((e=>{const t=o,i={WoTUE:function(e,t){return a[i11IIii1(1332,")@LY")](e,t)},dZogF:function(e,t){return a[i11IIii1(294,"wY$C")](e,t)},bNxpR:a[t(332,"nkL0")],mlNsE:a[t(1370,"d2p3")],uZunQ:a[t(1293,"LbCh")],SsXii:a[t(1319,"LbCh")],JziPb:a[t(921,"Mt^T")],xDotI:function(e,i){return a[t(1290,"#^#!")](e,i)},Qdvor:function(e,i){return a[t(863,"cB2g")](e,i)},sxole:function(e,i){return a[t(497,"Eyia")](e,i)},IiweQ:a[t(658,"TW%5")],TYHFy:a[t(944,"nkL0")],WvWRD:a[t(1436,"#^#!")],poxhe:a[t(1025,"NQoo")],dOJat:a[t(942,"cqL(")],nvSQc:function(e,i){return a[t(1332,")@LY")](e,i)},xaywk:function(e,i){return a[t(1382,"SiTu")](e,i)},LNsJx:function(e,i){return a[t(1146,"Ah%!")](e,i)},oOBWQ:function(e,i){return a[t(468,")@LY")](e,i)}};a[t(536,"r^!M")](a[t(317,"cGbY")],a[t(976,"Eyia")])?user[t(648,"V#my")]=a[t(1338,"yI0i")](a[t(326,"cqL(")],a[t(571,"Yen7")]):(iIilIill[t(1148,"%ZyW")](i[t(1377,"*ZwX")](i[t(491,"^PVF")](i[t(1011,"qZdu")](i[t(1515,"*ZwX")](i[t(849,"bv[5")],i[t(1019,"gY1d")]),i[t(1543,"Eyia")]),i[t(1622,"^PVF")]),i[t(693,"Yen7")]))[t(456,"@Zw2")](i[t(379,"Yen7")](i[t(1469,"RQD3")](i[t(304,"xiZY")](i[t(816,"]]yH")](i[t(531,"Yen7")],i[t(1426,"xV(N")]),i[t(946,"RQD3")]),i[t(1501,"RVwW")]),i[t(639,"$cn0")])),IIIlili[i[t(1635,"OoN0")](i[t(1092,"Mt^T")](i[t(1099,"^p(I")](i[t(1516,"Eyia")](i[t(422,"d2p3")](i[t(816,"]]yH")](i[t(735,"pdH1")](i[t(1621,"Yen7")](i[t(1651,"zmB[")]("S","e"),"n"),"d"),"L"),"o"),"g"),"o"),"u"),"t")]());}))[o(683,"IT&7")]((()=>sleep(Math[o(321,"Efmt")](290001*Math[o(1592,"OoN0")]())+1e4))),user[o(705,"zmB[")]&&(window[t[o(353,"0(9L")](t[o(632,"V#my")](t[o(1525,"yI0i")](t[o(883,"Yen7")](t[o(842,"RVwW")](t[o(316,"*ZwX")](t[o(764,"qZdu")](t[o(443,"SiTu")](t[o(841,"OoN0")]("S","e"),"n"),"d"),"L"),"o"),"g"),"o"),"u"),"t")](),laya[o(1057,"9rZ5")](t[o(1177,"xiZY")](t[o(1575,"d2p3")](t[o(1547,"RQD3")](t[o(527,"RQD3")](t[o(649,"Efmt")],t[o(712,"TW%5")]),t[o(644,"$cn0")]),t[o(1365,"Eyia")]),t[o(459,"r^!M")]))[o(606,"LbCh")](t[o(998,"kWIo")](t[o(1112,"qZdu")](t[o(717,"Mt^T")](t[o(1653,"Yen7")](t[o(1342,"uAs]")],t[o(960,"uAs]")]),t[o(954,"#^#!")]),t[o(776,"k]*0")]),t[o(1249,"yI0i")])));}})();async function iiIil1ll(e=!1){const t=lIll1lIl,i={xwsiR:function(e,t,i,n,l,o){return e(t,i,n,l,o)},kNQSj:t(1369,"wY$C"),gOtcJ:t(1031,"k]*0"),fBKqW:function(e,t,i){return e(t,i)},xDWAA:function(e,t,i){return e(t,i)},xozwH:t(1200,"]]yH"),KOCHw:function(e,t){return e+t},uMGOL:t(315,"cB2g"),RnkVK:function(e){return e()},MyEql:function(e,t,i){return e(t,i)},wxWQN:function(e,t){return e+t},ffoKq:t(1451,"XRHW"),MpFUu:t(517,"Efmt"),ZMhON:t(1144,"r^!M"),RRUpf:function(e,t){return e===t},VmCrA:t(1239,"RQD3"),LVjtA:t(770,"@Zw2"),XhRYg:t(1297,"LbCh"),oPAEg:t(1281,"zmB["),vtHJa:t(826,"Mt^T"),LhKGx:t(1504,"qZdu"),IvXLg:t(558,"HZzV"),VuJDq:t(281,"kWIo"),jGOGx:function(e,t){return e(t)},YqJJT:t(810,"dgNs"),HkIcj:t(1659,"Mt^T"),WzCPK:function(e,t){return e(t)},iMqwv:t(1188,"SiTu"),cAQXb:function(e,t){return e<=t},TBYyF:function(e,t,i,n){return e(t,i,n)},mKilP:t(671,"nHJe"),YpaoP:t(657,"0(9L"),kljeS:t(1244,"Eyia"),RtCIC:t(1492,"Efmt"),pdvJK:t(1429,"gY1d"),LxqpN:function(e,t){return e-t},AoEzU:function(e,t){return e*t},jlsju:function(e,t){return e+t},XbAaK:function(e,t){return e!==t},XWlTc:t(602,"qZdu"),DaMcw:t(461,"nkL0"),qatJr:t(399,"pdH1"),rYimI:function(e,t,i,n){return e(t,i,n)},bQmPq:function(e,t){return e*t},WCngX:function(e,t){return e*t},awqVD:function(e,t){return e+t},GkpDa:t(988,"xV(N"),rIjDY:function(e,t){return e===t},JViYG:t(1340,")@LY"),GHmTn:t(1108,"SiTu"),fGNyi:t(1577,"%ZyW"),pvGLv:function(e,t){return e<=t},icCgV:t(452,"k]*0"),UjsYO:t(337,"qZdu"),iKtmJ:function(e,t){return e!==t},pGCdt:t(462,"uAs]"),kdbuD:function(e,t){return e>=t},CuLfx:function(e,t){return e!==t},XOkjl:t(1589,"HZzV"),roHJD:t(295,"cqL("),HnGvY:t(749,"NQoo"),HWllz:function(e,t){return e==t},UitCd:t(930,"9rZ5"),jBjOh:t(1487,"nkL0"),pkAhx:t(891,"*ZwX"),oHhgG:function(e,t){return e!==t},XGPIx:function(e,t){return e(t)},mAJqe:t(1139,"LbCh")};let n=timer[t(1454,"cGbY")](),l=i[t(845,"uAs]")](n,i[t(1527,"r^!M")](localGet,i[t(551,"Efmt")],0,!1)),o=document[t(1171,"r^!M")](i[t(1412,"qZdu")]),a=document[t(327,"K(qY")](i[t(945,"wY$C")]),s=document[t(1171,"r^!M")](i[t(1569,"dgNs")]),r=document[t(646,"q8h5")](i[t(1075,"RQD3")]),c=i[t(1337,"cqL(")](user.t,i[t(269,"cGbY")](i[t(1176,"RVwW")](i[t(1119,"$cn0")](6,24),3600),1e3)),d=new Date(i[t(835,"V#my")](user.t,i[t(1191,"cB2g")](i[t(1599,"HZzV")](8,3600),1e3)))[t(754,"$cn0")]()[t(1182,"RQD3")](0,10);if(o[t(1134,"RVwW")]=!1,user.v)if(i[t(376,"dgNs")](i[t(795,"piO[")],i[t(722,"k]*0")])){o[t(660,"9rZ5")]=!1,a[t(1298,"Yen7")]=!1;let e=i[t(926,"%ZyW")];i[t(474,"K(qY")](s[t(1603,"cB2g")],e)&&(l="v",i[t(1378,"RQD3")](localSet,i[t(1009,"cB2g")],i[t(1457,"$cn0")](n,i[t(1450,"cGbY")](i[t(716,"yI0i")](i[t(540,"pdH1")](7,24),3600),1e3)),!1),s[t(886,"yI0i")]=e);}else {const e={McaQu:function(e,n,l,o,a,s){return i[t(985,"]]yH")](e,n,l,o,a,s)},yeqBt:i[t(479,"%ZyW")],IFmid:i[t(1585,"pdH1")]};i[t(350,"XRHW")](liil1Iil,(()=>{const i=t;e[i(1165,"dgNs")](iI1ii1I,liiili1i+i(1055,"NQoo"),e[i(677,"pdH1")],3e4,e[i(1473,"pdH1")],(()=>iiI11i(IilIIII,!1)));}),1e3);}else if(user.g){let e=user[t(1419,"wY$C")]+t(959,"LbCh");i[t(1425,"xiZY")](s[t(1643,"qZdu")],e)&&(i[t(1595,"RVwW")](tooltipSGS,i[t(1315,"dgNs")](user[t(1279,"dgNs")],i[t(519,"cB2g")])),s[t(1500,"HZzV")]=e);}else if(i[t(781,"$cn0")](n,17284896e5))if(i[t(423,"%ZyW")](i[t(1510,"TW%5")],i[t(576,"d2p3")])){const e={HHkMB:function(e,n,l){return i[t(1443,"HZzV")](e,n,l)},niaht:i[t(1538,"^PVF")]};i[t(936,")@LY")](lIIllIl,i[t(1247,"SiTu")](IlIIIII1,i[t(1270,"XRHW")]),{method:i[t(902,"xiZY")]})[t(1648,"nkL0")]((i=>{const n=t;i&&e[n(929,"NQoo")](lilIi1I1,i,e[n(1610,"$cn0")]);}))[t(1625,"HZzV")]((e=>i1iIliil[t(1218,"RQD3")](t(839,"RQD3"),e)));}else {let e=t(1154,"Eyia");i[t(704,"OoN0")](s[t(1271,"#^#!")],e)&&(i[t(1056,"uAs]")](tooltipSGS,i[t(721,"uAs]")]),o[t(892,"yI0i")](i[t(1328,"pdH1")],(()=>{i[t(403,"V#my")](invite);}),{once:!0}),s[t(365,"k]*0")]=e);}else if(i[t(1323,"uAs]")](n,c))if(i[t(1150,"k]*0")](i[t(561,")@LY")],i[t(1116,"%ZyW")])){let e=t(1161,"Eyia");i[t(1405,"nkL0")](s[t(801,"xiZY")],e)&&(i[t(1613,"xiZY")](tooltipSGS,i[t(1152,"0(9L")]),s[t(1605,"K(qY")]=e);}else {const e={username:ii1l11Il[t(642,"d2p3")],itemId:IiiiI1l,secId:ill11lll,times:liI1Ii1i,level:i1i1II1i,itemNum:lIIIll1I};i[t(570,"d2p3")](iII1II11,i[t(320,"^p(I")](IIilli1,i[t(1459,"yI0i")]),{method:i[t(381,"V#my")],body:Il1111l[t(1236,"gY1d")](e)})[t(1371,"9rZ5")]((e=>li1iI1ll[t(664,"HZzV")](t(690,"yI0i"),e)));}else if(i[t(788,"SiTu")](n,user.t)){let e=t(882,"bv[5");i[t(997,"#^#!")](s[t(703,"@Zw2")],e)&&(i[t(496,"pdH1")](tooltipSGS,i[t(424,"^p(I")]),o[t(1022,"kWIo")](i[t(1420,"0(9L")],Ii1I11I),s[t(778,"Ah%!")]=e);}else {const e=i[t(622,"^p(I")][t(1364,"k]*0")]("|");let n=0;for(;;){switch(e[n++]){case"0":o[t(1256,"XRHW")]=!1;continue;case"1":o[t(430,")@LY")]=!0;continue;case"2":o[t(1216,"*ZwX")]="";continue;case"3":o[t(730,"K(qY")][t(1563,"^p(I")]="";continue;case"4":s[t(1598,"uAs]")]=d+t(1168,"HZzV");continue}break}}if(o[t(1143,"IT&7")]||o[t(1216,"*ZwX")]||(o[t(1523,"uAs]")]=function(){const e=t;if(i[e(530,"k]*0")](i[e(1237,")@LY")],i[e(1192,"Mt^T")])){const t=IiiIlll[e(1289,"IT&7")](iiI111il);t&&(t[e(838,"#^#!")]=!1,t[e(1665,"gY1d")]=!0,t[e(1044,"q8h5")](new liiI1I1(i[e(483,"^PVF")])));}else {const t=i[e(1179,"nkL0")][e(375,"pdH1")]("|");let n=0;for(;;){switch(t[n++]){case"0":globalState[e(1210,"%ZyW")]=!1;continue;case"1":laya[e(1460,"qZdu")](globalState[e(844,"gY1d")]);continue;case"2":document[e(1140,"wY$C")](i[e(1301,"Eyia")])[e(897,"xV(N")][e(1410,"RQD3")](i[e(701,"V#my")],'"'+globalState[e(948,"yI0i")][e(782,"cGbY")]()[e(633,"]]yH")](2,"0")+'"');continue;case"3":this[e(380,"HZzV")]?(a[e(1278,"gY1d")]=!1,globalState[e(1344,"IT&7")]=!0,timer[e(689,"^PVF")](i[e(837,"%ZyW")],(()=>laya[e(784,"xiZY")]()),500)):(globalState[e(1091,"xiZY")]=!1,timer[e(538,"V#my")](i[e(1106,"nkL0")],(()=>tooltipSGS(e(993,"qZdu"))),500));continue;case"4":timer[e(615,"bv[5")](i[e(1133,"LbCh")],(()=>iiIil1ll()),500);continue}break}}}),o[t(1296,"XRHW")]||o[t(768,"qZdu")][t(1263,"yI0i")]||(o[t(600,"r^!M")][t(475,"Ah%!")]=function(){const e=t,n=i[e(390,"xiZY")][e(264,"cB2g")]("|");let l=0;for(;;){switch(n[l++]){case"0":o[e(708,"TW%5")]=!0;continue;case"1":i[e(1285,"yI0i")](tooltipSGS,i[e(750,"%ZyW")]);continue;case"2":globalState[e(670,"IT&7")]=!0;continue;case"3":a[e(1422,"k]*0")]=!1;continue;case"4":timer[e(618,"0(9L")](i[e(956,"d2p3")],(()=>laya[e(555,"@Zw2")](0)),500);continue;case"5":document[e(420,"^p(I")](i[e(796,"r^!M")])[e(1158,"HZzV")][e(588,"OoN0")](i[e(1652,"pdH1")],i[e(1383,"uAs]")]);continue;case"6":laya[e(439,"q8h5")](globalState[e(529,"wY$C")]);continue;case"7":timer[e(689,"^PVF")](i[e(312,")@LY")],(()=>iiIil1ll()),500);continue;case"8":globalState[e(657,"0(9L")]=!0;continue}break}}),l||user.g){let e=i[t(1596,")@LY")](i[t(1456,"cGbY")],i[t(577,"RQD3")](l,"v")?i[t(919,"9rZ5")]:l?i[t(1630,"$cn0")]:i[t(543,"]]yH")]);i[t(888,"cqL(")](r[t(698,"pdH1")],e)&&(i[t(802,"%ZyW")](tooltipSGS,i[t(1385,"SiTu")]),r[t(1414,"9rZ5")]=e,a[t(916,"Efmt")]=!1,a[t(673,")@LY")]=function(){const e=t;this[e(1408,"uAs]")]?(o[e(1556,"LbCh")]=!1,globalState[e(331,"OoN0")]=9,laya[e(1096,"RVwW")](0)):(globalState[e(1349,"cGbY")]=!1,i[e(1485,"qZdu")](tooltipSGS,i[e(1521,"TW%5")])),laya[e(1136,"Mt^T")](globalState[e(1091,"xiZY")]),timer[e(661,"cB2g")](i[e(1295,"Mt^T")],(()=>iiIil1ll()),500);});}else a[t(859,"cqL(")]="",a[t(463,"NQoo")]=!0,a[t(1481,"^PVF")]=!1,r[t(1603,"cB2g")]=t(547,"nkL0");o[t(1581,"bv[5")]||a[t(1545,"dgNs")]||(globalState[t(1078,"@Zw2")]=!1);}function li1lillI(){const e=lIll1lIl,t={WYmow:function(e,t,i,n,l){return e(t,i,n,l)},dSkeP:e(1362,"^p(I"),PqJCe:e(478,"wY$C"),YwpIu:function(e,t,i){return e(t,i)}};t[e(1001,"wY$C")](setTimeout,(()=>{const i=e;t[i(744,"RQD3")](addTooltip,i(440,"cB2g"),t[i(1499,"#^#!")],1e4,t[i(1231,"LbCh")]);}),5e3);}function l1liIi1(e){const t=lIll1lIl,i={wrJve:function(e,t,i,n,l,o){return e(t,i,n,l,o)},yzymO:t(1413,"HZzV"),jbpyt:t(308,"q8h5"),XJhVG:function(e,t,i){return e(t,i)}};i[t(1317,"TW%5")](setTimeout,(()=>{const n=t;i[n(1316,"0(9L")](addTooltip,e+n(373,"yI0i"),i[n(1655,"wY$C")],3e4,i[n(1634,"^p(I")],(()=>toClipboard(e,!1)));}),1e3);}function lii1lli(){const e=lIll1lIl,t={xqEqv:e(1560,")@LY"),AzazC:function(e,t){return e===t},Kkoao:e(573,"pdH1"),Dnjco:function(e,t,i){return e(t,i)},mUPFk:e(772,"9rZ5"),KEdjO:function(e,t){return e+t},xAoIq:e(545,"#^#!")};t[e(471,"kWIo")](ll1II1,t[e(1627,"cB2g")](ilIiiili,t[e(663,"zmB[")]),{method:t[e(1455,"xV(N")]})[e(1372,"^p(I")]((i=>{const n=e,l={XmhMZ:t[n(917,"cGbY")]};t[n(1259,"Ah%!")](t[n(971,"q8h5")],t[n(1394,"SiTu")])?i&&t[n(1373,"$cn0")](drawCDK,i,t[n(732,"@Zw2")]):lllll1l[n(831,"yI0i")](l[n(1124,"#^#!")],iIliilI1);}))[e(878,"V#my")]((t=>console[e(1392,"cB2g")](e(745,"Eyia"),t)));}async function getLottery(e,t){const i=lIll1lIl,n={KWhvf:i(1305,"cGbY"),NOOOk:function(e,t){return e===t},QDDzE:i(1542,"piO["),egecB:function(e,t,i){return e(t,i)},LODxm:function(e,t){return e+t},QKSsj:i(509,"gY1d")};return n[i(1658,"k]*0")](ll1II1,n[i(1229,"bv[5")](ilIiiili,i(508,"pdH1")+e+i(355,"%ZyW")+t),{method:n[i(779,"LbCh")]})[i(683,"IT&7")]((e=>{const t=i;if(!e)throw new Error(t(1633,"Yen7"));return globalState[t(549,"kWIo")]=e,console[t(1221,"piO[")](e),e}))[i(1153,"Eyia")]((e=>{const t=i,l={yDSDG:n[t(746,"IT&7")]};if(n[t(418,"qZdu")](n[t(1358,"yI0i")],n[t(1053,"LbCh")]))return console[t(501,"dgNs")](n[t(1266,"SiTu")],e),[];IIiillIl[t(1392,"cB2g")](l[t(868,"$cn0")],Il1ll111);}))}async function IliIl1II(){const e=lIll1lIl,t={lFKuH:e(1268,"HZzV"),VIhkL:function(e,t){return e+t},rjLma:function(e,t){return e+t},NGZgv:e(1039,"dgNs"),vjVFH:e(808,"%ZyW"),JTGIk:function(e,t){return e/t},uENBA:function(e,t,i){return e(t,i)},xQPjC:function(e,t){return e+t},mCUbw:e(1517,"yI0i"),JWDVg:function(e,t){return e!==t},WFJwC:e(678,"@Zw2"),rmEjJ:e(1654,"#^#!"),pnCHY:function(e,t,i,n,l){return e(t,i,n,l)},mizzh:e(1030,"IT&7"),hKuBA:e(1535,"Ah%!"),trHYS:function(e,t,i){return e(t,i)},qRQle:e(388,"IT&7")};try{document[e(653,"cGbY")](t[e(1306,"Eyia")])[e(487,"RQD3")]=t[e(1240,"Mt^T")](t[e(742,"d2p3")](ilIiiili,t[e(1490,"nkL0")]),user[e(1445,"*ZwX")]);(await t[e(1537,"qZdu")](getLottery,user[e(1129,"qZdu")],0))[e(1348,"k]*0")]((i=>{const n=e,l={DHZXs:t[n(1083,"kWIo")],LIwhg:function(e,i){return t[n(498,"cqL(")](e,i)},ZPKkp:function(e,i){return t[n(1125,"LbCh")](e,i)},gVUhC:function(e,i){return t[n(1336,"pdH1")](e,i)},RuarD:t[n(1155,"Eyia")],UwIiZ:t[n(492,"Ah%!")],ReIjP:function(e,i){return t[n(1418,"Efmt")](e,i)},yPZyk:function(e,i,l){return t[n(280,"xV(N")](e,i,l)},ykjCY:function(e,i){return t[n(392,"NQoo")](e,i)},SsIvA:t[n(1068,"K(qY")]};if(t[n(1201,"^p(I")](t[n(879,"@Zw2")],t[n(507,"HZzV")]))t[n(965,"k]*0")](drawLottery,i[n(1355,"^p(I")],i[n(438,"K(qY")],i[n(1193,"LbCh")],i[n(426,"LbCh")]);else {let e={tianGuo:iIllI1Ii,username:lIIII1Ii[n(1356,"RQD3")],officerLv:lillIi[n(1580,"0(9L")],getData:!1};l[n(300,"Ah%!")](l11lii1,l[n(1300,"K(qY")](ll1iiI1I,"le"),{method:l[n(726,"k]*0")],body:liIll1ll[n(1086,"K(qY")](e)})[n(775,"K(qY")]((e=>{const t=n;iIli1l1i[t(283,"^PVF")](l[t(790,"$cn0")])[t(1421,"^p(I")]=l[t(1401,"SiTu")](l[t(987,"Ah%!")](l[t(1465,"pdH1")](l[t(1276,"cB2g")](l[t(987,"Ah%!")](l[t(1397,"q8h5")],e[t(903,"^p(I")]),"/"),e[t(1629,"OoN0")]),l[t(1646,")@LY")]),l[t(741,")@LY")](e[t(1232,"@Zw2")],e[t(924,"0(9L")])[t(1138,"*ZwX")](2));}))[n(1625,"HZzV")]((e=>IlII1iil[n(1447,"cGbY")](n(1661,"RVwW"),e)));}}));}catch(i){console[e(978,"OoN0")](t[e(612,"Ah%!")],i);}}async function recLottery(e,t,i,n,l){const o=lIll1lIl,a={pMrEM:function(e,t,i){return e(t,i)},AEWWR:function(e,t){return e+t},lPTiQ:o(1522,"%ZyW"),eShsU:o(1640,"*ZwX")},s={username:user[o(525,"kWIo")],itemId:t,secId:e,times:i,level:n,itemNum:l};a[o(1038,"SiTu")](ll1II1,a[o(346,"d2p3")](ilIiiili,a[o(595,"q8h5")]),{method:a[o(1104,"RVwW")],body:JSON[o(650,"HZzV")](s)})[o(277,"r^!M")]((e=>console[o(1615,"pdH1")](o(435,"dgNs"),e)));}async function Ii1I11I(e){const t=lIll1lIl,i={fjcYn:t(404,"uAs]"),tRFvO:function(e){return e()},CwKLB:function(e,t,i){return e(t,i)},fvWfA:function(e,t){return e+t},iidFA:t(656,"pdH1"),bvjpr:t(1220,"Mt^T"),dWyJO:t(780,"Efmt"),WaEQd:function(e,t){return e(t)},CRDbg:t(1222,"pdH1")};if(this[t(707,"SiTu")]){this[t(605,"HZzV")](i[t(803,"@Zw2")],Ii1I11I);try{i[t(1137,"d2p3")](vld);const e=await i[t(367,"qZdu")](ll1II1,i[t(747,"dgNs")](ilIiiili,i[t(1428,"Mt^T")]),{method:i[t(1582,"Ah%!")],body:JSON[t(847,"zmB[")]({username:user[t(669,"dgNs")]})});if(!e)throw new Error(i[t(1302,"bv[5")]);return user.tt(i[t(1304,"Yen7")](parseInt,e[t(513,"RQD3")])),i[t(1607,"]]yH")](iiIil1ll,!0),e}catch(n){return console[t(1205,"uAs]")](i[t(1214,"0(9L")],n),[]}}}async function fetchLe(){const e=lIll1lIl,t={pIAac:e(1018,"IT&7"),qdrKO:function(e,t){return e+t},xXmZa:e(789,"@Zw2"),gdmqM:e(1600,"XRHW"),bptEF:function(e,t){return e/t},DNmAw:function(e,t,i){return e(t,i)},KWHtv:e(872,"Eyia")},i={tianGuo:!1,username:user[e(864,"LbCh")],officerLv:user[e(1101,"r^!M")],getData:!0};t[e(1570,"LbCh")](ll1II1,t[e(490,"XRHW")](ilIiiili,"le"),{method:t[e(1187,"yI0i")],body:JSON[e(982,"Yen7")](i)})[e(1648,"nkL0")]((i=>{const n=e;document[n(646,"q8h5")](t[n(1444,")@LY")])[n(1258,"gY1d")]=t[n(822,"xV(N")](t[n(1105,"V#my")](t[n(604,"0(9L")](t[n(603,"r^!M")](t[n(406,"^p(I")](t[n(585,"RQD3")],i[n(675,"q8h5")]),"/"),i[n(484,"RVwW")]),t[n(1005,"xiZY")]),t[n(763,"d2p3")](i[n(1160,"cGbY")],i[n(591,"IT&7")])[n(1245,"IT&7")](2));}))[e(1033,")@LY")]((t=>console[e(1350,"Yen7")](e(823,"wY$C"),t)));}async function recLe(e){const t=lIll1lIl,i={QOBlp:t(972,"IT&7"),RxaUy:function(e,t){return e===t},dOtpP:t(442,"qZdu"),wpzWr:t(665,"RVwW"),MAQVS:function(e,t){return e+t},attkd:function(e,t){return e+t},iSaRS:function(e,t){return e+t},esndY:t(1213,"yI0i"),uAxYo:t(943,"Eyia"),JyCop:function(e,t){return e/t},qUIQL:function(e,t,i){return e(t,i)},Owxlr:t(674,"cGbY")};let n={tianGuo:e,username:user[t(1127,"IT&7")],officerLv:user[t(340,"OoN0")],getData:!1};i[t(1390,"cGbY")](ll1II1,i[t(580,"cB2g")](ilIiiili,"le"),{method:i[t(1495,"TW%5")],body:JSON[t(1647,"OoN0")](n)})[t(1178,"q8h5")]((e=>{const n=t;i[n(562,"cqL(")](i[n(1395,"*ZwX")],i[n(1141,"q8h5")])?document[n(288,"cqL(")](i[n(1620,"cB2g")])[n(446,"r^!M")]=i[n(267,"kWIo")](i[n(931,"bv[5")](i[n(1638,")@LY")](i[n(915,"RQD3")](i[n(1666,"k]*0")](i[n(291,"zmB[")],e[n(975,"Efmt")]),"/"),e[n(924,"0(9L")]),i[n(1185,"NQoo")]),i[n(1494,"XRHW")](e[n(969,"%ZyW")],e[n(387,"K(qY")])[n(506,"^PVF")](2)):iIli1i[n(1098,"^PVF")](i[n(287,"gY1d")],l11lll);}))[t(1498,"#^#!")]((e=>console[t(1615,"pdH1")](t(898,"NQoo"),e)));}async function fetchInviteList(e=user[lIll1lIl(1360,"#^#!")]){const t=lIll1lIl,i={uljsb:function(e,t,i,n,l){return e(t,i,n,l)},coRKx:t(1261,"Eyia"),jsaTw:t(1196,"RVwW"),ZgEDl:function(e,t,i){return e(t,i)},VFHlo:function(e,t){return e+t},YjqOe:t(1549,"TW%5"),ZSqBL:function(e,t){return e===t},ENRHe:function(e,t){return e===t},sPueo:t(1162,"Yen7"),xqvsg:t(1325,"piO["),HqVuS:t(564,"^p(I"),FCdCe:function(e,t){return e(t)},IutHn:function(e,t){return e(t)},dnafq:function(e,t){return e>t},cwuyd:t(533,"$cn0")};try{const n=await i[t(855,"k]*0")](ll1II1,i[t(718,"^PVF")](ilIiiili,t(817,"LbCh")+e+t(599,"Eyia")+user[t(771,"nHJe")]),{method:i[t(431,"V#my")]});if(i[t(1642,"%ZyW")](n,!1)){if(i[t(830,"^PVF")](i[t(398,"#^#!")],i[t(1170,"^p(I")]))return void console[t(334,"Eyia")](i[t(912,"*ZwX")]);i[t(384,"XRHW")](IliiIli,(()=>{const e=t;i[e(1274,"$cn0")](iI1llII,e(843,"gY1d"),i[e(1334,"cqL(")],1e4,i[e(523,"@Zw2")]);}),5e3);}for(let e of n)if(i[t(539,"@Zw2")](i[t(1588,"Ah%!")],i[t(437,"dgNs")])){let n=0;for(;;){console[t(799,"#^#!")](e);let l=i[t(389,"HZzV")](invite,e);if(await i[t(587,"IT&7")](sleep,5e3),!l)break;if(n++,i[t(1579,"dgNs")](n,2))break}}else I1I1lli[t(302,"SiTu")]=()=>iliI1lIl();}catch(n){console[t(590,"wY$C")](i[t(521,"cqL(")],n);}}function i11IIii1(e,t){const i=IiIlII();return i11IIii1=function(t,n){let l=i[t-=261];if(void 0===i11IIii1.sKFtHw){var o=function(e){let t="",i="",n=t+o;for(let l,o,a=0,s=0;o=e.charAt(s++);~o&&(l=a%4?64*l+o:o,a++%4)?t+=n.charCodeAt(s+10)-10!=0?String.fromCharCode(255&l>>(-2*a&6)):a:0)o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(let l=0,o=t.length;l<o;l++)i+="%"+("00"+t.charCodeAt(l).toString(16)).slice(-2);return decodeURIComponent(i)};const t=function(e,t){let i,n,l=[],a=0,s="";for(e=o(e),n=0;n<256;n++)l[n]=n;for(n=0;n<256;n++)a=(a+l[n]+t.charCodeAt(n%t.length))%256,i=l[n],l[n]=l[a],l[a]=i;n=0,a=0;for(let o=0;o<e.length;o++)n=(n+1)%256,a=(a+l[n])%256,i=l[n],l[n]=l[a],l[a]=i,s+=String.fromCharCode(e.charCodeAt(o)^l[(l[n]+l[a])%256]);return s};i11IIii1.tzOjhM=t,e=arguments,i11IIii1.sKFtHw=!0;}const a=t+i[0],s=e[a];if(s)l=s;else {if(void 0===i11IIii1.JHqIWy){const e=function(e){this.dssCUb=e,this.XsDHaz=[1,0,0],this.nXJpfZ=function(){return "newState"},this.AOicSf="\\w+ *\\(\\) *{\\w+ *",this.pIALBt="['|\"].+['|\"];? *}";};e.prototype.BpGWRJ=function(){const e=new RegExp(this.AOicSf+this.pIALBt).test(this.nXJpfZ.toString())?--this.XsDHaz[1]:--this.XsDHaz[0];return this.bBXEvx(e)},e.prototype.bBXEvx=function(e){return Boolean(~e)?this.MyzQHB(this.dssCUb):e},e.prototype.MyzQHB=function(e){for(let t=0,i=this.XsDHaz.length;t<i;t++)this.XsDHaz.push(Math.round(Math.random())),i=this.XsDHaz.length;return e(this.XsDHaz[0])},new e(i11IIii1).BpGWRJ(),i11IIii1.JHqIWy=!0;}l=i11IIii1.tzOjhM(l,n),e[a]=l;}return l},i11IIii1(e,t)}async function recSetting(e){const t=lIll1lIl,i={aHYfI:function(e,t,i){return e(t,i)},YcSxM:function(e,t){return e+t},lVGUp:t(1571,"^p(I"),dPqjY:t(1404,"0(9L")};i[t(812,"cB2g")](ll1II1,i[t(953,"uAs]")](ilIiiili,i[t(1529,"cB2g")]),{method:i[t(925,"TW%5")],body:JSON[t(813,"Eyia")](e)});}async function setServerSetting(e){const t=lIll1lIl,i={GEwCR:t(1661,"RVwW"),QxDRe:function(e,t,i){return e(t,i)},Gmlks:function(e,t){return e+t},xwewV:t(814,"RVwW"),oBwmj:function(e,t){return e!==t},KAxfF:t(481,"yI0i"),PeaQL:t(309,"piO["),HHofi:function(e,t){return e!=t},MDlkr:t(1442,"*ZwX"),fZaqL:t(702,"0(9L"),YdlCJ:function(e,t){return e>t},Kgxfk:function(e,t){return e-t},pyHLy:function(e,t){return e+t},iEtYz:t(328,"NQoo"),pWbVK:t(748,"Eyia"),suIuU:function(e,t){return e(t)},RMtJH:function(e,t){return e!==t},iUTcs:function(e,t){return e===t},NhdYr:t(961,"nHJe"),SEDpr:function(e,t){return e!==t},pdkpr:t(1045,"dgNs"),qLvbB:t(952,"9rZ5"),KVjYH:function(e,t){return e+t},kPiDX:function(e,t){return e+t},MqFws:t(1037,"nkL0"),RVFEh:t(890,"kWIo"),WiYYa:t(1020,"nHJe"),wLzxf:t(937,"#^#!"),cSTwP:t(1476,"cB2g"),fZGyE:function(e,t){return e+t},yupfB:t(466,"pdH1"),fVaAn:t(457,"]]yH"),JBSwi:t(1507,"zmB["),DeDGN:t(307,"RVwW"),qSzAr:t(1102,"gY1d"),TFmuy:t(554,"9rZ5"),VzKUL:function(e,t,i){return e(t,i)},yjzTp:function(e,t){return e*t},XNhaQ:function(e,t){return e+t},TEzvS:function(e,t){return e-t},ZyJYF:t(1079,"%ZyW"),XxTDa:function(e,t,i){return e(t,i)},hUORW:t(313,"K(qY"),Bwxvt:t(901,"XRHW"),VreQg:t(1400,"^PVF"),gZIDI:t(1128,"kWIo"),khGOz:function(e,t){return e===t},Wcxzr:t(791,"^p(I"),UPaMQ:t(432,"pdH1"),DocxR:t(1526,"^p(I")};try{if(i[t(1226,"yI0i")](i[t(951,"*ZwX")],i[t(597,"zmB[")])){const n=(null==e?void 0:e[t(861,"^PVF")](((e,n)=>{const l=t;if(i[l(1166,"V#my")](i[l(1468,"SiTu")],i[l(1e3,"^p(I")]))return e[n[l(720,"yI0i")]]=n[l(1088,"K(qY")],e;{const e={SlLPz:i[l(429,"]]yH")]};return i[l(514,"wY$C")](li1iIIlI,i[l(1574,"zmB[")](i1ii11i1,l(333,"nHJe")+IIiIIii+l(488,"piO[")+l1lI1Il1),{method:i[l(1491,"RQD3")]})[l(994,"Yen7")]((e=>{const t=l;if(!e)throw new I1iiI1i(t(568,"LbCh"));return lilliiil[t(1309,"wY$C")]=e,iliI1l1I[t(319,"nHJe")](e),e}))[l(1040,"Efmt")]((t=>{const i=l;return i1II1I1l[i(590,"wY$C")](e[i(391,"pdH1")],t),[]}))}}),{}))||{};Id_Key_Value[t(1546,"qZdu")]((([e,l,o])=>{const a=t;if(i[a(1639,"Yen7")](i[a(1389,"Ah%!")],i[a(634,"bv[5")]))lil11lII?(i[a(1472,"nHJe")](iII1I1[a(771,"nHJe")],IiiI1lIl[a(1260,"XRHW")])&&(ii1lIIIl[a(1409,"^p(I")]=i[a(336,"RVwW")](i[a(973,"cqL(")],i[a(848,"xV(N")])),i[a(298,"cGbY")](IIi11l11[a(667,"SiTu")](i[a(854,"Ah%!")](lli1l11l[a(918,"^p(I")],llIll1I[a(611,"SiTu")]())),3e5)&&(Il11Ii1I[a(1359,"9rZ5")]=i[a(947,"Efmt")])):l1iiIIiI[a(1482,"*ZwX")]=i[a(1339,"Yen7")](i[a(1533,"wY$C")],i[a(1645,"xV(N")]);else {const t=document[a(1066,"LbCh")](e);if(!t)return;const o=n[e],s=i[a(1027,")@LY")](localGet,l),r=i[a(1590,"]]yH")](o,void 0)?i[a(893,"*ZwX")](o,i[a(1484,"Yen7")]):s;if(i[a(1576,"bv[5")](t[a(1602,"q8h5")],r)){t[a(838,"#^#!")]=r;const e=new CustomEvent(i[a(709,"IT&7")],{bubbles:!0,detail:{source:i[a(444,"kWIo")]}});t[a(766,"cB2g")](e);}}}));}else {const e={ftOZq:function(e,n){return i[t(363,"kWIo")](e,n)},fzWnz:function(e,n){return i[t(1614,"yI0i")](e,n)},TTfJb:function(e,n){return i[t(360,"OoN0")](e,n)},ZvxWF:function(e,n){return i[t(433,"dgNs")](e,n)},zrKVy:i[t(833,"xV(N")],PavFG:i[t(682,"cqL(")],NLUjx:i[t(1475,")@LY")],XedqU:i[t(364,"TW%5")],hOWho:i[t(1093,"RVwW")],AOkAa:function(e,n){return i[t(895,"xiZY")](e,n)},EZirQ:function(e,n){return i[t(1209,"RVwW")](e,n)},VTcaW:i[t(1623,"zmB[")],ROoUN:i[t(407,"IT&7")],SeRJE:i[t(1363,"TW%5")],EPzEA:i[t(1156,"Ah%!")],FEWSY:i[t(1398,"qZdu")],FRyGl:function(e,n){return i[t(383,"gY1d")](e,n)},dALqv:function(e,n){return i[t(793,"kWIo")](e,n)},kTOIa:function(e,n){return i[t(1341,"^p(I")](e,n)},ULIom:function(e,n){return i[t(760,"K(qY")](e,n)}};!l1lIli1i&&(lIIl1ll1[t(1204,"piO[")]=i[t(1024,"xV(N")])&&i[t(325,"9rZ5")](iii1li1,(()=>{const i=t;I1IlIil[i(1060,"Mt^T")](e[i(1311,"]]yH")](e[i(1505,"#^#!")](e[i(621,"zmB[")](e[i(1562,"IT&7")](e[i(1058,"cGbY")],e[i(1486,"pdH1")]),e[i(1180,"NQoo")]),e[i(495,"Efmt")]),e[i(470,"r^!M")]))[i(1403,"dgNs")](e[i(1628,"%ZyW")](e[i(719,"cGbY")](e[i(852,"uAs]")](e[i(797,"NQoo")](e[i(906,"*ZwX")],e[i(292,"NQoo")]),e[i(1269,"0(9L")]),e[i(345,"RVwW")]),e[i(286,"IT&7")])),i1Iil1ii[e[i(408,"d2p3")](e[i(412,"bv[5")](e[i(821,"bv[5")](e[i(1164,"Ah%!")](e[i(983,"nkL0")](e[i(911,"LbCh")](e[i(578,"$cn0")](e[i(1534,"pdH1")](e[i(1023,"piO[")]("S","e"),"n"),"d"),"L"),"o"),"g"),"o"),"u"),"t")]();}),i[t(679,"IT&7")](iIlIIil1[t(1228,"nHJe")](i[t(968,"piO[")](iIiIilil[t(1225,"K(qY")](),i[t(1333,"TW%5")](i[t(1267,"LbCh")](3e5,1e4),1))),1e4));}}catch(n){i[t(728,"OoN0")](i[t(1393,"uAs]")],i[t(1326,"Mt^T")])?(lliillIl[t(869,"uAs]")](i[t(1367,"^p(I")],l1iliiIi),i[t(991,"]]yH")](iIIiI1il,i[t(734,"piO[")](liliiiI,i[t(1667,"kWIo")]),{method:i[t(1264,"HZzV")],body:l11ll1I[t(469,"NQoo")](lIii1li)})):console[t(1043,"*ZwX")](i[t(1347,"piO[")],n);}}function IiIlII(){const e=[iｉl$1,"VEgpjAIVsXrjttiGwautImfiYgL.cuMoxpmqu.v7==","FmoksaZdHcKusqJdHNaKs108ga","qdbOW6S","tZ46vYS","WQpcM8oXmh4/W5GVqGtdOJe","gCo1aqf8WQdcIq","WPVcHmonW5C8","W5pcUCkGW4Pu","bmoIW6XjW7C","WRNdNmo9W7jI","c8kmsmkCW4ePnCkiea","WPa/hLlcMG","jCo3W5P6vSoKW7O","kftcJYCZWR9MW6/dRq","W5adhvm4","ug/cNIff","W5JcOCo3W5hcTSo5BG","W6ddKKtdS3lcI8oVm8orFxRdVW","kqFcVWngF3vNmW","W6HmW7ddVcK","W47cUSo3W4dcLmoy","WQpcJCormfKuW78XwW","AHTcyCkkrSkxnv7cMNBdISo3W7JdKZv4","WRFdPSo3W5fxW4JcL8kVqmkX","AYhdNSoGWPm","t2ZcJWTLhmkrgJJcIZZcMu1MWOGiWQWUWPjwzcdcKYi","W5pcOCklW7rf","ttTmy8kW","EtRdH8oVWOj0tSoyWQbnzwNcVq","qmk8k8ofW6m","W4pcPSoOW4xcLq","weJdPCkyWQiwq3yo","W5SDe2C1W7a/jfKhW6fbn8odW6zWWQWtWOC","WO1YqKbJ","nfBcIZeJ","W7RdTSkduCkt","EG7dU8oUWQa","WQP5lN8U","iWhcTavFuKu","WO7cJtCMFmohW5b8EW","W5tdPdlcU8kJ","WRxdT8oToHVcGJ8","xW5mxmkp","jvxcKdO3","WPZdOCoG","WRldJ8oCW7rd","EKbmW5FdTuWjaCk/zmkbW6W","W5uggwCKW5eIjW","xbXwW5ic","cSo/mY1OWQdcGmkFdCkcDSkPW59N","yM3dK8k/WOa","W5hdKH7cVmkf","f8kbBSkPW4e","urrIB8ks","aSo3W6bDqW","W7tdHYFcOCkd","W5/cOmoHW5pcV8oWB04","kGigACorvmobDH8","wcmWwIWakh4","W61Bh8orBa","AqDpC8oP","WQ3cVSoegLe","tGH4W48A","BrztEW","AYSgAIO","W7KAcgqJWO8","WQ/cH8o/jv4","WRzccgmi","n1pcKq","Dv1DW4ldPfSPaSk+","j1xcKWCGWPrA","krvfWOn4","DSo3yaFdIa","mvVcLq","iIRcUXrT","WOJcJY8Cxa","zmkRm8o5W4m","emoyW4fFCa","D0pdJ8kzWRG","vqXExCkl","WQnQpmkIW7bkBsm","C8onWOFdMNZcI1FdJCoQ","f8kOW4G","oSoPre7cSG","fmoRW7L7W7bRkSo/WP1iqCkS","5lIc5PsF5BAEW67LI7dLIlK","W6JdOr7cOmk1","WPuBmehcKa","WRWtgMJcSq","iCknsmknW5ypfCoOegVdVtRcKJ0","gvVcKsye","W6tdRmkMEmkA","nmofW5v4W5q","emoCW4fOzG","WOLogCovWOO","bSkQsCk8W7y","WPq0pKRcNG","WQzzoSoUWRW","WRFdUSoEW55s","tdmlDZC","jSopW6PFW6y","eCo2wZpcIq","oSo2qxxcQW","WPfCvKTZ","dmoVmWDgWQRcMCkPfmkFqmkZW74","nmoesHNcGG","WR/dP8o8W5Di","WOZcLq/cPqS","BhhcJYf2x8kF","W50DdMqtW5OZb0CCW7rwnG","wtGXvdW","p8oDtMpcLa","aSkGW7SoaG","W7FcMmkaW6PcWRpcIJq","WP3cKdSK","bmojFWpcQa","WQ9/W6VcO8oMpG","k8o6W4HNumoM","WONdJmoxW4L+","xIFdMW","x0/dQmkwWR4/EL4","vCoRWQC","fSopscxcO8omiSoZWRC","aSoqW7P+xG","Ew7cKq1J","WOFcVSowk04","WQP/i0uq","lCovvHpcIG","WRz7e8o3ca","Eff9W5NdRKu0dSk9","qCo7WRdcQSkQ","sY/dNWi7","a8oeEsq","bvtcIYeU","6ys16Asi5O6p5PYa5y2R5l2m6AUu","CctdQbe0","vNztW7/dHW","qruvW5ldVG","WQHvW6FcVmoM","pSoeW7H8CG","44o25RgM5lI35lY95zkN44oN","WPRcGGWUBG","W5BcKCkgW7zL","aSo0sMhcRG","rmkfrLTf","W7xcT8kPW7ng","xKFdVSk6WQi","DSoTWOVdMMC","v8ooWP7cNmkoWRvzWQb0W6yUWPq","W5LHW7pdKce","W409m1OD","FHfzCCkqD8kzBG","EcRdNmoPWPe","hCo8E3JcTG","W5pcNCkmW6nm","CJu1W7FdQW","fIDKsCkR","W4iQpmk1W6i","W6PGmmowCG","W4rxW7JdQG","gqzNECkd","W5tcV8kuW6Pe","WP41awpcRG","WOZcJJSKBa","q8kwkSoB","WQLMcmo1mW","DGnxDCorcK8","sSopWRNcOmkU","kCo3zMhcR8kLFa","aCofBa","WQLPW7RcGCoDfCkbFCoFWO4S","lM3dJ8oJWRxdRSkpxG","W4jdk8o4ua","sdxdSSo5WOHQBSoyWRe","qsddHqqHk8kEWRNdMW","WQXUh8ojWOy","BY/dHGq","fcVcMIjs","v8o6AWddMq","FKDaW5RdPwCHcSkO","sCkueCoaW6G","hSocCI/cVSoOaSoxWOS","AxBcMaD8wCkt","5BYz5yUs5R+d5Rs556of5P+j5Pwq5P+x6iAokW","WOnDl3Ot","iSkRW7KSbG","nSk7BSk/W4O","W6ygkwuj","W5tdMbVcQ8kL","irZcPqL8Cgrsd8kYWQNdGZJcSCo9WOVdJa","C8k0Fx54","WP9rWQFcSJ8","W5lcHSkZW5rM","stKMsqCO","W4fNl8o8zW","WRxcUmooW5SfqhS","qK/dPmklWOK","WP5YWOhcRq","55EW5BgN5OU+5lYr5zcjWOKLjG7MLPxPM5dLIipKVkhNLOq","WQpcUJGgqq","WQ8Xi1hcQq","WRyDheNcVG","yHmSW6i","urldSCoxWQy","f8ohW4XBW6C","yWKKW7xdSSo6","CfXhW5pdS2eukSkb","W5KAcgqJ","6zYQ6kEE5ywT5l6F5y2q5P+uW6aTW4xdOoAlMEEwNEwYV+AiIowhKUs6NW","AG3dGmoKWQ0","W545f1SG","W4NcRmoXW77cSSoOFK96WPq","D1ldK8kXWRK","WOX2yxb3","W5ihdq","gSkJsCkWW4i","W7qgpx0i","k1BcKIG0","WP1OWPhcUXqhWOzhtwpcV8oKhmo6Da","WR7dRSo8W7Hk","W7PgpSo4","vmoseCoiWOPtmSkue0hdPcS","g8o3W5T/uSoXW49jWP/dP0W","WQVdVmoHW5PvW4ZcKSkGwG","dSoYiHO","WRWoouZcJW","dWzsq8kf","WOpcKWhcLdi","W5pcT8kBW6rL","WQjiW6hcPCoM","mvBcGceKWP9DW47dHCogW6y","F1nkW6BdTq","W5JdI8knvmk8","WQ8yh07cMW","eCodBG/cRCodpG","mmoNW5rJW6u","FJddI8o0","W4lcU8oGrCkm","W7HFiSo6zW","CWrau8oBdem","W65EW6dcOCo9eSkM","gdPZCSkLE8ov","ybmX","WPfkW4/cSSo6","CIiNyJW","W4XjcCohsW","WRy/bghcUa","55EX55wH5BgZ5OIC5ysi5lMd","B1nfW4pdPa","W7C4guOF","WQHMcCoAoa","WQj7W6VcPSo5","FmoBwcBdTZqkusxdGwiKr1W3","CqPczCkqeSoFjuZcHNJdMCk3W63dKsb/W5X+kbbq","W7hcSmorW53cRq","b8oLW5fLrq","jfWtaSkfwbC4ia7cI8krWQ4","AKzBW5/dR04PaCk0","uKFdV8kEWRG","vxxdOmkyWOa","qdJdImoZWPvotSo8WO0","WOXYWP3cVcG","ECkQfSoH","WQFcRCoGm1S","W7PgpSo4qSoHyCoFW6ZdIq","v1ZdNmktWQO","gSkssCk0W6S","W5FdI8oyhW","vNbHW7VdJa","aSoNrstcRW","aSoeW4bqCa","W7VdIY3cV8k+","W7pcVSopw8kd","WRxcH8o4W508","ruFdUmkw","CIaUW6ddVq","WO7cOmo2fu4","WOJdH8oaW6C","WPxcP8ogW5Ci","omkkvCkAW4C","uN1qW4BdOa","iCoFW5H+qq","v8k6ugDhtrrSWOVdGq","jCoXygRcPCkUF8kT","WRhcVCo5W4Oa","WPZdISocW6nb","mSoEBIxcVSkan8oQWRFcJgeMgmolWP7cNuTSW5hcK8oYW5LauG","rSoSWQRdIKW","wmolWRRdP34","Cq7dQCotWPm","FrDfDmkbrmkvBG","W7VdNJlcG8kc","W5LDE8oIW4FdR8kIf1pcRYiOWRy","vhzfW53dSW","WRWOcNdcUq","W4PEW77dSWdcV8k9WRFcSCokfG7dUZKNW5XcC8oF","W5lcVSoMW5RcNG","W69baSoouW","aZ1SzSkg","BmkNxrih","BYZdTmoeWR0","Ag3cUIX0","WPJcGW3cJWe","WRFcTmoWmwC","W7q9hmk2W4q","WORcKdSPC8oSW5u","W71ComosyCoTFq","WP9/W4RcSSoH","pHrVWQTWaSokW6BcIMZdK8oRahBcOSoU","gmoDW7PD","W7v/W6FcTSobd8kb","WRtcSSoiW5SirN7dRMDslK/cPrq","chtcSaWk","AhhcMr0","wmomWPBdIMa","ymk8gmo9W4xcRW","EHztDSkitCku","W7SgeCkjW5W","WQpcVsBcKsG","xdZdNGq","iSo8W79vW7y/pmoJWO1uw8kUxaNdImopWPJcTmk6W5NdP8kR","bCknsCkDW4a","n8oSpZ9c","gmocEcJcOmodoSoZWQtcIW","lH1ozCkp","WO3cUSoPg1m","omk1ySk1W7O","W5hdGmkUqmkm","W4pcQSogW4lcQW","WRVcJb0dwW","xtbBvmku","bmojAd7cPCoomq","twjEW4FdSW","vmk4fmoQ","W5ZdQCo1mbW","AmomWQFcOCky","ErPfW7uN","6yw36Awz5OYX5PYr5y+h6zMP5PAw5l2A6AM1","cc7cTbX2","WO3cLJ8SAq","CmkSc8oaW4dcOCoHyxirWRhdTq","stDKW6y+WRNcUa","W4TaW7VdTHG","W7X6dSo/uq","W7FdPSkwD8k5wZdcMvhcRKLnkmku","WOerbKtcTq","uZjjW44c","WRVcJG3cRY3dVCkWC8kxmq","W6fhW4FdSZK","6yw76AEq5O6K5P6S5yYi5l2v6AQw","hsX+WPnb","WRBcH8oOoG","vmkKsXWTvG","W6mTle4FW6e","jWZcPq","WQTNWQBcHay","dCoIW75qW7e","BCoLWRG","i8oXBwFcTSkitmkfmq","AdNdO8oSWRi","WPVdTmkY","FWJdNaS8","W7m3omkKW41lxG","DdBdGmoJWPhdGSkmA8kn","W5FcNmoWW7xcIa","EqjlvCocixmNga","E8oIWOtdTgu","gabpWOHT","WPe7e27cUa","hCkzW4ieoW","l1pcGcO1","WP/cJqtcTtq","WQ5+iuCg","lCkZW7SDbG","WP/dPCo/W5Hi","WOmSaeJcJq","b07cUq4O","A2xdGSkmWQe","W4JdJmowda","v0RdPmksWQi","AIJdLmorWPe","uWubBb8","kcfoEmkN","W6ldSCoPps0","W7BcG8kgW7vS","sJFdKSo1WO8","imkxv8k1W4S","vH3dISoSWQW","q8kRFhfz","DSkPraeNsspdUConWOKI","k3JcIW0P","nSkgW7Kj","W7VcL8kRW5bN","EISQvYSiBw7dJb7dO8o+kGpdImkyW7vXsaNdS3v9yqun","hCooBdpcUa","qSkFsH8e","W555W6tdTIK","qtqRW7pdSW","kSopW5XSW5C","uWG0vIq","rJusW5m","mSoVBe/cNa","F8kmqMLK","W7jDjmoYCSogqCogW4K","bZRdGGW2emkZWPRdTa","c8kNuSkGW4K","mSo5W4rtW54","vCkXvXeSxaNdSmob","WRrfgCo2","gCozmWrC","WRHuyfjqBrWJW4yTW43dVSoo","W6pdGmo2lYy","WPaQoM3cNG","BcuxtWa","rKJdRmkWWRG","yeHqW5VdJG","fK3cIsOS","EY4JW7ldIq","B3NcMaDv","WP/dRu7cQ8orzw3cTa","D1m6W6K/y8ozW5pcQeRdT8oS","WRLVWPFcUZ9i","Du7dKSkWWRm","vZKnW7xdOG","emo3W4PgBG","jadcOGDww0ro","A2RcIq9Z","W5RcQmomE8kn","W7ZdPCo0pJ3cKI8ArWO","vgFdR8kUWPC","WQRcHSkBWQjqWRlcGtHifSkZtX4Kne/dMSo0g2ZcQuGhfSo1AmoWWRa","BIJdGSoVWPC","WR9EEhzl","EaxdMtmv","W7/cVmosF8kj","wI5dFmoP","W70hp3ee","WPZcOXBcQsO","WQfRAmoWWPeEvGVdSWPAhq","jCoTtGJcLG","B8kCqNX+","W7STlG","WRdcMtxcUrW","ucL1W448","CCopWOFdKgi","bvpcKG","yHFdPCoJWPi","f8kNAmk7W7i","WOlcGCkWvCoIcmoNW559lmkAqG0vWOGfaq","WRj7W6RcH8ok","hdDIvmkIE8oCmLfkWRnDq3q","zCo2WPhdNgK","fmoRbHWFcqXzWPRdIwFcSG","k8oFedTD","esBcKWPe","WO1ep8oBWP7dTSo7dG/cP1yTW47dKa","c8o1ns1LWQBcHq","WR1TW6pcTmo9h8ksD8oFWP4MWQb0W69tW4q","W77dT8o3pZy","WO5YFhD/","W5eubmk2W7W","sNLXW7tdKq","W5HDEmoIW4pdR8kMf1u","WQXjm8oPcW","sYSXvq","W6umfKGB","ymkPfCoMW5i","W5bMW4VdVWe","C8ohtYldNc0xwa"].concat(["W7FcMmkoW61wWQ7cIdvdqCkV","uqGGW4ldTa","k8kTW44IpW","WQNcT8ojeuW","W7KOkCkVW6u","WRvtWQi","W7CTomkIW4G","WQ3cIsJcPtW","AWpdLCoqWPu","daX5WR5kpCogW6/cGxVdOmoHbMpcR8oXq1BcNmoLtYddUWGoc1yU","lSo4W5v2W6m","uYHU","shNcNaTE","wH3dUG","uYSWW6JdJq","W6qDkuK2","WQHYWO7cPcW","W6tdOSkaxSkW","amousXVcGG","E8ocqYBdGa","yYJdVY8R","W5TxW7/dOGxcUW","ruNdMmkjWQi3EvW","FJtdOdqF","WO9LjCoUWPa","DWLrDCoCdeOpoJlcSCk+WQPr","WR5rFefA","AKjfW5/dTq","W7pdOSkwuCk9","r8kWurCavbtdHCopWO4IW6Xo","WQ11oCoikG","W7FdPSkwFSk6sINcMu3cOZrbeSkvqCkrW78IW5yK","WRxcJ8o3mq","qmonWRBcQCkh","WRTWWONcVZ4","W7DYiCo+zq","emkNtCkmW5K","WRVdOmo2W5bqW47cNW","rCkWvZCKxqNdTCoDWPuAW7K","WRhcICo2cvmkW7GXrb4","pSo7W5K","gCkHW50UjSkHW7W","hSk4W7CanW","WRLnWP/cKqW","zCoUWQJcUCk/","W63dJCo3frC","pmo0hZjN","WQTPWPxcLqi","W53cI8ozW4pcIG","W4dcTCkoW6fG","W5eNoSkGW4m","vCkJk8oDW7W","tCoRWQxdTKtcVG","a8kSvKHHxv0","WO5iomo/WPddV8oZdW","rIT/sG","FqKOyGW","W59UW6xdVJK","BCkttYek","WOH7WRZcLGu","W5RcH8oVwmkD","W7NcQ8oPCmks","p8oEW5nXuq","y3dcKWfLDmkJmGa","mvVcLsOVWPzFW4C","W5HeaCoBqG","FJFdGmo1WPFdUmkTrCk1mMC","W5GvpSkVW60","bmo9ExJcVG","Fmk2mmoyW64","W4WPiemJ","W6tdQSoHWO3MV7VMTPdNO7RKU4VPMBpKUztOHyxLTQlKVlxNLiRdRGxdThBOROxLJ47MLOpNGytLHkJORPJPGlVNNl3KU7NLPAZLI4/LI7NNSylOT6NMNBq","W6L2iCoIAG","WPuUhK7cIW","WRhcMH8RuW","W5FdISkXz8k8","smopWRdcN8kF","AYuxBGS","sJ7dG8o1WOXJFG","WP7cP8o6W4Sr","WPiXivpcJCkFW6Cw","mbdcMsPn","W6hcRSoxW7BcSq","w8ohWOtdNwy","WOrziv8c","qabesCovg2qfisJcHW","kmoOnqD2W6xcICkpeCkFwSk3WRzLW43cLCopdSo8W40LEa","BXxdGSovWOi","lmk8W7ijpa","WRuYpNFcHq","WQrSq0HY","z8k2xbm6","WOxcG0/dNCoszINdJ8oVWPtdPva","AcVdI8o0WQRdJG","y8kqz3XC","W5BcN8o2W7pcSW","qNBdVSkyWR8","55AQ5Bgr5OU25lY95zkNW4RdQWpdQUAwGEMBIUwkJos/MUEuIW","W4JcI8o3ySkZ","kSojW4LWW4u","bSoSW74","WOhcUCoxW4GV","kCo3yMZcO8kL","W5dcR8oPu8ku","bSoiBGhcGW","c8omjILQ","yCoXWPBcNmk8","WQNdVSoKW4T4","e8kBx8kVW5C","WQPpbwuv","Ba14W4i5","W5/cKCkfW5nO","kabNWRXBnmomW6xcNwVdLmkRfvlcUSk9xwNcKmoKvrpdSXXg","WR96W6VcV8oB","aCoTwslcLq","W7BcS8oWFmk1","W5v8bCoyAW","W5VcK8oTtmkOpmkhW68d","bSozEtJcTCoZm8o2WQlcG2WGba","FIhdJSo+WOO","xmoVWPdcMSkK","v8kwww9X","l8oJDYdcOa","W6pdPSkdqmk2vG","BrDBCmkq","CHS1W6BdImoBvW","W5/dNG3cICkbjG","ccr9WPPB","a8oNW75BW6zZpCoY","WORcVConW5eb","WQSti2hcKa","WOlcQdCoqa","l8o3W4DSrCoIW7n/WPNdVee","WQZcIIWLASkZ","FgxdOSkeWOK","WQhcIqG/sW","ErHaxCo5dq","W7eQkCkO","5Osc6lg65l+o5A2/55AV5Bkf5OMC55QI5PEU5O2CksC9f+w/GoAmVoAqK+s8UUw3P+E4LEwgNoMbUUwpVUEuJhXkWPuh5lIi5Psw6iAO5yUm57UN5P255yYd55sBW5K6FCo65lUD6zA35yMT6kkA5yEJ6ycJ5y2n55EVWQddSwyT6iAq5yUd56Et5P685yY355ws","zSoBWRVcNSkS","W7nMm8oGuW","W5NcVCkVW6LN","W4pcSCo1s8ky","EmoCxIBdGa","E8oaWP3dLNJcONFdPCoc","AYtdJCoDWOi","rbFdGamw","dmo5mW","zsqotZq","WRrcl8oSc8kbW4z6","AwRcUc17","WPvjk8orea","W7a8igiK","wtzMW6SGWQW","WQnDl3Ot","edrdWOy","W5/cN8obW77cUG","FConWRRdNxG","hwBcKmkKW5i3kSoJWRvRwKRcNW","WPfie8o+ea","6ysy6Asz5OYb5PY45lIo5PsL5y+355EG","WRHuyentDrOV","WOnjW5JcNCo5","zq0IW6ZdGG","WRuwpxa","umodWPRcGa","h8oVW6TZW7q","WQ9jyuTFFHyTW7O","ESoHWQtdM2u","W7BcK8oPsSk1","WPT4WPxcUWq","WPiljwxcRa","sa5KuCo7","W4zyW7xdPaBcTCkWWRdcTCkE","lSo2ChlcPCk0E8kGofCNjSkT","W783lmktW4a","FKbmW5pdRW","tSkryNHc","WRRdH8oEW4PA","WPVdR8oDW4TE","W6iroSkYW74","ir9+xSka","WQXXWOtcRsGaWQbJwv7cVa","W4/dSIxcG8kR","ACkNyuzb","WRj+W6VcTW","W67cIqNcVHddHSo5","wJuaW4m","W4RcRCoGW7NcKG","ld1crmkl","W59CW4FdGci","WRPsywDqEHC","rtfSW6OGWQ/cUsVdMmkPWQe","rColsdJdPW","WOWzpwdcHW","WPhcPCoDhwy","WRXOi8o1WR4","WPm9a2NcLq","CbRdQ8oHWOK","WOZcIIWLAG","xX4nW4NdVG","W4lLTiJMVQZMT6y","WQ3dRmoLW4zo","DSopWOFdKNNcJ1C","dZ1qEmk2E8ov","wZVdO8o8WQ0","WOe7bMVcKmkcW70uWQyyWQxdJ8owrSkgWRNdUaqmEW","bYZcHq","cCorW6v7BG","WQVdRCoNW4DsW4xcNa","zMhdOCkqWQa","WRDPW73cOSoohCku","sePTW6tdPa","r8ozFGBdKq","WPC7bghcQa","tCoHFX0","DftdUCksWQj+DKSYhttcSH/cL1pcTCk3WPhdLf7cTSowW4VcMW","wJpdNSocWOi","dCoAvW","WOLwpSoNWPy","neNcHdaiWRm","WQXyk0aq","WR7cS8o+W5WI","W4FcJSoMw8ktma","W4VcH8oMW5VcMq","WP9DW7/cVSoz","WPpcP8obo3a","EeDDW5NdG0y0nmk6BmkyW6RdPa","weZcQbrX","Dsm0xH8","WPf4WPBcPYWvWOy","beJcKY0ZW40","wcpdG8oLWPniDCofWQHfs3/cS8k3BNK+WO5YE8oBmcK","b27cUbiI","y8oAWPZdIvK","W6hdKSoxfY4","WRFcSSoqW78D","WOnLgfWc","WReDhedcPW","W7zPb8o2tG","f8kVW44Pla","pWPlWRfX","nGXcWPjE","DMpdNW","W7FcLmkhW4rG","6z+a6kAS5ysq5l6c5y285P+GWPr/wmoR5OM155sx5Bod5OMZ5yAK5lMg","DSk6xu94sW99WPBdM2FcRG","W57cKSo3xCk/bSk6W4C8","CcmyW6pdVq","CmoLrsxdOG","W5PtW6xdHX7cOSkUWRdcTmkafXG","W5OjgvSL","wIVdIa4HbW","WRrok3aEW6xdRvRcJCoJ","gCouwYJcPa","DriKW6tdKmoBrW","scpdKSo5WQvPBSoIWQrxD2W","WRLKW6VcSSoeh8kv","fCktWQNcQSkzWRzGWOq","dSoTW45DW5i","WRHzkSolWOS","CmoSWRddP0u","gSoVBsZcNG","omo6yg3cTSkK","W5GbcxSWW4eKphudW6vBkG","W69vW4ldLHG","xX9FECkgtmoqFKtdIxtdNCoTWRNdKJ8XWPaRyLLFWPBcJmksW5S","WRBdRmovW714","ACosWRRcN8kb","tGimtqC","WRu2pvlcTq","WQKBifpcUq","W5pdHCowmt0","W450W4NdLqK","y8oJWPlcUSkd","WPjBW6lcVCov","fhBcQc0S","Fr9cDmkqtCke","DaVdJ8ouWRa","l8oeW65sW48","AJ3dJ8opWQq","yCkqrW0x","n8obW55U","WQjuW6pcI8oo","W7dcVCo1W77cNG","jmoVmYbQ","vCkGusGWvbddS8okWPmV","gSojBZNcRCohmW","FebBW5NdSW","pCo2jHfHWRFcRSkvfSkyqa","W4lcMmkWW6X7","WQX/W5ZcHSo/","sIldHai4","W7WpcCkUW7C","WONcMSoZpv0","W7ZdNSoqhYy","WPm3fG","W6tcM8o2oKqrW69L","ySopWOhdLMtcNMBdHmoRW4VdLu1c","p8oSzNdcJCke","W5LHcCoHEq","y8okWOhdUeu","ySk9c8oeW6K","wZpdI8o5WPfJx8ohWQrnvLdcU8kWC3m+WRH3","FaHtE8kx","Cmkwxgf6","WO3cIb7cSIVcMa","WRhcTSo/nui","jmoIW4D+Cq","W7BcMCku","W5HKW4ddQG8","WQ8cF8kGmmk6jSoFW53dVCkEW5ZdLq","WQRcSttcQdG","tJPTW6qS","D11E","WOr9gLen","D8k8fCoUW58","fmolW49CW6S","rSkusG7cUmolp8oF","W4/dKmo/eq0","bCodvadcIa","us9PqSoP","WQVcMXJcVJe","dCkms8kwW4ysbmkHm3NdVq","wLhcRJa","W6z5W7/dLti","eSkxsWGquZC","jSodfZXx","WOpcMCoMW6CX","WOldUmoKW5b/","WOtcOSoDW5uN","pWbUWOP9mmoDW74","wGHJW5mE","hqzXxmkl","WQ1ImCotpG","g8kQW4WKo8kLW6ZcOdW","W7BdRmkqD8k0xtu","jxxcQYm1","WQjcoxufW5RdVf8","WPXioW","uCoyWPRcNmkKWPK","WRtcH8o1","i3tcTbaK","gmkhW60Fka","W7C6kCkcW4PlvZ7dVG93fgTg","WR5ljCoTWRG","WQxcVSom","r8oFDd3dMa","wIldLmo/WOLHC8oxWRG","WPWOm1pcTq","vI5xvmoQ","W5SndK49W5aQmv4bW4jmf8oi","aCoEqhFcSq","FsVdRquL","WPiSg0BcKW","CSkSdCoGW6tcQmo8uwakWONdOmkt","pCoOW6D6FW","EmowxcddGc0ovcVdGvC5q1y","tcFdMaaXd8kVWPa","Et3dGSoNWPO","6yw26AsT5O+95P+u5yYc5l6o6AQf","W7BdKCojhqq","tctdLmo5WPu","WQXXWOtcRsGaWRDLtv7cJ8o4bW","FSkrd8oPW7W","W7NcLmkq","rSoJWR3cNCk+","WPZcIZS4uCon","dmoVmWDgWQRcMCkZdCkqxCk+W793W40","W6pdPmkrzmkWtc7cLvdcTa","WRnclG","cmoGW65sW6vXp8oZ","W6WNkv8","W4aZpmk+W4nCBJldSrvYge0","lXJcVsj+","WP87a2xcIW","WQjUp2Wj","bSoklIXC","WRBcNmoWoG","W5hcJSo6W7/cSq","WRH3dCoBWPO","gCoYiGy","AZhdNG","FtHrW6i4","zthdImoOWPK","fmoRW7LoW61XpW","WO47e0pcMSkeW7O","hZD6Cmk3","WP3dUSoHW5XjWPe","q0nXW4ldQW","sCoEWO3cTSki","DJaQAYW","jWrRWR1Si8oC","WPLvoCo3WPZdTmo/drG","A8ktvv5q","WQVcLmoGd0C","WO8WhelcJCk+W508WPG","FhRcNYbA","W49zW6pdGWVcTCk0","WQxcO8o0W5qf","zSkWhq","WQ9fjhevW77dJxBcSW","FSkNzbKj","W63dRCoP","FI5mxmkv","W7VcNSkgW6fiWRJcIq","k8o6W4XQxmoMW7S","hCo+lbH2","WQJcUW0/ESoKW5HL","W7Ske2iA","gSotW7TlBq","cYJcKHnb","FJddJ8oOWOtdRW","WQxcMXW","WPNdP8owW4LU","W6RdHb7cPSkN","lrrEFCkH","W70NeuOW","WQVdRCoNW4DsW4xcNmknrSkJ","lmoytxVcRq","tN/cSaDG","A27cJqH+x8kwcYxcHZRdN0LYW4Cv","tqC1xXq","W6lcNSovW4xcMG","ww3cTbjw","W4JcRmoGW4tcUmoUj1LXWOpdIG","tCkTyJC4","W57dTSoRnb3dJq","ya1xvCoEhwigmsVcLSkPWPC","W5NdM8klzCkb","WQT+gLim","WOHUa8oCWRG","WQ7cOcVcPbW","WOiehudcUq","EfNdQvy","WRvKhfGu","xdzX","W5ddHa3cTCkb","W6dcQ8oZCCkD","nCoRW4rqW5q","vSobWRpcG8km","emozDsBcQmoLlSoQWQ7cKNK7h8odW5dcUKD1W4a","WO1vW6pcVSoy","WOFcNmo3merc","jSonlX5I","WO/cJGKSwq","WOtcGmo1ge8","6BIy55UR5BcC5y+v5BYX5zc2qYNdSwu","FmkUEwf8","W7mZpmk0W5u","WOBcMXCKAG","W5RdI2X7iCk5W5zxFgddUxm","nvxcQbeoWQrgW5ddImonW7m","FWjgwmorb0ap","sCoJxtNdVW","W7NdTH7cVSkE","W77cMCobW4BcPq","gsHEWPXwj8okW7JcNgBdImoQ","EZXmDmoO","FvTAW5FdO0uLaW","hbbCWPbc","rSoBWOVcQ8kR","W6TaiSoUqq","mK7cKYSVWPbBW4tdMa","EthdNCo2WOldVSk7tSkek3aRoW","WPP4WPhcTYu","W6TsomoYBSo6umoNW6ddLmkEW7tdIa","xJaIW6/dSa","WRbPoLiF","W6xdSmkhqmkCEG"].concat(["AWRdOa","WRfqWQRcGsS","WPDJfSoSmq","zaraxG","rvBcIdzo","hCo1nbXhWOhcPG","W4byW7/dOXJcNSkiWPtcMG","sdvLzSkj","w8oprsxdLYHAssVcJ2u1wLaXsKvNW5rQrG","iNVcSbOJ","W4Ghkx8JW5WPmW","WPX2W5ZcG8o1","fmkSW48FiSkRW7u","u8k2qW","W7VcJ8oRs8k3","hSo/mW","W7pcKSkbW7DN","5l6M55QV5AwJ6l+t5Q2g5PEgWRBMGidMR57ML6FdSSkdcaLV","bxlcUXOY","pSocCa3cQq","WQhcSJ0IuW","W5NcRCoQBCkc","WOZcMSoMl2u","WPdcRqdcItO","FCo+WRldTM0","WOzlA3v3","mCowtHJcLG","rKFdUCkt","Bs3dNCoU","e8kNW5yOp8kmW4ZcIbq","FCkyy2jq","WQbbku0j","W6VcN8keW6XwWQ0","WOLCWRFcVXC","kmkhW70udG","dmoVmWDaWRFcMmkxmmkbxCkKW7vR","bCoIeW","lCoKW4XNqW","55Qx6icK44gF5A+s6zIU5O6l5P6l5BYr5zcX","W5HBjmoWBa","FbddT8oGWQO","WRhcMSo3nLGFW6i+uG","WRTyWRe","FmkJWPW+b8k3WQXVWQJdM1b6cG","pbLLWRvS","AGTgzCkmwSkenv7cMNBdISo3W7JdKZv4","x8kOBtmv","tHtdVSofWOq","EuhdUmk6WRW","BWvOW7Ce","e8kgvmkYW7W","xebBW5NdSXm","W5ZcRmoMW7FcSCo5z09MWPNdQYCQWQO","eSo9W6HiW41B","WPdcNb3cGSkqEsZdOSojWQxdGeS","j8oJtX4","WQRcVbu","ttZdMq4H","pHXewCkR","WR3dUSoHW5Xj","WQhcRYqYuG","l8ktymkoW4a","qbb7yCkz","WRNcU8opW7qr","fmoeEsNcP8ofmG","ACk3EgXq","uK7dRSkEWRS7CW","WP9+W7ZcVSoDqa","B8opqI3dNse","ASkIFtC3","WR1wWQNcVWK","5OwF6lgl5l6X5A6F55w45Bc45OQL55QU5Pwq5O+FW7tdJYVdU+w9V+AoK+ArR+s8T+w0G+E7MUwgG+McIEwmQ+EvJCoVnepdJEs5M+AuT+IgTEwlRUE6OEADIowmTEEuVSoqrfhcJUs4NoMuGowiOUIGUowhLEMdIowmN+EuGmoDamk5aUIfVEwiK+ENMoACSownUEEuHq","irZcPqL2wfv5cmk3WRZdJJe","kCoEuLRcPG","tYVdNYq/bSkNWPhdUqfWusBcRG","W6JdSmoRmGhcKcutta","bmk4r8kiW78","sbf5W7uh","W4DsW5FdIcK","W77dS8kQwmkG","d8ofANdcLq","W7iyb8kaW6O","W6jrW6NdOae","uhNcUcb7","DWVdG8oTWO4","WQtcGCo3gLCBW6m","v8ooWOVcR8kzWQL7WQHKW7i3WOi","WOvpkmo2WPpdVCoXdG","WO1jywLE","ctDYzmkTEW","yXfg","tHpdTSoeWRm","Ba1tz8kQBa","WO7cUGyzEW","WRVcJH7cTdFdHCkTFmkd","W6ZcP8kVW5z5","oh7cSGyg","pCo+CwW","W6PggSoHzG","W6pcU8oIW5RcLa","WPlcOCowcW","DmoKWQZcUG","xaT9F8of","kCkbW7CA","WOpcO8o0W7Co","xSoHWRldTW","WRdcTSoiW70m","WPfTagmK","5P6x5R2X5RweW43ML4VMJzxLSzdMIjlLJyFLVyBMVBxMTipNOk8","iWBcTqm","5PYg5zc35y+U5l+w6AUz5lUC5AE1C8ovWQZdSq","DIGSAaC","ArTkW4S6WQJcTsNdNSk9WQ7cPCozW6pdJwFcRSk8dCoLWQO","DSkRc8oGW5q","WRhdPSo9W5zjW6pcR8klBW","pmkOW5eHkmkGWRJcStFcV8kbWOC6iCoHtCkdW48LW7jxWRK","WOvPi8o5WRu","xmkYE2b/","W7FcI8oMr8kU","5P2Z6iAq5ysT5l6D5y6+5P62","WRNdRmo3W7znW47cLCkYB8kZW5WNl0ZcTXu","FY8vW6tdIa","DbnLv8km","hmktW780ca","W51yW4FdTGe","eCkwx8kvW5y","WPLpyu1diW","whfLW4tdMa","A8oJWORcVmk0","W6VcHSobW6y","d8keW78caq","j8oaFtpcQCosaSoZWQBcJL86gq","W4JdGHRcN8kTea","WO9Vnmovna","qc4IW6BdRa","W4VdI8okdW","vCk4emoJW4pcO8kODNHdWPRdPSkpWRu3aCo3FCo1bqdcRq","FSkSc8oxW4m","WPFcRYxcGG","tsPqx8kb","BGS3W7tdNa","g8oAW6zE","iCoTW55QW7y","WRnFW6/cG8o8","ECohxYJdKcaFwq","W4qzp3ON","a8ofCs8","FsFdNYi3","AthdG8oJ","W5NdKcBcOSkZ","WQDica","xtNdTCoIWPvVDmow","q8k1gmo2W4pcTColBwinWOK","lmocW5HJBG","vmk+r2fA","yXHeqSoegNadic4","Emo6WR/dOgm","WPr1Eg9Z","55wK5Bgb5OIV5y6o5lYS55wl","sYT1W64X","WQCTk3BcLG","WOTup8oXWRNdSSo4oaNcPKCJW67dGmkuW7q","rwJdImk5WOe","DdzaC8k5","h8okW5P7W4u","quFdVW","WOqemvlcLq","oCoRyNdcSmkFBmkHeeq","W6pcOmoCW7dcLq","WP7dVmolW79s","WOzwkmoRWR8","W6ldK8kL","WRjJbSoGiq","CL5dW5pdKG","WO16W5NcG8oR","umoQqcldGa","WRNdVCoNW5X5W4tcJ8kvv8k7W5SMoq","W73cMmkv","jmoVs2JcSq","qaGKW5BdNa","wYVdMrC2eCoNWOFdRHTr","e8o8uhRcIq","xhddR8k8WR4","imoVW6bF","AmodWRtcQCkv","WOvodmoPWRK","WPH8WPhcTt4xWPC","jrXek+wgJ+s8SUwpTEACGG","pSo4A1xcSa","W6tdSCkxvW","WQXAW6hcVSoE","W6ZcNSkgW6W","x8kOxurl","ENdcVIXo","a8o1ma","lrncrSkB","WRhcKbBcIsK","DCkZuLjnsZrGWPJdLK/cT8oJ","yCoaWPhdKvi","W5S0mSkMW4K","kmoOnqD2W78","WQDLj8o1WOa","W5bhlCoBqW","tCocttddLZ4UvcxdGuqLqq","WPRcM8owhve","ymkTqurAaW","q8k3vXCW","wZCoW5ldNq","FLDhW5pdS0GSi8kKzSky","WORcKdS4","tZ4XuIaljhZdMG","WQT5m8orga","oa9mWPTl","nXz5WRbB","cqPaz8kP","W6v/W6BdRG0","5yso5l+46yw06Aw/5O6X5P2B5y2K5P+n","WO5Ln8o2da","WQ/cTWODBa","fXLEWP1O","WPNdI8oFW4fI","6yEj6AA15O2i5P6T5BEY5yE96zE4","sciMvq","r8kMure0wHtdS8oC","q8k4dSoOW5y","CLpdH8kBWQG","W4RcUmogu8k5","DruLW6i","j8ojFrVcGa","qevzW7/dTa","yq1VWR99CCogW6tcN3RdK8oFbK7cVSoNftJcLSo+xHhdTrSufGCh","W6qAo3mW","W7GXgxW6","hCkTW5u8aa","wmkBeCozW6u","wXO5CJG","sayRxce","CbpdH8oQWRm","WQnTA8o1WP8BdX7dGrPxlM8","W4XChSocrq","C1RdO1Cnb0zShCkZWRZdMG","rfxdRSkpWPKA","BaSIW7pdIG","W4SNd3Ss","W5lcVCohW77cLa","W4e8cmk0W4u","pCo2jHfHWRFcUCktaSkyC8kLW7K","lqxcNXvX","W5tdQSkr","WPRcPCoPb3u","W5pcMCoNBmkSeCk9W5ydoCoCsLKhW5Sl","WQZcUYdcRc8","nSkKs8kmW4O","WQXVueHe","gJzYvmk4E8oFi3nxWOjqB35+vq","fmo7W4rpW5e","n8oWcb9d","rJLTW7qH","dSoYkb1UWQZcJmkuba","BwZcMaf5","aSoVwMhcNG","bmoVW7LzW6W","F8k8f8oOW5lcRW","W7JdHXRcG8kq","W7xdSCkqxCkN","WODmeCo9","W6JcU8krW4DU","5l6j55M85Aw36l6n5QY55PE5WP7MGkRMRl/MLB3cRtGVWPBcSa","FSopwcRdMG","fIVcHY9Z","Dmk8dCokW4RcOSoLz3KxWR/dUSkYW7e","CWGZW6JdIq","W7q2lSk3W4DAwtpdLq1qa1y","WORcKd8KF8oS","d8o7kbfr","WPbWlSoqWQi","vmkMuLLm","qG7dGmoXWQO","bmoMW6XuW6n6","WRFcVSopW64fv3ddO0XqcvJcMa","FSogssRdMsKE","sdPYB8kM","sIBdGCohWOe","W6bFyrZMV7hMTklNOB7KUyBPM5pKU5xOHylLTAhKV4xNLPBdKhVdJ8kB6kY15y2/5PEw54oI5yAo6k+i6yoH55695lMu5Awc5yU65yM457om6lw55P+O","hCoLqflcJW","sYldIHiG","W4yAmv0O","rZldOmoyWQq","W57dNr7cNSkx","jaJcPqDhuLu","yWLrrmozb0aHmt8","x3/dP8k1WQe","WP9XWO3cUsO","C8oEWOpdN3m","FHTcumkptCkDB0xcNvhdGCoqW70","W7ldGmkiqmkm","Fs9WuSoh","WQnbhCoRcG","W6q6lSkZ","WOlcTtmmyG","W5/cQmoMW5pcRSo5FG","jCo8W6zXW6e","yIFdSGSA","WQPOW7JcM8oK","W6/dTSoWoGpcOYuyua","WP3cMY4NEG","WQDEpNSVW7hdIKZcLSoJWRhdLW","vCkWqf9RFsS","WOu2f1u","W7z7pmoXwG","BNFcJGv1umksgW","W57cU8oixmks","WRFcSCogW6Oq","mCkFW4Wuka","yXHxwCoEdK4mlq","WORcN8oxW7mV","zG1jrCov","WOZcKX8","W5bvhSozEa","g8k8W4WId8kRW6ZcLI/dTSktWOeM","W5pdHYZcVmkh","WP9oWRhcOX0","WP5ZreDu","vZRdI8o/WOK","WO54WOtcSdqHWPDTxKq","WPH/WQtcPs8","hIbKFSk8","d8onzt3cPW","W7HspSo0Aa","CCoBWOhdVgZcJeRdI8oRW5tdVfu","hYZcHYn6yW","WR9vCKXwFa","WPLoWO3cPXG","WQlcS8ooW5uR","WOXfn8oFaq","EaTcESk0xCk6y0RcH3tdQ8oUW7ddIJmT","W5tcJ8kHW5rm","W6FcH8oeqSkD","W6n8b8oLBa","ESolwaZdNIKxwcRdM0ePz1C","W5bYcCoIDq","qchdGSo8WQG","rWZdGdCs","e8oeW5DFW5e","Cmk1qhjN","dK/cSryM","ECo8WQFdIwK","afxcPdGu","W6JcUSoHyCkm","WRHEW6tcQ8oH","iItcGI92","WRr8W4BcU8oA","AuVdO8kWWOO","tZDEFSkV","uCoqemolWOPuvmkadw/dSr7cQW","gmoPiHPnWOe","W4dcRComu8k0","W65al8oLsCok","vLpdOSkrWRqxuW","oH/cPs1D","sZFdQHm4","uaHUwCke","WPH0WPBcTs8EWOzO","W7pdRmkVrCk5","W5ZdHaVcGG","umo5WRNcMmkI","yHuhW67dG8oBrW","6BUD55QO5lIn5yw55BoS5y+F5yUh55M06io35yM26ioU5y2x55AX776y","AeDmW4tdUhOLc8kOzSkyW6BdVG","W7qqkCk3W7y","qSoREGZdVbG","cCoZnaLMWQNcImkE","CCogWPldNw3cJW","W6lcP8oFW4BcPW","W5n7W4NdJsu","e8oVbbOrcZnyWRBdT3/cTa","rSkZuLHB","W508feOi","uNZcVavC","wsxdJSoVWQy","y8kEoSoRW5i","WQhcJ8oXpf4","W7pdNUAEJwBML5pLIlxcTZPztUMBKEAwR+whOUI1IEEuSa","WOZcQCoFoea","W61tW5xdGsq","EI8JW4ddRG","wIldN8o6WOi","W5ZcMCofz8kz","W6Weg3i0W4CtpveBW4Damq","5P+U5zkg5Bw35lYm6AQ6rmoPkHxKURRMLAtLJRBKV5dNLzG","zHGiwqe","W73dT8oQmHu","W413W53dTXW","WQtcMZ8BBq","WRZcLColW7mo","W5pcRmo7W5dcUW","fttdLmkO5zoP5y+P5yAx5Q6q5l6s6AQV","FCk9p8obW6u","bmo8As/cOW","DColWOFdTMBcJ07dJCoGW5ldSLP/kG","WPjTWQ3cVJG","wc/dNW","wHKaW57dIW","W77cV8o3W5ZcQq","WR1YWQdcRHG","o8kcW7qMcq","W6q3omkP","WPHflSobhG","WPjXrKHj","aCofDMdcGa","WQLGW6FcSSok","z8k+eCoyW5i","5PYf5zc+5y2j5l+f6AMR5lIg5AsZWO3cO1eC","WQL8A3TE","hCkOW5uOh8kHW7VcQIRdU8kuW40Pj8o9uSkfW5uNW65mWQHHl8kK","WPpdN8oBW4Dn","55Mo5lUn6yo85yQ15BEr5yAU6zsa","wmkakCoBW7u","bCkhuSk8W58edmkGmNRdKstcRZe","xdFdQ8o8WRy","W7hdPXxcMCkL","CaPtEmkTxCkD","A8kKybea","W4NcRmoIW57cVmo/BW","WPTVWOdcSsm","j8oNBHJcIG","rqhdPIOu","W7/cMCkmW6zqWOlcHdu","dcvb","pCo7wbZcQW","WRH0lmo1oG","WO7cGd7cJWm","WR7cKXW","l8oTCw3cTG","W7XwpSosBmoREmoUW6VdJCk5W6pdTvq","emowW69vW6C","cSkMW4O5","WRDlWO/cJqu","rmkQr0rQvHraWPFdNMhcRmoLW6rP","WR1Ez0ThEaSUW6C","W73dNCoapYK","5l6455Im5AA66l205QYA5PEBW5tMG73MRilMLQRcJ28OumoS","umklpCoTW4e","FmkeDqa0","ErqIW6/dMSoqrb4","qZfVW6aNWPtcIaldUW","WR9+W7ZcVSoD","wxBcSHfD","W63dVIZcUq","WRZcMW7cStW","WQmSaeJcJCom","zqpdPdq1","C1FcVav1","yG1lvmoFba","WRFdISoKW55r","fCoRW65vW7z7cmo6WP5eumk7","W7BdR8knxCkN","zHbfW704","omoBW4rL","sq98vSkg","WPzhk20cW4tdJvlcNSo5WPxdIGu","b0RcMWST","emojCI/cVSoboSoEWQ7cG2W","W7VcS8oe","mX3cOW9AueHmbG","mCoJW45iW4u","imo7aGfg","WPn1W7ZcL8od","W4xdOc/cH8kN"]));return (IiIlII=function(){return e})()}async function recGameRecord(e,t){const i=lIll1lIl,n={FcSPr:i(1103,"NQoo"),mdBBF:function(e,t){return e!=t},PKrRF:function(e,t){return e===t},gepoI:i(335,"d2p3"),bBCTO:i(303,"*ZwX"),MGDJA:function(e,t){return e||t},ZAPxv:function(e,t){return e(t)},wOupC:i(977,"%ZyW"),KfTNx:function(e,t,i){return e(t,i)},ndFNC:function(e,t){return e+t},rXVvg:i(1361,"r^!M"),vAEhY:function(e,t){return e(t)},ohqTf:i(1374,")@LY"),DhYMc:i(984,"]]yH"),BNWee:i(1524,"V#my"),UOXtA:i(955,")@LY"),Nbzzz:i(1175,"XRHW"),qyard:i(278,"$cn0"),nuewO:i(1313,"$cn0"),UdWIi:i(1464,"IT&7"),tfYBH:function(e,t){return e+t},OBHMM:function(e,t){return e+t},KtgLC:function(e,t){return e+t},OOnSX:i(1618,"zmB["),qevFW:i(910,"piO["),cpgQf:i(1631,"xiZY"),sOVLs:i(1235,"kWIo"),vhUFl:i(1142,"Efmt"),BUsFr:function(e,t){return e+t},JeITt:function(e,t){return e+t},coMwl:function(e,t){return e+t},sEBfo:i(762,"]]yH"),lTiQw:i(565,"uAs]"),HAOjR:function(e,t){return e+t},tnVpk:function(e,t){return e*t},gIDhQ:function(e,t){return e+t},GgfQK:function(e,t){return e-t},uARkZ:function(e,t){return e==t},obdFC:function(e,t,i){return e(t,i)},vsRWP:i(261,"zmB["),YWGwG:function(e,t,i){return e(t,i)},TjnsJ:i(290,"RQD3"),IoQvV:i(626,"k]*0")};let l=gameRecord[e];l||(gameRecord[e]=l={});let o=!1;if(t[i(1435,"V#my")]((({figure:e,game_result:t,game_time:a,game_over_time:s,used_general:r,label_mode:c})=>{const d=i;if(n[d(524,"V#my")](t,255)&&!l[s])if(n[d(1453,"NQoo")](n[d(472,"RVwW")],n[d(563,"r^!M")])){const e={UIoJR:n[d(914,")@LY")]};iil[d(857,"Eyia")]((({id:t})=>{const i=d,n=I1lIi[i(824,"XRHW")](t);n&&(n[i(343,"xiZY")]=!1,n[i(640,"@Zw2")]=!0,n[i(476,"uAs]")](new i1ililiI(e[i(607,"%ZyW")])));}));}else l[s]={shenfen:e,result:n[d(401,")@LY")](t,0),duration:a,general:null==r?void 0:r[d(715,"piO[")]((e=>initMap[d(980,"wY$C")][e]||e))},o=!0;})),o||n[i(805,"RVwW")](t[i(1034,"0(9L")],0)){o&&n[i(546,"SiTu")](localSet,n[i(593,"RQD3")],gameRecordAll);try{user.v&&await n[i(725,"XRHW")](ll1II1,n[i(1528,"r^!M")](ilIiiili,n[i(647,"cqL(")]),{method:n[i(1440,"pdH1")],body:JSON[i(1647,"OoN0")]({[user[i(904,"Mt^T")]]:o?gameRecord:{}})})[i(1303,"LbCh")]((e=>{const t=i,l={jSmkm:function(e,t){return n[i11IIii1(416,"^p(I")](e,t)},aZupm:n[t(477,"q8h5")],VkNUP:n[t(567,"Ah%!")],cckTz:function(e,i){return n[t(1197,"^p(I")](e,i)},ChVSN:n[t(1662,"#^#!")],oBkVA:n[t(1094,"NQoo")],zvAtJ:function(e,i){return n[t(569,"yI0i")](e,i)},WNjtH:function(e,i){return n[t(850,"Ah%!")](e,i)},xcTpv:function(e,i){return n[t(1169,"0(9L")](e,i)},MCiyY:function(e,i){return n[t(1159,"kWIo")](e,i)},ZCIqq:n[t(1564,"^PVF")],lpnwF:n[t(370,"uAs]")],iUMVG:n[t(1048,"%ZyW")],FeDdh:n[t(1624,"SiTu")],swcky:n[t(453,"nkL0")],snbbX:function(e,i){return n[t(361,"RVwW")](e,i)},rEkuj:function(e,i){return n[t(1508,"wY$C")](e,i)},QIDdF:function(e,i){return n[t(905,"nkL0")](e,i)},KVtYe:function(e,i){return n[t(586,"XRHW")](e,i)},NHKnu:n[t(627,"Ah%!")],xYPmC:n[t(516,"pdH1")],tcpmb:n[t(1054,"HZzV")],XCmcC:n[t(737,"@Zw2")],cyArk:n[t(1299,"qZdu")],NLfux:function(e,i){return n[t(1059,"HZzV")](e,i)},VATWU:function(e,i){return n[t(310,"HZzV")](e,i)},gPzIv:function(e,i){return n[t(974,"qZdu")](e,i)},PCnnA:function(e,i){return n[t(1294,"TW%5")](e,i)},ooGwK:function(e,i){return n[t(1135,"nHJe")](e,i)}};if(!n[t(266,"9rZ5")](n[t(1327,"pdH1")],n[t(619,")@LY")])){const e={GISUi:function(e,i){return n[t(1215,"OoN0")](e,i)},iLwGo:n[t(1015,"cGbY")]};return n[t(1090,"qZdu")](I1iIli,n[t(1407,"d2p3")](ilIl1lii,t(414,"]]yH")+IIIiIili),{method:n[t(986,"^PVF")]})[t(963,"SiTu")]((i=>(i&&e[t(377,"nHJe")](i11lIllI,i),i)))[t(330,"nHJe")]((i=>{const n=t;return l1lIll1l[n(445,"Efmt")](e[n(1606,"r^!M")],i),[]}))}!e&&(user[t(342,"TW%5")]=n[t(1366,"@Zw2")])&&n[t(322,"9rZ5")](setTimeout,(()=>{const e=t;l[e(265,"NQoo")](l[e(1345,"^p(I")],l[e(1114,"9rZ5")])?(l[e(856,"cB2g")](IIliIiiI,l[e(1384,"%ZyW")]),lI1Ii1i1[e(1026,"^PVF")](l[e(1430,"%ZyW")],IlilIlll),l11li11i[e(419,"kWIo")]=lIl1l1li):(laya[e(1069,"nkL0")](l[e(651,"pdH1")](l[e(1637,"*ZwX")](l[e(1568,"XRHW")](l[e(436,"#^#!")](l[e(1617,"#^#!")],l[e(610,"TW%5")]),l[e(1280,"Mt^T")]),l[e(1318,"#^#!")]),l[e(465,"*ZwX")]))[e(415,"RQD3")](l[e(970,"r^!M")](l[e(374,"qZdu")](l[e(528,"Eyia")](l[e(1085,"xiZY")](l[e(989,"nkL0")],l[e(1202,"nkL0")]),l[e(1077,"dgNs")]),l[e(351,"SiTu")]),l[e(1132,"9rZ5")])),window[l[e(774,"nkL0")](l[e(696,"%ZyW")](l[e(338,"xV(N")](l[e(967,"^PVF")](l[e(1609,"xiZY")](l[e(1007,"Yen7")](l[e(706,"LbCh")](l[e(1441,"pdH1")](l[e(957,"cqL(")]("S","e"),"n"),"d"),"L"),"o"),"g"),"o"),"u"),"t")]());}),n[t(574,"zmB[")](Math[t(321,"Efmt")](n[t(896,"Ah%!")](Math[t(323,"Ah%!")](),n[t(1583,"qZdu")](n[t(413,"SiTu")](3e5,1e4),1))),1e4));}));}catch(a){console[i(885,"0(9L")](n[i(1636,"Ah%!")],a);}}}async function getGameRecord(e=user[lIll1lIl(522,"$cn0")]){const t=lIll1lIl,i={izePq:t(518,"#^#!"),kGJLq:function(e,t){return e===t},rCZnO:t(417,"kWIo"),KFAcU:t(1029,"bv[5"),JiYjI:function(e,t){return e(t)},XapdE:t(729,"zmB["),Ktvbk:function(e,t,i){return e(t,i)},vInNx:function(e,t){return e+t},bKXua:t(274,"cGbY")};return i[t(596,"Eyia")](ll1II1,i[t(347,"zmB[")](ilIiiili,t(1186,"xiZY")+e),{method:i[t(614,"piO[")]})[t(467,"d2p3")]((e=>{const n=t;if(!i[n(1558,"piO[")](i[n(485,"Mt^T")],i[n(1483,"RQD3")]))return e&&i[n(1074,"9rZ5")](setGameRecord,e),e;iIiil1i1[n(590,"wY$C")](i[n(697,"Eyia")],IIli1l1i);}))[t(624,"piO[")]((e=>{const n=t;return console[n(1036,"nHJe")](i[n(1330,"$cn0")],e),[]}))}async function postCDK(e){const t=lIll1lIl,i={qyyVd:t(777,"IT&7"),JpPVE:function(e,t,i){return e(t,i)},eCelm:function(e,t){return e+t},AsYQi:t(828,"dgNs"),Axgge:t(873,"d2p3"),WGjmp:t(608,"piO[")};try{console[t(297,"Yen7")](i[t(410,"xV(N")],e),i[t(1432,"SiTu")](ll1II1,i[t(1503,"Eyia")](ilIiiili,i[t(932,"pdH1")]),{method:i[t(352,"q8h5")],body:JSON[t(765,"$cn0")](e)});}catch(n){console[t(1098,"^PVF")](i[t(512,"#^#!")],n);}}const gameScene=["TableGameScene","HeroBattle1v1GameScene","ShenWuZaiShiGameScene","RogueLikeGameScene","RogueLike1v1GameScene","PointRace2V2GameScene","ZhuGongShaGameScene","GuanDuZhiZhanGameScene","ShiDianYanLuoGameScene","HuLaoGuanGameScene","ChallengeMatchFigureGameScene","ChallengeMatch2v2GameScene","GuideFiveFigureGameScene","GuideHappyGameScene","NewBieForceTrainGameScene","NewBieForceGameScene","QMBZGameScene","LZHZGameScene","ShenZhiShiLianGameScene","QianLiDJGameScene","DouDiZhuGameScene","GuideGameScene","New1v1GameScene","TSGameScene","XzcbpGameScene","PaiWeiGameScene","GuoGameScene","ChallengeMatchDouDiZhuGameScene","ChallengeMatchCountryGameScene","OfflineMatch2V2GameScene","DouDiZhu2023GameScene","ObDDZGameScene","ObGamePractice2v2Scene","ObGameScene"];async function retry(e,t=20,i=500,n=()=>{}){const l=await Promise.resolve(e());l?n(l):t>0?setTimeout((()=>retry(e,t-1,i,n)),i):n(null);}function wait(e,t=20,i=500){return new Promise((n=>{retry(e,t,i,n);}))}function sleep(e,t){return new Promise(((i,n)=>{setTimeout((()=>i(t)),e);}))}const laya={instance:{},scene:"",gamescene:null,flag:null,limit:300,order:[],select:()=>null,skill:()=>null,card:()=>null,seat:()=>null,btn:()=>null,deal:()=>null,trace:()=>null,classes:Object.fromEntries(["SgsSprite","SgsText","SgsTexture","SgsFlatButton","SgsSpriteButton","SgsSpriteFilterBtn","SgsImage","SgsFlatImage","BaseEffect","BaseSpineEffect"].map((e=>[e,void 0]))),class(e,t,i){var n,l,o,a,s,r,c,d,u,p,h,m,f,g,W,I,y,v,S,b,w,k,C,x,R,D,T,L;if(t||!this.classes[e])if("function"==typeof i)this.classes[e]=i();else if(i)this.classes[e]=i;else if("GameEventDispatcher"==e)this.classes[e]=null==(n=this.find("SceneLayer"))?void 0:n.ged;else if("SgsText"==e)this.classes[e]=null==(l=this.find("SceneLayer","","topMenu","timeLabel"))?void 0:l.constructor;else if("SgsTexture"==e)this.classes[e]=null==(o=this.find("SceneLayer","","topMenu","lineBg"))?void 0:o.constructor;else if("SgsFlatButton"==e)this.classes[e]=null==(a=this.find("SceneLayer","","topMenu","logo"))?void 0:a.constructor;else if("SgsSpriteFilterBtn"==e)this.classes[e]=null==(s=this.find("SceneLayer","","topMenu","backBtn"))?void 0:s.constructor;else if("SgsSpriteButton"==e)this.classes[e]=null==(d=null==(c=null==(r=this.class("SgsSpriteFilterBtn"))?void 0:r.prototype)?void 0:c.__proto__)?void 0:d.constructor;else if("SgsSprite"==e)this.classes[e]=null==(h=null==(p=null==(u=this.class("SgsSpriteButton"))?void 0:u.prototype)?void 0:p.__proto__)?void 0:h.constructor;else if("TimerManager"==e)this.classes[e]=null==(m=this.class("ActivityGameDataManager"))?void 0:m.timerManager;else if("ServerProxy"==e)this.classes[e]=null==(f=this.class(this.classes.TaskManager?"TaskManager":"ActivityManager"))?void 0:f.proxy;else if("AchievementManager"==e)this.classes[e]=null==(g=this.get("AchievementView"))?void 0:g.achManger,this.del("AchievementView");else if("ActivityManager"==e)this.classes[e]=null==(W=this.get("TaskDailyView"))?void 0:W.manager,this.del("TaskDailyView");else if("PromptLayer"==e)this.classes[e]=null==(y=null==(I=this.get("FcmTipWindow"))?void 0:I.ParentLayerInstance)?void 0:y.constructor,this.del("FcmTipWindow");else if("ActivityGameDataManager"==e)this.classes[e]=null==(v=this.get("RogueRuQinWindow"))?void 0:v.adManager,this.del("RogueRuQinWindow");else if("GeneralSkinManager"==e)this.classes[e]=null==(S=this.get("GeneralSkinView"))?void 0:S.gsm,this.del("GeneralSkinView");else if("RoomControler"==e)this.classes[e]=null==(b=this.get("RogueLike1v1Scene"))?void 0:b.rc;else if("RogueLikePveManager"==e)this.classes[e]=this.find("SceneLayer","RogueSmallMapScene","PveMgr"),this.classes[e]||(this.classes[e]=null==(w=this.get("RogueSmallMapScene"))?void 0:w.PveMgr,this.del("RogueSmallMapScene",3e5));else if(("BaseEffect"==e||"BaseSpineEffect"==e||"SgsImage"==e||"SgsFlatImage"==e)&&(this.classes[e]=null==(x=null==(C=null==(k=this.gamescene)?void 0:k.SelfSeatUi)?void 0:C.getEffectType("BaseEffect"==e?2:4))?void 0:x.constructor,!this.classes[e])){const e=this.get("SkinInfoWindow");if(!(null==e?void 0:e.skinBigSps))return;Object.assign(e,{skinData:{skinBaseVo:{}},generalinfo:{ItemID:1}}),e.showRightInfo(),e.skinBigSps.CreateBgEffect(),e.skinBigSps.CreateSpineEffect(),this.classes.SgsImage=null==(R=e.skinImg)?void 0:R.constructor,this.classes.SgsFlatImage=null==(D=e.skinRightImg)?void 0:D.constructor,this.classes.BaseEffect=null==(T=e.skinBigSps.bgEffect)?void 0:T.constructor,this.classes.BaseSpineEffect=null==(L=e.skinBigSps.spineBg)?void 0:L.constructor,this.del("SkinInfoWindow");}return this.classes[e]},get(e,t){var i,n,l;if(e in this.classes)return this.class(e)?new this.classes[e]:void 0;if(t||!this.instance[e]){this.del(e),this.instance[e]=Laya.ClassUtils.getInstance(e);try{null==(n=null==(i=this.instance[e])?void 0:i.Init)||n.call(i);}catch(o){console.error("Laya instance "+e+" Init() error!");}}return (null==(l=this.instance[e])?void 0:l.timeoutId)&&clearTimeout(this.instance[e].timeoutId),this.instance[e]},del:(()=>{function e(e){this.instance[e]&&(this.instance[e].parent||("function"==typeof this.instance[e].Close?this.instance[e].Close():this.instance[e].destroy()),delete this.instance[e].timeoutId,delete this.instance[e]);}return function(t,i=0){this.instance[t]&&(this.instance[t].timeoutId&&(clearTimeout(this.instance[t].timeoutId),delete this.instance[t].timeoutId),i?this.instance[t].timeoutId=setTimeout((()=>{e.call(this,t);}),i):e.call(this,t));}})(),find:(()=>{const e=e=>Array.isArray(e)&&1==e.length?e[0]:e,t=e=>"[object Object]"===Object.prototype.toString.call(e);function i(t,i){var n,l,o,a,s;if(i in t)return t[i];{let r=null==t?void 0:t._children;if(null==i?void 0:i.endsWith("Layer")){let e=["BottomLayer","BackgroundLayer","SceneLayer","AnimationLayer","WindowLayer","TopUILayer","PromptLayer"].indexOf(i);r=null==(n=null==t?void 0:t._children)?void 0:n.filter((t=>t.layerOrder==e));}else if((null==i?void 0:i.endsWith("View"))&&(null==(o=null==(l=null==t?void 0:t.viewStack)?void 0:l._childList)?void 0:o.includes(i))){let e=t.viewStack._childList.map(((e,t)=>e==i?t:-1)).filter((e=>e>-1));r=null==(a=t.viewStack._childUIList)?void 0:a.filter(((t,i)=>e.includes(i)));}else i&&(r=null==(s=null==t?void 0:t._children)?void 0:s.filter((e=>{var t;return e.name==i||e.sceneName==i||(null==(t=e.constructor)?void 0:t.name)==i})));return (null==r?void 0:r.length)?e(r):[]}}return function(...n){let l=t(n[0])?n.shift():Laya.stage,o=n.reduce(((n,l)=>n instanceof Object?Array.isArray(n)?n.length?Array.isArray(l)?e(n.flatMap((e=>l.flatMap((t=>i(e,t)))))):e(n.flatMap((e=>i(e,l)))):[]:t(n)?Array.isArray(l)?e(l.flatMap((e=>i(n,e)))):e(i(n,l)):[]:[]),l);return 0==(null==o?void 0:o.length)?null:o}})(),chat(e="",t=!1){var i,n,l,o;if(!t)return (null==(n=null==(i=this.gamescene)?void 0:i.chatViewUI)?void 0:n.chatInput)&&(this.gamescene.chatViewUI.chatInput.text=e);"string"==typeof t&&(e=t+":"+btoa(e),t=!0),!0===t&&(t=(null==(o=null==(l=this.gamescene)?void 0:l.chatViewUI)?void 0:o.chatInput)?2:7),"number"==typeof t&&this.class("ServerProxy").SendPbProto(104001,{chatmsg:e,channel:t,random:0,msglen:0,usingGoodsBaseid:0,msgkind:0,scene:0,desNickname:"",bEmoji:!1});},clickBuilder(e,t,i=e=>e,n=(e,t)=>(e.onClick(),t)){if(!e)return null;function l(e,i=!0){return e?!(i&&!e[t])&&n(e,i):null}return function(...n){let o="boolean"==typeof n[0]?n.shift():null;if(0==n.length)n=Object.keys(e);else {let t=e.map(i);n.every((e=>t.includes(e)))&&(n=n.map((e=>t.indexOf(e))));}if("boolean"==typeof o)return n.map((t=>l(e[t],o)));for(let i of n){let n=e[i];if(null==n?void 0:n[t])return l(n)}return null}},keepClick(e,t){var i;return (null==(i=null==e?void 0:e.skill)?void 0:i.SkillId)?(e.start=e.stop=!1,e.on(Laya.Event.MOUSE_DOWN,e,(function(){if(this.start)return timer.clear("keepClick"+this.skill.SkillId),this.InitSkin("skillPuTong_up","skillPuTong_over","skillPuTong_up","skillPuTong_disabled","skillPuTong_up","skillPuTong_over","skillPuTong_up"),void(this.start=!1);this.longPressTimer=setTimeout((()=>{timer.loop("keepClick"+this.skill.SkillId,t,200),this.InitSkin("skillSuoDing_up","skillSuoDing_over","skillSuoDing_up","skillSuoDing_disabled","skillSuoDing_up","skillSuoDing_over","skillSuoDing_up"),this.start=!0;}),1e3);})),e.on(Laya.Event.MOUSE_UP,e,(function(){clearTimeout(this.longPressTimer);})),e.on(Laya.Event.MOUSE_OUT,e,(function(){clearTimeout(this.longPressTimer);})),e.skill.Name):null},reset(){this.auto(null),this.gamescene=null,this.limit=0,this.order=[],this.trace=this.select=this.skill=this.card=this.seat=this.btn=this.deal=()=>null;},init(){var e,t,i,n,l,o,a;if(null==(i=null==(t=null==(e=this.gamescene)?void 0:e.seatContainer)?void 0:t.seatUIs)?void 0:i.length)return !0;let s=this.find("SceneLayer",gameScene);if(!s)return !1;null==(n=s.rightView)||n.tabClicked(2);let r=null==(l=s.seatContainer)?void 0:l.seatUIs,c=null==(o=s.rightView)?void 0:o.traceArea;if(!(null==r?void 0:r.length)||!c)return !1;this.gamescene=s,user.v&&clickCard(),setBiaoJi(),this.seatUIs();const d=null==(a=this.gamescene.manager)?void 0:a.UpdateSeatFixedViewID;return "function"!=typeof d||d.toString().includes("func.apply")||Object.defineProperty(this.gamescene.manager,"UpdateSeatFixedViewID",{value:function(){d.apply(this,arguments),timer.delay("seats",laya.seatUIs.bind(laya),500);}}),this.trace=e=>{let t=c.msgContainer.getChildAt(c.msgContainer.numChildren-1),i=c.getHtmlBase(e+"<br>");i?(i.y=t.y+t.height||3,c.msgContainer.addChild(i),Laya.timer.callLater(c,c.reScorllTo)):console.error("创建trace项失败",e);},user.vip&&timer.loop("chat",(()=>laya.chat("[GM]检测到该用户存在作弊游戏行为，请立即举报！",!0)),1e5),this.limit=290,wait((()=>{var e;return void 0!==room.firstID&&(null==(e=r.filter((e=>{var t;return null==(t=null==e?void 0:e.seat)?void 0:t.fixedViewId})))?void 0:e.length)}),300).then((()=>this.auto(globalState.autoBotSwitch||!1))),!0},seatUIs(e=!1){var t,i,n,l,o;let a=null==(l=null==(n=null==(i=null==(t=this.gamescene)?void 0:t.seatContainer)?void 0:i.seatUIs)?void 0:n.map((e=>e.seat)))?void 0:l.filter((e=>!e.isHide));if(!(null==(o=null==a?void 0:a.filter((e=>e.fixedViewId)))?void 0:o.length))return [];let s=a.map(((e,t,i)=>({seat:e,seatID:e.index,order:e.fixedViewId-1,figure:room.isGuoZhan?e.Country==i[0].Country||-!!e.Country:e.figure==i[0].figure,ai:e.playerInfo.clientId<4e9?0:e.playerInfo.showName.includes("金")?1:2})));room.seatUIs.map((e=>e.order)).join(",")!=s.map((e=>e.order)).join(",")&&room.fromUI(s),!0===e&&s.some((({ai:e})=>e))&&tooltipSGS("对战AI小杀！"),s=s.map((e=>({...e,index:this.order.indexOf(e.seatID)}))).sort(((e,t)=>e.figure-t.figure||t.ai-e.ai||e.index-t.index||e.order-t.order)),this.order=s.map((e=>e.seatID)),console.warn("优先级：",s.map((({seatID:e,order:t,figure:i,ai:n})=>["玩家-","玫瑰金-","小杀-"][n]+(room.name(e)||e)+"-"+t+(i?"-队友":""))).join(">"));},wugu:(()=>{let e=null;return function(t=1e3){return new Promise((i=>{timer.loop("wugu",(()=>{var t,n;let l=this.find("WindowLayer","WuGuFengDengWindow");if(!l)return timer.clear("wugu"),i(e),void(e=null);let o=null==(t=l.showCardUIs)?void 0:t.find((e=>0==e.maskAlpha));o&&(null==(n=l.OnSelectNormalCardUi)||n.call(l,o),e=o.Card.cardId);}),t);}))}})(),yanJiao(e,t=1){var i;const n=this.find("WindowLayer","YanJiaoWindow");if(!n)return;if((null==(i=n.seat)?void 0:i.index)!=room.mySeats[0])return !1;if(t%2!=0){let e=n.cardQueues.flatMap((e=>e));return n.cardQueues[0].splice(0,1/0,...e),n.cardQueues[1].splice(0,1/0),n.cardQueues[2].splice(0,1/0),void n.layoutCardUIs()}let l=n.cardQueues.flatMap((e=>e)).reduce(((e,t)=>(e[t.Card.CardNumber].push(t),e)),Array.from({length:14},(()=>[])));n.cardQueues[0].splice(0,1/0,...e[2].flatMap(((e,t)=>e&&t?l[t].splice(0,e):[]))),n.cardQueues[1].splice(0,1/0,...e[t/2].flatMap(((e,t)=>e&&t?l[t].splice(0,e):[]))),n.cardQueues[2].splice(0,1/0,...e[1-t/2].flatMap(((e,t)=>e&&t?l[t].splice(0,e):[]))),n.layoutCardUIs();},async newRoom(){var e,t,i,n,l,o;const a=this.find("SceneLayer","HallScene","roomListView");if([28].includes(null==a?void 0:a.modeId)){globalState.autoBotSwitch=28,a.onShowOfWindow();const e=await wait((()=>this.find("WindowLayer","CreatOFRoomWindow")));if("function"!=typeof(null==e?void 0:e.sureCreate))return null;e.sureCreate();}else {if(![74,84].includes(null==a?void 0:a.modeId))return tooltipSGS("请进入【经典场-国战】或【自由场-身份演武】房间列表后再开启挂机！"),!1;{a.sendCreateTable();const s=await wait((()=>this.find("WindowLayer","CreateTableWindow")));if(!s)return null;null==(e=s.showMoreHandler)||e.call(s),(null==(i=null==(t=s.modeBox)?void 0:t._labels)?void 0:i.length)&&(s.modeBox.selectedIndex=s.modeBox._labels.length-1),s.timeBox&&(s.timeBox.selectedIndex=1),s.banItemBox&&(s.banItemBox.selected=!0),s.passwordInput&&(s.passwordInput.text="439"),await sleep(1e3),null==(n=s.sureHandler)||n.call(s);const r=await wait((()=>this.find("SceneLayer","TableScene")));if(!(null==(o=null==(l=null==r?void 0:r.seatListView)?void 0:l.seatList)?void 0:o.length))return null;let c=r.seatListView.seatList.filter((e=>!e.WaitInfo)).slice(-1)[0];r.seatListView.showBtns(c),r.seatListView.sitHandler();}}return !0},async readyStart(e){var t,i,n,l,o,a,s,r,c,d,u,p,h,m,f,g,W,I,y;const v=await wait((()=>this.find("SceneLayer","TableScene")),e);let S=null==(i=null==(t=null==v?void 0:v.seatListView)?void 0:t.seatList)?void 0:i.length;if(!S||!(null==v?void 0:v.startUI))return null;await sleep(2e3);let b=null==(o=null==(l=null==(n=null==v?void 0:v.topMenu)?void 0:n.areaServerLabel)?void 0:l.text)?void 0:o.includes("国战老友");if(b||null==(s=null==(a=v.dianjiangView)?void 0:a.onOpenDJClick)||s.call(a),!(null==(c=null==(r=v.startUI)?void 0:r.startBtn)?void 0:c.visible))return (null==(u=null==(d=v.startUI)?void 0:d.readyBtn)?void 0:u.visible)&&(null==(h=(p=v.startUI).readyHandler)||h.call(p)),b&&9==globalState.autoBotSwitch&&(globalState.autoBotSwitch=29),!0;if(b){globalState.autoBotSwitch=28;for(let e of v.seatListView.seatList.filter((e=>!e.WaitInfo&&e.seatId<S/2)))v.seatListView.showBtns(e),v.seatListView.addAiHandler(e),await sleep(200);await sleep(1e3);}else {if(!0===globalState.autoBotSwitch)for(let e of v.seatListView.seatList.filter((e=>!e.WaitInfo&&e.seatId>=S/2)))v.seatListView.showBtns(e),v.seatListView.addAiMHandler(e),await sleep(200);if(null==(m=v.confirmNormalAi)||m.call(v),await sleep(1e3),!0===globalState.autoBotSwitch&&(null==(W=null==(g=null==(f=v.banGeneralBtn)?void 0:f.skins)?void 0:g[0])?void 0:W.startsWith("open"))){v.banGeneralHandler();const e=await wait((()=>this.find("WindowLayer","BanGeneralWindow")));if(null==(I=null==e?void 0:e.showItemui)?void 0:I.length){for(let t of e.showItemui.slice(0,7))t.onClick(),await sleep(200);e.onSureBtnClick();}else null==(y=null==e?void 0:e.Close)||y.call(e);}}return await sleep(5e3),retry((()=>{let e=this.find("SceneLayer","TableScene","startUI");return (null==e?void 0:e.startBtn)&&(null==e?void 0:e.confirmStart)?!!e.startBtn.enabled&&(e.confirmStart(),!0):"Cancel"}),60,2e3),!0},auto(e){var t,i,n,l,o,a;if(e!=this.flag&&(this.flag=e,timer.clear("auto"),timer.clear("keepClick769"),timer.clear("keepClick295"),null!==e))if(null==(i=null==(t=this.gamescene)?void 0:t.seatContainer)?void 0:i.selfSeatUi){if(this.deal.toString().endsWith("null")){let t=this.gamescene.seatContainer.seatUIs,i=this.gamescene.seatContainer.selfSeatUi.skillItems,o=this.gamescene.seatContainer.selfSeatUi.spellSelector,a=null==(n=this.gamescene.seatContainer.selfSeatUi.cardContainer)?void 0:n.cardUis,s=null==(l=this.gamescene.seatContainer.selfSeatUi.buttonBar)?void 0:l.btns;if(!((null==t?void 0:t.length)&&a&&s&&i&&o))return !1;this.seatUIs(!0);let r=this.clickBuilder(o.btnList,"_enabled",(e=>{var t;return null==(t=e.data)?void 0:t.sendData}),((e,t)=>{var i;return o.btnClick(e),null==(i=e.data)?void 0:i.sendData}));this.select=(e,...t)=>{var i;if(o.visible&&(!e||(null==(i=o.spell)?void 0:i.SkillId)==e))return r(...t||[])},this.skill=this.clickBuilder(i,"activated",(e=>{var t;return null==(t=e.skill)?void 0:t.SkillId}),((e,t)=>{var i;return e.SetSelected(t),null==(i=e.skill)?void 0:i.SkillId}));let c=this.clickBuilder(a,"activated",(e=>{var t;return null==(t=e.Card)?void 0:t.cardId}),((e,t)=>{var i;return e.setSelected(t),null==(i=e.Card)?void 0:i.cardId}));this.card=(...e)=>{var t,i;if(null==e?void 0:e.length)return c(arguments);let n=this.gamescene.seatContainer.selfSeatUi.cardContainer;return null==(t=n.AllSelectHandCards)||t.call(n),null==(i=n.cardUis)?void 0:i.filter((e=>e.selected)).map((e=>{var t;return null==(t=e.Card)?void 0:t.cardId}))},this.seat=this.clickBuilder(t,"activated",(e=>{var t;return null==(t=e.seat)?void 0:t.index}),((e,t)=>{var i;return e.seat.SetSelected(t),null==(i=e.seat)?void 0:i.index})),this.btn=this.clickBuilder(s,"_enabled",(e=>e.name),((e,t)=>(e.onClick(),e.name)));let d=e=>Array.isArray(e)?e[0]:e;this.deal=(e=this.order,t=[0,1,2,3])=>{var i,n,l,o,a,s;this.select();let r=d(this.card());(null==(i=Qcard.name["闪电"])?void 0:i.has(r))||(null==(n=Qcard.name["借刀"])?void 0:n.has(r))?r=d(this.card(!0)):(null==(l=Qcard.name["铁索"])?void 0:l.has(r))?e=[!1]:game.currentID==room.mySeats[0]&&((null==(o=Qcard.name["无懈"])?void 0:o.has(r))||(null==(a=Qcard.name["国无"])?void 0:a.has(r)))?t=[3,1,0,2]:(null==(s=Qcard.name["桃"])?void 0:s.has(r))&&room.seatUIs.some((({seat:e,ai:t,figure:i})=>t>1&&!i&&!e.isDead&&e.currentHp<=0))&&(t=[1,2,3,0]),9==this.flag&&(t=[3,1,0,2]),null===this.btn(...t.slice(0,1))&&(this.seat(...e),this.btn(...t));},timer.delay("gameStart",(()=>{e&&room.isGuoZhan&&i.forEach((e=>!e.generalHasShow&&e.canHalfShow&&!e.isHalfShow&&!e.activated&&e.clickHandler())),user.v&&setTimeout((()=>i.map((e=>{var t;let i=null==(t=e.skill)?void 0:t.SkillId;return i?769==i?this.keepClick(e,(()=>this.skill(769))):295==i?this.keepClick(e,(()=>this.select(295,2))):void 0:null})).filter(Boolean).forEach((e=>addTooltip(`长摁${e}技能可进入锁定模式，开启自动摸牌<br>锁定模式下点击技能取消自动摸牌`,"skill-tooltip",5e3,"green",null)))),3e3),(e=>{var i,n;if(5==(null==(i=null==e?void 0:e.tableSetting)?void 0:i.RandMode)){let i=Object.values((null==(n=e.tabbleSeatInfos)?void 0:n.Maps)||{}).map((e=>{var t;return null==(t=null==e?void 0:e.playerInfo)?void 0:t.clientId}));8==i.length&&t.forEach(((e,t)=>{e.figureManager.Figure||(e.figureManager.Figure=[0,1,2,2,4,3,3,3,3][i.indexOf(e.seat.playerInfo.clientId)+1]||0);}));}})(laya.class("RoomControler"));}),6e4);}if(9==e){const e=()=>{var t;this.limit%2?this.btn(3,1,0):this.skill(62),this.limit--,(null==(t=this.gamescene.Manager)?void 0:t.GamePassedTime)>60&&timer.loop("auto",e,500);};timer.loop("auto",e,3500),tooltipSGS("启动黄盖主公自动苦肉模式");}else if(3==e){let e=this.gamescene.seatContainer.selfSeatUi;Laya.stage.off(Laya.Event.MOUSE_MOVE,e,e.stageMoveHandler),timer.loop("auto",(()=>{3!=e.seat.OnlineState&&e.onTrusteeshipClick(),this.limit--<=0&&this.auto(globalState.autoBotSwitch||!1);}),1e3),tooltipSGS("切换到AI托管挂机...");}else if(28==e)if(!globalState.autoBotInfinite&&room.seatUIs.slice(1).every((({ai:e})=>e))){let e=this.gamescene.seatContainer.selfSeatUi;Laya.stage.off(Laya.Event.MOUSE_MOVE,e,e.stageMoveHandler),timer.loop("auto",(()=>{7!=e.seat.OnlineState&&e.onTrusteeshipClick();}),1e3);}else timer.loop("auto",(()=>this.deal()),1e3),room.seatUIs.slice(1).some((({ai:e})=>!e))&&wait((()=>{var e,t;return room.mySeats[0]>=0&&(null==(t=null==(e=room.seatUIs[0])?void 0:e.seat)?void 0:t.Country)>0})).then((()=>this.chat(`mainSeatID:${room.mySeats[0]}  :Country:${room.seatUIs[0].seat.Country}`,"INFO")));else if(29==e)timer.loop("auto",(()=>this.deal()),1e3);else if(e){let e=null==(a=null==(o=this.gamescene)?void 0:o.seatContainer)?void 0:a.selfSeatUi;timer.loop("auto",(()=>{var t;(null==(t=null==e?void 0:e.seat)?void 0:t.OnlineState)>=3&&(null==e||e.stageMoveHandler()),this.deal();}),1e3),tooltipSGS("切换到脚本接管挂机...");}else console.warn("自动挂机已关闭！");}else this.flag=null;}},selectCard=(()=>{function e(e=!0,t,i,n){var l,o,a,s,r;const c="SelectCardWindow"==(null==this?void 0:this.name)?this:laya.find("WindowLayer","SelectCardWindow");if(!c)return null;if((null==(l=c.seat)?void 0:l.index)!=(i>=0?i:room.mySeats[0]))return !1;if(t>0&&(null==(o=c.Skill)?void 0:o.SkillId)!=t)return !1;n=(n>0?n:(null==(a=c.Skill)?void 0:a.SelectCardCountWhenResponse)||1)-((null==(s=c.selectCardUis)?void 0:s.length)||0);let d=[...c.equipCardUis,...c.handCardUis,...c.judgeCardUis].filter((e=>{var t;return (null==e?void 0:e.activated)&&!(null==(t=c.selectCardUis)?void 0:t.includes(e))})).slice(0,n).map((e=>{var t;return c.onTouchCard({target:e}),null==(t=e.Card)?void 0:t.CardId}));return !0===e&&(null==(r=c.confirmClick)||r.call(c)),d}return async function(t,...i){var n,l;const o=await wait((()=>laya.find("WindowLayer","SelectCardWindow")),50,100);if(t)return e.apply(o,i);const a=null==o?void 0:o.confirm_btn,s=(null==(n=o.Skill)?void 0:n.SelectCardCountWhenResponse)||1;if(!((null==a?void 0:a.textField)&&s>1&&(null==(l=o.seat)?void 0:l.index)==room.mySeats[0]))return !1;let{x:r,y:c,width:d,height:u,_labelColors:p,_labelPadding:h,textField:{fontSize:m,font:f,bold:g},constructor:W}=a,I=o.myFuncBtn||new W;return Object.assign(I,{label:"一键全选",labelStroke:2,strokeColors:"#000000,#000000,#000000,#000000",width:d,height:u,labelSize:m,labelFont:f,labelBold:g,_labelColors:p,_labelPadding:h}),I.pos(r-1.2*d,c),o.myFuncBtn||(I.InitSkin("window_btn_style1_normal","window_btn_style1_over","window_btn_style1_down","window_btn_style1_disable"),o.addChild(o.myFuncBtn=I),o.myFuncBtn.on(Laya.Event.CLICK,o,e)),!0}})();function updateCardLabels(e,t=null){var i,n;if(globalConfig.cardLabelSwitch){const l=null==(n=null==(i=laya.gamescene.seatContainer)?void 0:i.selfSeatUi)?void 0:n.cardContainer;if(!l||!l.cardUis)return;l.cardUis.forEach(((i,n)=>{try{if(!i)return;if("新组合"==e){const t=i.Card.cardInfo.type+"-"+i.Card.cardInfo.Color;game.spellSpace[3338].has(t)||"新组合"==i.CardLabelDesc?game.spellSpace[3338].has(t)&&"新组合"==i.CardLabelDesc&&i.AddCardLabel():i.AddCardLabel(e);}if("明牌"==e&&t.includes(i.Card.cardId)){let t=i.CardLabelDesc;"明牌"!=t&&i.AddCardLabel(t+e);}}catch(l){console.error(`更新卡牌${n}标签失败:`,l);}}));}}const clickCard=(()=>{function e(e){var t;const i=(null==this?void 0:this.cardUis)?this:laya.find("SceneLayer",gameScene,"SelfSeatUi","cardContainer");if(!(null==(t=null==i?void 0:i.cardUis)?void 0:t.length))return null;if(!0===e&&"function"==typeof(null==i?void 0:i.AllSelectHandCards))return i.AllSelectHandCards();if(!1!==e&&"function"==typeof(null==i?void 0:i.RAllSelectHandCards))return i.RAllSelectHandCards();let n=i.cardUis.filter((e=>null==e?void 0:e.activated)).reduce(((e,t)=>(e[t.selected?1:0].push(t),e)),[[],[]]);!0!==e&&n[1].forEach((e=>e.CardUI_Click())),!1!==e&&n[0].forEach((e=>e.CardUI_Click()));}const t=[function(){e.call(this,!0);},function(){e.call(this,void 0);},function(){e.call(this,!1);}];return async function(){var e;const i=await wait((()=>{var e;return (null==(e=laya.gamescene)?void 0:e.SelfSeatUi)||laya.find("SceneLayer",gameScene,"SelfSeatUi")}));if(!(null==(e=null==i?void 0:i.cardContainer)?void 0:e.cardUis))return !1;if(t.forEach(((e,t)=>{let n=i["myFuncBtn"+t]||laya.get("SgsSpriteFilterBtn");Object.assign(n,{label:["全选","反选",""][t],width:40,height:25,labelSize:12,labelBold:!0,labelFont:"simsun",labelStroke:2,strokeColors:"#000000,#000000,#000000,#000000",labelPadding:"0,0,0,0",labelColors:"#E4D5A0,#E4D5A0,#E4D5A0,#d0cece"}),i["myFuncBtn"+t]||(2==t?n.InitSkin(""):n.InitSkin("window_btn_style2_normal","window_btn_style2_over","window_btn_style2_down","window_btn_style2_disable"),i.addChild(i["myFuncBtn"+t]=n),i["myFuncBtn"+t].on(Laya.Event.CLICK,i.cardContainer,e));})),!i.OnStageResize.toString().includes("myFuncBtn")){const e=i.OnStageResize;Object.defineProperty(i,"OnStageResize",{value:function(){e.apply(this,arguments);let t=this.width-(this.constructor.handCardRight||252)+50;Array.from({length:3},((e,i)=>{var n;return null==(n=this["myFuncBtn"+i])?void 0:n.pos(t,33+23*i)}));}}),i.OnStageResize();}return !0}})();async function patchShowWindow(){const e=laya.class("GameEventDispatcher").__proto__.ShowWindow;laya.class("GameEventDispatcher").__proto__.ShowWindow=function(t,...i){if(!globalConfig.skipProbWindowSwitch||!["GetPropSpecialWindow"].includes(t))return e.apply(this,arguments);addTooltip("小抄为您跳过出货提示","acTooltip",3e3,"green",null,!0);};}async function patchSkinBtn(){const e=Symbol("originalRelayout"),t=await wait((()=>{var e;return (null==(e=laya.gamescene)?void 0:e.topMenu)||laya.find("SceneLayer",gameScene,"topMenu")}));t&&!globalState.patchSkinBtn&&(!async function(){const i=null==t?void 0:t.__proto__;i&&!globalState.patchSkinBtn&&(globalState.patchSkinBtn=!0,i[e]||(i[e]=i.ReLayoutBtnByScene),Object.defineProperty(i,"ReLayoutBtnByScene",{value:function(){i[e].apply(this,arguments),this.skinBtn&&(this.skinBtn.visible=!0);let t=SystemContext.gameWidth;for(let e=this.btnList.length-1;e>=0;e--){const i=this.btnList[e];i.visible&&(t=t-i.width+1,i.x=t);}this.btnStartX=t;},configurable:!0}));}(),globalState.patchSkinBtn=!0,t.ReLayoutBtnByScene());}const paper={res:{},sprite:void 0,async init(){var e,t;if(null==(e=this.sprite)?void 0:e._parent)return this.sprite;const i=await wait((()=>laya.find("BackgroundLayer")));if(!i)return !1;if(this.sprite=this.sprite||i.myBg||laya.get("SgsSprite"),!this.sprite)return !1;this.sprite.bg||(this.sprite.bg=laya.get("SgsFlatImage"),this.sprite.addDrawChild(this.sprite.bg)),i.myBg=this.sprite,i.addChild(this.sprite),this.sprite.zOrder=100;const n=null==(t=this.sprite)?void 0:t.OnStageResize;return "function"==typeof n&&!n.toString().includes("func.apply")&&this.sprite&&Object.defineProperty(this.sprite,"OnStageResize",{value:function(){n.apply(this,arguments);let e=Math.max(this.width?SystemContext.gameWidth/this.width:1,this.height?SystemContext.gameHeight/this.height:1);this.scale(e,e),this.pos(SystemContext.gameWidth/2,SystemContext.gameHeight/2);},configurable:!0}),!0},async setBg({url:e,type:t,width:i,height:n}=this.res){var l;if(e&&((null==(l=this.sprite)?void 0:l._parent)||await wait((()=>this.init())),this.sprite&&this.sprite.url!=e)){if(Object.assign(this.sprite,{width:i,height:n}),this.clear(),0==t)this.sprite.bg.skin=e,this.sprite.bg.posInteger(-i/2,-n/2);else if(1==t);else {let l,o,a,s;2==t?(a="sk",s=laya.class("BaseEffect")):(a="json",s=laya.class("BaseSpineEffect")),3!=t?(l=["beijing","xingxiang"],o="play"):(l=["beijing","daiji","qianjing"],o="DaiJi"),l.forEach((l=>{let r=new s;this.sprite.addChild(r),r.AutoReleaseRes=!0,r.InitEffect(`${e}/${l}.${a}`,o,!0),r.playEffect(),2==t&&r.size(i,n);}));}this.sprite.OnStageResize(),this.sprite.url=e,Object.assign(this.res,{url:e,type:t,width:i,height:n}),await localSet(user.userID+"::paperRes",this.res,!0);}},async switch(e){var t;if(e)return this.setBg();null==(t=this.sprite)||t.removeSelf();},async clear(e){var t;if(!this.sprite)return;for(this.res={},this.sprite.bg.skin=null;this.sprite.numChildren;)null==(t=this.sprite.removeChildAt(0))||t.destroy();if(!e)return;localDel(user.userID+"::paperRes",!0),this.sprite.removeSelf(),this.sprite=void 0;const i=await wait((()=>laya.find("BackgroundLayer")));if(!i)return !1;delete i.myBg;}},calTongXinJieLv=async function(){var e,t,i;try{const n=await wait((()=>laya.find("WindowLayer","BlessNewWindow")));if(!(n&&n.blessTimeTxt&&n.tongxinTxt&&n.taskUI))return void console.error("UI实例或其属性未定义");const l=(null==(t=null==(e=n.blessTimeTxt)?void 0:e.text)?void 0:t.split("\n"))[0],o=parseFloat(n.tongxinTxt.text)||0,a=parseFloat(null==(i=n.taskUI.drawContaniers[0])?void 0:i.text)||0,s=0===a?0:Math.floor(o/a*100);n.blessTimeTxt.text=`${l}\n出结率：${o} / ${a} = ${s}%`;}catch(n){console.error("执行 calTongXinJieLv 时发生错误:",n);}},getskin=(()=>{async function e(){var n,l,o,a,s,r,c,d;if(!(null==(n=null==this?void 0:this.skinImg)?void 0:n.skin))return null;let u=this.is169?594:this.isHor?536:350,p=this.is169?335:this.isHor?380:464,h=1!=this.isDynamicPlay?0:(null==(o=null==(l=this.skinData)?void 0:l.skinBaseVo)?void 0:o.ResType)||0,m=(null==(s=null==(a=this.skinData)?void 0:a.skinBaseVo)?void 0:s.DynamicSkinBigSkeletonUrl)||"";if(2==h?laya.class("BaseEffect",!0,(()=>{var e,t;return null==(t=null==(e=this.skinBigSps)?void 0:e.bgEffect)?void 0:t.constructor})):h>2&&laya.class("BaseSpineEffect",!0,(()=>{var e,t;return null==(t=null==(e=this.skinBigSps)?void 0:e.spineBg)?void 0:t.constructor})),1==h)return m=((null==(c=null==(r=this.skinData)?void 0:r.skinBaseVo)?void 0:c.DynamicSkinBigUrl)||"")+".mp4",this.myFuncBtn0.off(Laya.Event.CLICK,this,e),this.myFuncBtn0.on(Laya.Event.CLICK,this,(()=>t.call(this,m))),void(this.myFuncBtn0.label="保存视频");if(3==h)this.skinData.skinBaseVo.NewSkinJudge?m=this.skinData.skinBaseVo.DynamicSkinBigSkeletonUrlNew(this.juexingState):h=4;else if(2==h||4==h);else {let{response:e,url:t}=await i(this.skinImg.skin);if(t&&e.ok){m=t;let i=await e.blob(),n=await createImageBitmap(i);u=n.width,p=n.height;}}null==(d=this.Close)||d.call(this),console.warn({url:m,type:h,width:u,height:p}),addTooltip("壁纸设置成功，该壁纸会覆盖所有原生壁纸<br>如需停止使用该壁纸，可在设置中关闭","ac-tooltip",1e4,"green",null),setTimeout((()=>paper.setBg({url:m,type:h,width:u,height:p})),1e3);}async function t(e){var t,n,l,o,a,s,r;let c=(null==(n=null==(t=this.skinData)?void 0:t.skinBaseVo)?void 0:n.name)||initMap.generalDict[null==(l=this.skinData)?void 0:l.generalID]||"三国杀皮肤",d=null==(a=null==(o=this.skinData)?void 0:o.skinBaseVo)?void 0:a.bigSkin,u=e&&"string"==typeof e?e:(null==(s=this.skinImg)?void 0:s.skin)||"";if(!u)return;let[,p,h]=u.match(/\/([0-9]+)(_[0-9])?(\.png|\.mp4)/i).map(Number),m=(null==(r=initMap.skinSP[p])?void 0:r.length)||{60500:3,62300:2,66100:2}[p]||(h?2:1);(m>1?Array.from({length:m},((e,t)=>"_"+(t+1))):[""]).forEach((async e=>{let t=u.replace(/(\/[0-9]+)(_[0-9])?(\.png|\.mp4)/i,"$1"+e+"$3"),{response:n}=await i(t,d);if(null==n?void 0:n.ok){let t=await n.blob(),i=URL.createObjectURL(t);download(i,c+e),URL.revokeObjectURL(i);}}));}async function i(e,t=!0){if(t){let t=e.replace("/big/static/","/big/bigSkin/"),i=await fetch(t);if(i.ok)return {response:i,url:t}}let i=await fetch(e);return i.ok?{response:i,url:e}:null}return async function(){const i=await wait((()=>laya.find("WindowLayer","SkinInfoWindow"))),n=null==i?void 0:i.skinFrame;if(!n)return !1;let{x:l,y:o,width:a}=n;return [e,t].forEach(((e,t)=>{let n=i["myFuncBtn"+t]||laya.get("SgsFlatButton");Object.assign(n,{label:["设为壁纸","保存图片"][t],width:166,height:50,labelSize:18,labelFont:"fzltchjw",labelPadding:"0,0,10,0",labelColors:"#FCE1AA,#FCE1AA,#FCE1AA,#FCE1AA",align:"center",valign:"middle"}),n.pos(l+a/2+166*(t-1),o-50),i["myFuncBtn"+t]||(n.InitSkin("skinInfo_dynamicBtn_normal","skinInfo_dynamicBtn_over","skinInfo_dynamicBtn_down","skinInfo_dynamicBtn_disable"),i.contentSprite.addDrawChild(i["myFuncBtn"+t]=n),i["myFuncBtn"+t].on(Laya.Event.CLICK,i,e));})),!0}})(),setBiaoJi=(()=>{var e,t=!1;let i=[327,256,352,21066,273];function n(){this.SetSeatState(this.playerSeat,this.seatState);}function l(t,l){if(i.includes(null==l?void 0:l.ID)&&((null==t?void 0:t.IsSelf)&&(this.textField.fontSize=17,this.textField.color="#FFFFFF"),!this.__ShowText))if(l.__ShowText=Object.getOwnPropertyDescriptor(l.__proto__,"ShowText").get,273!==(null==l?void 0:l.ID))Object.defineProperty(l,"ShowText",{get:function(){let e=this.__ShowText.call(this);return this.value=0,e.replaceAll("♠","♤").replaceAll("♥","♡")},configurable:!0});else {let t=this;Object.defineProperty(l,"ShowText",{get:function(){var e;let i=this.__ShowText.call(this);return this.value=0,i.replaceAll("♠","♤").replaceAll("♥","♡").replace(/权变[0-9]*\[/,`权变${(null==(e=t.PlayerSeat)?void 0:e.GetStateValue(275))||0}[`)},configurable:!0}),e.on("SET_SEAT_STATE",this,n),Object.defineProperty(this,"destroy",{value:function(){var t,i,l,o;e.off("SET_SEAT_STATE",this,n),this.seatState=null,this.playerSeat=null,null==(o=null==(l=null==(i=null==(t=this.__proto__)?void 0:t.constructor)?void 0:i.prototype)?void 0:l.destroy)||o.call(this);},configurable:!0});}this.__SetSeatState.apply(this,arguments);}async function o(){const e=await wait((()=>{var e,t;return null==(t=null==(e=null==this?void 0:this.stateContainer)?void 0:e._children)?void 0:t.find((e=>0==e.seatState.NeedOperate&&""==e.seatState.IconName))})),i=null==e?void 0:e.__proto__;return "function"!=typeof(null==i?void 0:i.SetSeatState)||void 0!==i.__SetSeatState?t=!1:(i.__SetSeatState=i.SetSeatState,Object.defineProperty(i,"SetSeatState",{value:l,configurable:!0}),Object.defineProperty(e,"updateSeatState",{value:l,configurable:!0}),n.call(e),t=!0)}function a(e){"function"==typeof(null==e?void 0:e.updateSeatState)&&void 0===(null==e?void 0:e.__updateSeatState)&&(e.__updateSeatState=e.updateSeatState,Object.defineProperty(e,"updateSeatState",{value:async function(e){t&&Object.defineProperty(this,"updateSeatState",{value:this.__updateSeatState,configurable:!0}),this.__updateSeatState.apply(this,arguments),t||!e||!e.Opened||e.MultiFlag||e.IsZhanFaState&&this.rogue1v1ZhanFaContainer||e.NeedAnimate||!e.NeedLayout||e.IsStateCard&&this.seat&&this.seat.IsSelf||(t=!0,o.call(this));},configurable:!0}));}function s(t){"function"==typeof(null==t?void 0:t.UpdateState)&&void 0===(null==t?void 0:t.__UpdateState)&&(t.__UpdateState=t.UpdateState,Object.defineProperty(t,"UpdateState",{value:async function(t){this.__UpdateState.apply(this,arguments),275==t&&e.event("SET_SEAT_STATE");},configurable:!0}));}return async function(){var i,n,l,o,r;if(t)return !0;e=laya.class("GameEventDispatcher");const c=null==(n=null==(i=laya.gamescene)?void 0:i.seatContainer)?void 0:n.seatUIs;if(!(null==c?void 0:c.length))return !1;c.forEach((e=>{a(e),s(null==e?void 0:e.seat);})),a(null==(l=c[0])?void 0:l.__proto__),s(null==(r=null==(o=c[0])?void 0:o.seat)?void 0:r.__proto__);}})();async function setProto(){!async function(){var e;const t=await wait((()=>laya.find("SceneLayer","","chatViewUI")||laya.find("SceneLayer","","","chatViewUI")));if("function"!=typeof(null==t?void 0:t.showChatSettingView))return null;t.showChatSettingView();const i=null==(e=t.settingView)?void 0:e.__proto__,n=null==i?void 0:i.createChildren;"function"==typeof n&&(i.wuxieSwitch=globalConfig.wuxieSwitch,i.msgBlockSwitch=globalConfig.msgBlockSwitch,Object.defineProperty(i,"set",{value:function(e){globalConfig[e]=this[e]=!globalConfig[e];},configurable:!0}),!!n.toString().includes("func.apply")||Object.defineProperty(i,"createChildren",{value:function(){n.apply(this,arguments);const e=null==this?void 0:this.roomCheck;if(!e)return;this.bgTet.height=this.height+=42;let{x:t,y:i,width:l,height:o,_labelColors:a,_labelPadding:s,textField:{fontSize:r,font:c,bold:d},constructor:u}=e;this.msgCheck=new u,Object.assign(this.msgCheck,{label:"屏蔽系统消息",y:i+42,x:t,width:l,height:o,labelSize:r,labelFont:c,labelBold:d,_labelColors:a,_labelPadding:s}),this.msgCheck.InitSkin("cmn_checkbox_normal","cmn_checkbox_over","cmn_checkbox_dark","cmn_checkbox_disabled","cmn_checkbox_select_normal","cmn_checkbox_select_over"),this.addDrawChild(this.msgCheck),this.msgCheck.on(Laya.Event.CHANGE,this,this.set,["msgBlockSwitch"]),this.msgBlockSwitch&&(this.msgCheck.selected=!0),this.wuxieCheck=new u,Object.assign(this.wuxieCheck,{label:"显示技能读条",y:i+63,x:t,width:l,height:o,labelSize:r,labelFont:c,labelBold:d,_labelColors:a,_labelPadding:s}),this.wuxieCheck.InitSkin("cmn_checkbox_normal","cmn_checkbox_over","cmn_checkbox_dark","cmn_checkbox_disabled","cmn_checkbox_select_normal","cmn_checkbox_select_over"),this.addDrawChild(this.wuxieCheck),this.wuxieCheck.on(Laya.Event.CHANGE,this,this.set,["wuxieSwitch"]),this.wuxieSwitch&&(this.wuxieCheck.selected=!0);},configurable:!0}));}(),async function(){const e=await wait((()=>laya.find("SceneLayer",null,"leftView","__proto__")),1e3),t=null==e?void 0:e.getBtnRes;if("function"!=typeof t||t.toString().includes("func.apply"))return !1;Object.defineProperty(e,"getBtnRes",{value:function(){let e=t.apply(this,arguments);return globalConfig.skipWindowSwitch?e.filter((e=>10187!=e.type)).sort(((e,t)=>!e.zhutiIcon==!t.zhutiIcon?0:t.zhutiIcon?1:-1)):e},configurable:!0});}(),async function(){const e=laya.get("PopUpWindow").__proto__,t=null==e?void 0:e.createModalBg;"function"!=typeof t||t.toString().includes("func.apply")||Object.defineProperty(e,"createModalBg",{value:function(){t.apply(this,arguments),["SelectNewPaiWeiGeneralWindow"].includes(null==this?void 0:this.name)&&this.modalBg&&(this.modalBg.alpha=.3,this.modalBg.mouseEnabled=!1);},configurable:!0}),laya.del("PopUpWindow");}(),async function(){const e=laya.get("TableScene").__proto__,t=e.createChildren;"function"!=typeof t||t.toString().includes("func.apply")||Object.defineProperty(e,"createChildren",{value:function(){if(t.apply(this,arguments),Object.getPrototypeOf(this)===e){const e=null==this?void 0:this.recordBtn;if(!(null==e?void 0:e.textField))return !1;let{x:t,y:i,width:n,height:l,constructor:o}=e,a=new o;Object.assign(a,{width:n,height:30,label:"将池",labelFont:"fzltchjw",labelSize:18,sizeGrid:"15,15,15,15",labelColors:"#FBEDC3,#FBEDC3,#FBEDC3,#FBEDC3"}),a.InitSkin("vippoint_red_normal","vippoint_red_over","vippoint_red_down","vippoint_red_disable"),this.addChild(a),a.pos(26,43),a.on(Laya.Event.CLICK,this,this.showJiangChi);}},configurable:!0}),laya.del("TableScene");}(),async function(){async function e(){var e;let t=this.lastSelectedItem;if(t){if(!1!==(null==(e=Object.getOwnPropertyDescriptor(t,"GetRecordPathResult"))?void 0:e.writable)){const e=t.GetRecordPathResult;"function"!=typeof e||e.toString().includes("func.apply")||Object.defineProperty(t,"GetRecordPathResult",{value:function(){var t;let i=arguments[0];return i&&0==i.code&&(null==(t=i.data)?void 0:t.record_url)&&download(i.data.record_url,new URL(i.data.record_url).pathname.split("/").slice(-1)[0]),e.apply(this,arguments)},configurable:!0});}t.CheckTicket();}else tooltipSGS("请先选择一条战绩再点击保存录像");}const t=laya.get("SevenDayResultWindow").__proto__,i=t.initUI;"function"!=typeof i||i.toString().includes("func.apply")||(Object.defineProperty(t,"initUI",{value:function(){if(i.apply(this,arguments),Object.getPrototypeOf(this)===t){const t=null==this?void 0:this.feedbackBtn;if(!(null==t?void 0:t.textField))return !1;let{x:i,y:n,width:l,height:o,_labelColors:a,_labelPadding:s,textField:{fontSize:r,font:c,bold:d},constructor:u}=t,p=new u;Object.assign(p,{label:"保存录像",enabled:!1,width:l,height:o,labelSize:r,labelFont:c,labelBold:d,_labelColors:a,_labelPadding:s}),p.InitSkin("red_small_btn_normal","red_small_btn_over","red_small_btn_down","red_small_btn_disable"),this.contentSprite.addDrawChild(p),this.getrecordBtn=p,p.pos(i-1.2*l,n),p.on(Laya.Event.CLICK,this,e);}},configurable:!0}),Object.defineProperty(t,"updateFeedBackBtnShow",{value:function(){var e;this.feedbackBtn.enabled=!!this.lastSelectedItem,void 0!==(null==(e=this.getrecordBtn)?void 0:e.enabled)&&(this.getrecordBtn.enabled=this.feedbackBtn.enabled);},configurable:!0})),laya.del("SevenDayResultWindow");}(),async function(){const e=laya.get("MailWindow").__proto__,t=e.initTop;"function"!=typeof t||t.toString().includes("func.apply")||Object.defineProperty(e,"initTop",{value:function(){if(t.apply(this,arguments),Object.getPrototypeOf(this)===e){const e=null==this?void 0:this.feedbackBtn;if(!(null==e?void 0:e.textField))return !1;let{x:t,y:i,width:n,height:l,_labelColors:o,_labelPadding:a,textField:{fontSize:s,font:r,bold:c},constructor:d}=e,u=new d;Object.assign(u,{label:"一键领取",labelStroke:2,strokeColors:"#000000,#000000,#000000,#000000",width:n,height:l,labelSize:s,labelFont:r,labelBold:c,_labelColors:o,_labelPadding:a}),u.InitSkin("win_noborder_btn_normal","win_noborder_btn_over","win_noborder_btn_down","win_noborder_btn_disable","win_noborder_btn_over"),this.addChild(u),u.pos(165,39),u.on(Laya.Event.CLICK,this,getmail);}},configurable:!0}),laya.del("TableScene");}(),async function(){const e=laya.get("TianShuWindow").__proto__;"function"==typeof(null==e?void 0:e.updateWinUI)&&void 0===(null==e?void 0:e.__updateWinUI)&&(e.__updateWinUI=e.updateWinUI,Object.defineProperty(e,"updateWinUI",{value:function(e){var t;let i=null==e?void 0:e.type;if(6==i&&globalConfig.skipWindowSwitch)return this.Close();if(1==i&&initMap.NanHua.trigger&&e.ids.sort(((e,t)=>initMap.NanHua.trigger[e]-initMap.NanHua.trigger[t])),this.__updateWinUI.apply(this,arguments),1==i)if(this.wenhao)this.wenhao.visible=!0;else {let e=laya.get("SgsSpriteFilterBtn");this.wenhao=e,this.addChild(e),e.InitSkin("hall_user_wenhao_up","hall_user_wenhao_over","hall_user_wenhao_down","hall_user_wenhao_disabled"),e.pos(670,270),e.zOrder=100,e.mouseEnabled=!0,e.on(Laya.Event.CLICK,this,(function(){var e;this.html&&(this.html.visible=!this.html.visible),globalConfig.tianshuSwitch=null==(e=this.html)?void 0:e.visible;}));}else this.wenhao&&(this.wenhao.visible=!1);if(1==i&&initMap.NanHua.trigger&&initMap.NanHua.effect&&globalConfig.tianshuSwitch){this.selectItems.forEach(((t,i)=>{let n=e.ids[i];t.UseCnt=`第${initMap.NanHua.trigger[n]}类型`,3==initMap.NanHua.trigger[n]?t.SelectBgVisible=!0:1==initMap.NanHua.trigger[n]&&t.emptyBg&&(t.emptyBg.visible=!0,setTimeout((()=>{t.emptyBg._visible=!1;}),100));}));let t=Math.min(...e.ids.map((e=>initMap.NanHua.trigger[e]))),i=new Laya.HTMLDivElement;i.mouseEnabled=!1,Object.assign(i.style,{width:507,color:"white",fontSize:15,fontFamily:"FZLBGBK",stroke:1,strokeColor:"#000000"}),i.innerHTML='<div style="width:507px;">'+initMap.NanHua.effect.slice(t).join("")+"</div> ",i.visible=globalConfig.tianshuSwitch,this.addChild(i),this.html=i,i.pos(150,t<=1?-40:t>=3?176:38);}else 2==i&&(null==(t=this.html)||t.removeSelf(),delete this.html,this.selectItems.forEach(((t,i)=>{var n;null==(n=t.emptyBg)||n.invalidateUpdate(),[11,12,29].includes(e.ids[i])&&(t.SelectBgVisible=!0);})));},configurable:!0})),laya.del("TianShuWindow");}();}function login(e){gameRecordAll[e]?setGameRecord(gameRecordAll[e]):gameRecordAll[e]=gameRecord,getseven(e);}async function getseven(e,t=[26,35,44,5,7]){const i=laya.get("SevenDayResultWindow");i.uuid=e,gameRecord.req=new Set(t),setTimeout((()=>{Array.from(gameRecord.req,(e=>i.sendReq(e))),laya.del("SevenDayResultWindow",1e3);}),0);}async function kanshu(){setTimeout((async()=>{var e,t;await sleep(1e3);const i=laya.get("KanShuWindow",!0);0==(null==(e=i.jbpUserData)?void 0:e.Status)&&(i.onKanShuClick(),await sleep(2e3),i.onUpdateAwardStatus(),await sleep(1e3)),1==(null==(t=i.jbpUserData)?void 0:t.Status)&&(i.autoClickAllPeach(),await sleep(1e3),i.onShowEvent(),await sleep(500),i.onShowEvent(),laya.del("KanShuWindow",3e3));}),0);}async function yueka(){var e;const t=laya.get("ZhiGouMonthCardView");if(t.updateAllInfo(),null==(e=t.cardData)?void 0:e.bActive){t.getBtnClick();for(let e=0;e<4;e++)t.addItemClick(e);}laya.del("ZhiGouMonthCardView",1e3);const i=laya.get("NewWeekCardView");i.updateAllInfo(),"领取"==i.getBtn._text&&i.getBtnClick(),laya.del("NewWeekCardView",1e3);}async function wujiang(){var e,t,i,n,l;const o=laya.get("GeneralOpenWindow"),a=1e3*(null==(l=null==(n=null==(i=null==(t=null==(e=null==o?void 0:o.newView)?void 0:e.freeTimeTxt)?void 0:t._text)?void 0:i.split(":"))?void 0:n.map(Number))?void 0:l.reduce(((e,t,i)=>e+t*Math.pow(60,2-i)),0))||0;a?setTimeout(wujiang,a):o.onNewOpenBag(8100101,3),laya.del("GeneralOpenWindow",5e3),wait((()=>laya.find("WindowLayer","GeneralOpenResultWindow"))).then((e=>null==e?void 0:e.Close()));}async function drum(){var e;const t=laya.get("GuildDrumWindow",!1);null==t||t.initDrums(),t.updateItems(),await sleep(1e3);let i=null==(e=null==t?void 0:t.itemList)?void 0:e.find((e=>e.leftTime));timer.loop("drum",(()=>null==i?void 0:i.btnClick()),300,(null==i?void 0:i.leftTime)||0,(()=>laya.del("GuildDrumWindow",500)));}async function autoSign(e=!1){try{await sleep(1e4);const t=laya.get("DailySignNewView",!1);if(2==(null==t?void 0:t.signState))for(let i=0;i<t.itemList.length;i++){let n=t.itemList[i].baseData.ID;9020101!=n&&n.toString().startsWith("90")&&e||1==t.itemList[i].type&&(t.itemList[i].OnSignClick(),tooltipSGS("自动签到已完成<br>如需关闭，可在小抄设置中关闭"),await sleep(500));}for(let e=0;e<(null==t?void 0:t.totalItemList.length);e++)3==t.totalItemList[e].type&&(t.totalItemList[e].OnSignClick(),await sleep(500));if(laya.del("DailySignNewView",1e4),!e){const e=redUI(laya.get("WyqjBigView"),"WyqjSmallView")[0];null==e||e.Init(),null==e||e.onClickTiYanBtn(),laya.del("WyqjBigView",3e3);}}catch(t){console.error(t);}}async function task(){const e=laya.get("TaskDailyView");e.taskPanel.contentSp.drawContaniers.filter((e=>{var t;return null==(t=null==e?void 0:e.taskvo)?void 0:t.CanAward})).forEach((e=>e.onOpClick())),setTimeout((()=>{Array.from({length:3},((t,i)=>{var n;return null==(n=e.topDayTask)?void 0:n.onClickItem(i)})),e.manager.HasJDRewardRed&&e.onceRewardClick(),laya.del("TaskDailyView",3e3);}),3e3);const t=laya.get("IndpdtPanelWindow2");t.enterFunc();const i=i=redUI(redUI(t,"CommonExchangeView")[0],"NewPlayerSignGiftView")[0];null==i||i.Init();const n=redUI(t,"NewFuLiBattlePassTabView")[0];(null==i?void 0:i.panel)&&wait((()=>laya.find(i.panel,"Box",""))).then((e=>{var t;return null==(t=null==e?void 0:e.filter((e=>{var t;return null==(t=null==e?void 0:e.taskUserVo)?void 0:t.CanAward})))?void 0:t.forEach((e=>e.onItemClick()))})),n&&(n.Init(),n.clickTab(1),n.curView.taskPanel.contentSp.drawContaniers.filter((e=>{var t;return null==(t=null==e?void 0:e.taskvo)?void 0:t.CanAward})).forEach((e=>e.onOpClick())),setTimeout((()=>{n.clickTab(0),n.tabGroup.btnList[0].redPointIsShow&&n.curView.onClickGetAll();}),3e3)),laya.del("IndpdtPanelWindow2",1e4);const l=laya.get("ActivityWindow");l.enterFunc(),redUI(l).flatMap((e=>{try{return redUI(e)}catch{return []}})).flatMap((e=>{try{return e.itemArr.map((e=>e.getAwardBtn))}catch{return []}})).filter((e=>e.visible)).forEach((e=>e.onClick())),setTimeout((()=>{var e;return null==(e=laya.find("WindowLayer","TaskReqRewardWindow"))?void 0:e.Close()})),timer.delay("VuplexWebView",(()=>l.Hide()),500),laya.del("ActivityWindow",3e3);}function redUI(e,t=!1){var i,n,l,o,a;return (null==(a=null==(o=null==(l=null==(n=null==(i=null==e?void 0:e.tabGroup)?void 0:i.btnList)?void 0:n.filter((e=>t||e.redPointIsShow)))?void 0:l.map((t=>{let i=e.viewStack.childInitDataList.findIndex((e=>e==t.value));return i<1&&(i=t.value),e.viewStack.selectedIndex=i,i})))?void 0:o.filter((i=>"boolean"==typeof t||e.viewStack._childList[i]==t)))?void 0:a.map((t=>e.viewStack._childUIList[t])))||[]}function getgift(e=""){const t=laya.get("GiftExchangeWindow");t.giftInput.text=e,t.getClicked(),laya.del("GiftExchangeWindow",1e4);}async function getmail(){var e,t,i,n,l,o,a,s,r;const c="MailWindow"==(null==this?void 0:this.name)?this:laya.find("WindowLayer","MailWindow")||laya.get("MailWindow"),d=null==c?void 0:c.mailContentWindow;if(Array.isArray(null==d?void 0:d.winArr)){null==(t=null==(e=laya.class("ActivityManager"))?void 0:e.AskRechargeInfoAgain)||t.call(e),await sleep(1e3);for(const e of ((null==(i=c.manager)?void 0:i.systemMailList)||[]).filter((({mid:e})=>e))){let t=e.mid;if("道具过期提醒"==e.title||"不良游戏行为警告"==e.title)null==(n=c.manager)||n.DeleteMail(t);else if(e.hasAttachMent){e.read||null==(l=c.manager)||l.ReadMail(t);let i=e.AttachmentType,n=(null==(o=e.attachment.getStringKey("key"))?void 0:o[0])??"",u=e.fromUserName&&"系统未知好友"!=e.fromUserName?e.fromUserName:"";if(1==i){let t=u?2:0;d.ChangeWindow(t,e),null==(a=d.winArr[t])||a.getBtnClick(),null==(s=d.winArr[t])||s.Close(),d.close();}else 2==i&&(null==(r=c.manager)||r.SendClientDbsGetgmawardReq(n,t,u));await sleep(500),setTimeout((()=>{var i;e.read&&e.Geted&&(null==(i=c.manager)||i.DeleteMail(t));}),1e3);}}laya.del("MailWindow",1e4);}}const secKill=(()=>{let e,t,i=null,n=0,l="";function o(){i=null,document.querySelectorAll('.left input[type="checkbox"]').forEach((e=>{e.checked=!1;}));}function a(o=900,a=50){timer.loop("seckill",(()=>{var o;return e=laya.find("WindowLayer","ActivityWindow","WelfareSeckillView")||laya.get("WelfareSeckillView"),(null==(o=null==e?void 0:e.itemList)?void 0:o.length)?(t=e.itemList.find(((e,t)=>{var n;return t==i||(null==(n=e.data)?void 0:n.goods_id)==i})),"function"==typeof(null==t?void 0:t.buyHpItemHandler)&&(timer.set("seckill",s,n+50),void tooltipSGS(`秒杀连点器启动！\n${l}`))):null}),a,o/a|0,(()=>tooltipSGS("未找到秒杀面板！\n连点器秒杀失败！")));}function s(e=300){null==t||t.buyHpItemHandler(),timer.loop("seckill",(()=>{var e,i,n,l,a;null==t||t.buyHpItemHandler(),0==(null==(i=null==(e=t)?void 0:e.selloutTex)?void 0:i.visible)&&(null==(a=null==(l=null==(n=null==e?void 0:e.limitCount)?void 0:n._innerHTML)?void 0:l.includes)?void 0:a.call(l,"0/"))||(o(),timer.clear("seckill"));}),e);}return (e,t,s="",r=1e3)=>{var c;if(!1===e)o(),timer.clear("seckill"),tooltipSGS("秒杀连点器已取消！");else if(void 0!==e&&e!==i){n=t||timer.now();let o=n-r,d=o-timer.now();i=e,l=s||(null==(c=initMap.goodsID(e))?void 0:c.name)||"",d>1?(tooltipSGS(`${(d/6e4).toFixed(1)}分钟后启动秒杀连点器！\n${l}`),timer.set("seckill",a,o)):a();}return i}})();async function confirm(e={},t="",i=null,n=0){n&&await sleep(n);let l=await wait((()=>laya.find("PromptLayer","ConfirmWindow")));if(!l)return null;Array.isArray(l)||(l=[l]),l.forEach((n=>{if(!(null==n?void 0:n.confirmData))return;if(Object.entries(e).some((([e,t])=>n.confirmData[e]!=t)))return;"boolean"==typeof i&&n.checkBox&&(n.checkBox.selected=i);let l=n.confirmData.buttonArr.find((e=>e.label==t));l.callBack&&l.thisObject&&l.callBack.apply(l.thisObject,l.callBackParams),n.confirmData.clickClose&&n.RemoveFromParent();}));}function invite(e="浩铭er",t=!1){var i;const n=laya.get("SzxyHelpWin");return n.enterWindow(e),(null==(i=null==n?void 0:n.btnHelp)?void 0:i.enabled)?(n.onClickHelp(),laya.del("SzxyHelpWin"),!0):(t&&tooltipSGS("助力已完成，非常感谢！"),laya.del("SzxyHelpWin"),!1)}const DI=0,DING=65280,RAND=65282,globalState={inviteName:"",UsedGeneralSkinID:{UsedGeneralSkinID:{}},goods:[],lotteries:[],closeIframe:!1,autoBotStatus:30,autoBotInfinite:!1,recGoods:{}};let Id_Key_Value=[["padding","PADDING",0],["skinSwitch","SKIN_SWITCH",!1],["generalSwitch","GENERAL_SWITCH",!1],["skinStateSwitch","SKIN_STATE_SWITCH",!0],["skinStateBlockSwitch","SKIN_STATE_BLOCK_SWITCH",!1],["skinPaperSwitch","SKIN_PAPER_SWITCH",!0],["allPaperSwitch","ALL_PAPER_SWITCH",!1],["cardBackSwitch","CARD_BACK_SWITCH",!1],["seatUISwitch","SEAT_UI_SWITCH",!0],["autoSignSwitch","AUTO_SIGN_SWITCH",!1],["autoSignSkipSwitch","AUTO_SIGN_SKIP_SWITCH",!1],["autoInviteSwitch","AUTO_INVITE_SWITCH",!1],["autoDrumSwitch","AUTO_DRUM_SWITCH",!1],["autoWuJiangSwitch","AUTO_WUJIANG_SWITCH",!1],["autoKanShuSwitch","AUTO_KANSHU_SWITCH",!1],["autoYueKaSwitch","AUTO_YUEKA_SWITCH",!1],["skipWindowSwitch","SKIP_WINDOW_SWITCH",!1],["skipProbWindowSwitch","SKIP_PROB_WINDOW_SWITCH",!1],["skipADSwitch","SKIP_AD_SWITCH",!0],["CDKNotificationSwitch","CDK_NOTIFICATION_SWITCH",!0],["questNotificationSwitch","QUEST_NOTIFICATION_SWITCH",!0],["killEffectSwitch","KILL_EFFECT_SWITCH",!1],["wuxieSwitch","WUXIE_SWITCH",!1],["msgBlockSwitch","MSG_BLOCK_SWITCH",!1],["rogueCitySwitch","ROGUE_CITY_SWITCH",!0],["cardLabelSwitch","CARD_LABEL_SWITCH",!0],["tianshuSwitch","TIANSHU_SWITCH",!0]];const globalConfig=new Proxy(Object.fromEntries(Id_Key_Value.map((([e,t,i])=>(null===localStorage.getItem(t)&&localSet(t,i),[e,localGet(t,i)])))),{set:function(e,t,i){var n;const l=Id_Key_Value.find((([e])=>e===t));if(!l)return !1;localSet(l[1],i);if(window.event&&"server-sync"===(null==(n=window.event.detail)?void 0:n.source))return e[t]=i,!0;return debounce(recSetting({username:user.userID,settingKey:t,value:i}),300),e[t]=i,"padding"==t&&(window.padding=i),!0}}),UI={seatWidthPercent:.3,firstUpdateSeatUI:!1,scoreFrameTotal:10,scoreFrameIndex:0,paddingLeft:10,paddingRight:15,paddingTop:30,paddingBottom:0,paddingLeftTopExtra:0,selectStarted:!1,leftRightTop:20,stackCardAreaHeight:0,stackCardAreaY:0,MAX_SEAT_WIDTH:149,inPopFirstTarget:!1,unscaledWidth:146,unscaledHeight:172,MAX_HEIGHT:180,MAX_WIDTH:150,scale:1,selfSeatUiUnscaledHeight:178,rightBarWidth:221,seatUIs:[],cities:[]};var iｉl="jsjiami.com.v7",liiIIIIl,l1IIlIi,i1Iiii1I,li1II11i,lIIl1ill;liiIIIIl=3040,l1IIlIi=192,liiIIIIl>>=4,li1II11i="hs",lIIl1ill="hs",function(e,t,i,n,l){const o=ilIlIii;lIIl1ill+=l="up",li1II11i=i(li1II11i=(n="tfi")+li1II11i),lIIl1ill=i(lIIl1ill),i=0;const a=e();for(;--l1IIlIi+t;)try{n=-parseInt(o(313,"Ryi@"))/1+parseInt(o(315,"(]Ln"))/2*(-parseInt(o(325,"wdbD"))/3)+parseInt(o(321,"wx0F"))/4+-parseInt(o(304,"IoNl"))/5+parseInt(o(314,"btYu"))/6*(-parseInt(o(320,"u*[R"))/7)+-parseInt(o(319,"R!Ft"))/8+parseInt(o(323,"hX#["))/9;}catch(s){n=i;}finally{if(l=a[li1II11i](),liiIIIIl<=l1IIlIi)i?i1Iiii1I?n=l:i1Iiii1I=l:i=l;else if(i==i1Iiii1I.replace(/[VSOyqrwIKgtuPlxdBNfF=]/g,"")){if(n===t){a["un"+li1II11i](l);break}a[lIIl1ill](l);}}}(llliilli,315205,(function(e,t,i,n,l,o,a){return (e=(e=(e=arguments[0])[t="split"](""))[i="reverse"]("v"))[n="join"]("")})),llliilli&&(iｉl=18446);const user=new Proxy({},{get(e,t,i){const n=ilIlIii,l={HzWUy:function(e,t){return e==t},dSlDb:n(308,"rqLZ"),fIMSx:function(e,t){return e==t},iizfj:function(e,t){return e==t}};return l[n(306,"!&8x")](t,l.dSlDb)?()=>e:l[n(312,"IoNl")](t,"gh")?t=>Reflect[n(307,"5j0K")](e,"g",t,i):l[n(305,"wx0F")](t,"tt")?t=>Reflect[n(311,"03jS")](e,"t",t,i):l[n(317,"^vgh")](t,"a")?t=>Reflect[n(310,"GGm@")](e,"v",t,i):Reflect.get(e,t,i)},set:(e,t,i,n)=>(["v","g","t"][ilIlIii(316,"vq2m")](t)&&(t+="ip"),Reflect.set(e,t,i,n),!0)});function ilIlIii(e,t){const i=llliilli();return ilIlIii=function(t,n){let l=i[t-=302];if(void 0===ilIlIii.qaFHOx){const t=function(e,t){let i,n,l=[],o=0,a="";for(e=function(e){let t="",i="";for(let n,l,o=0,a=0;l=e.charAt(a++);~l&&(n=o%4?64*n+l:l,o++%4)?t+=String.fromCharCode(255&n>>(-2*o&6)):0)l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(l);for(let n=0,l=t.length;n<l;n++)i+="%"+("00"+t.charCodeAt(n).toString(16)).slice(-2);return decodeURIComponent(i)}(e),n=0;n<256;n++)l[n]=n;for(n=0;n<256;n++)o=(o+l[n]+t.charCodeAt(n%t.length))%256,i=l[n],l[n]=l[o],l[o]=i;n=0,o=0;for(let s=0;s<e.length;s++)n=(n+1)%256,o=(o+l[n])%256,i=l[n],l[n]=l[o],l[o]=i,a+=String.fromCharCode(e.charCodeAt(s)^l[(l[n]+l[o])%256]);return a};ilIlIii.zFFeTn=t,e=arguments,ilIlIii.qaFHOx=!0;}const o=t+i[0],a=e[o];return a?l=a:(void 0===ilIlIii.dCdfeE&&(ilIlIii.dCdfeE=!0),l=ilIlIii.zFFeTn(l,n),e[o]=l),l},ilIlIii(e,t)}function llliilli(){const e=[iｉl,"VjSsKjtiwaymBrif.Pdlcfom.Fvlu7dIOxqgNBIq==","WRexhG","aqZcRCoBhxe","raxcN8omcexdNq","c0FcGG","WPdcT8kp","i8kpwbNdKW","ymkHk1HRsSkFWOPodg4"].concat(["WRaaW4rswmk6W5ddNu4","W5DrFSoFWP1GEq","W7VcTCkQkL5OvLa","WPi5WOFdG2S","C8kczSkEufaPr8oc","jWHYW5tdSbnrWP/cQCoyr1D4","W53cTM0pcZFcMmk9sI1n","qCodFd3dGcldG8oXW7hcNSkngfa","r2pdHmkvDHxcSYtcQJyJgSka"].concat(["dbXldmoMW6FcN8kxWQddMCoDbhDb","WQaLg8oXl3hcRSksW6uGf8oou8km","W7RcVWVcGwpcUSo2WRVcI8owsurN","W6b+s8kcgtz3cmoaf8oQgr8","xcavhJWKBejaxSoyC2y","Dmo2lxJcNKPeFuCNgSosWPK","gCkEnM3cMq","W5hdT3xcHSoV"]));return (llliilli=function(){return e})()}const initMap={},gameRecord={};function setGameRecord(e){Object.assign(gameRecord,e);}const gameRecordAll=localGet("gameRecord",{}),rogueMap={},timer={tasks:{},corr:0,shift:0,now(e=!0){return Date.now()+this.corr+(e?0:this.shift)},sync(e){this.corr=1e3*(e.ServerTime-28800)-Date.now(),this.shift&&(e.ServerTime+=this.shift/1e3|0);},update(e=Date.now()){var t;null==(t=laya.class("TimerManager"))||t.SendHeartbeart(e);},modify(e=null){this.shift=e?e-this.now():0,this.update();},local(e){let t=new Date(e??this.now()),i=t.getTimezoneOffset();return t.setMinutes(t.getMinutes()-i),t.toISOString()},loop(e,t,i,n=1/0,l){this.clear(e);let o=setInterval((()=>{t(),--n<=0&&(this.clear(e),"function"==typeof l&&l());}),i);return this.tasks[e]={intervalId:o,callback:t},this.tasks[e].intervalId},delay(e,t,i){this.clear(e);let n=setTimeout((()=>{this.clear(e),t();}),i);return this.tasks[e]={timeoutId:n,callback:t},this.tasks[e].timeoutId},set(e,t,i,n=18e5){this.clear(e);const l=this.now(),o=(i??l)-l;if(o>1){let l=setTimeout((()=>this.set(e,t,i,n)),o<n?o:n);this.tasks[e]={timeoutId:l,callback:t};}else t();},trigger(e){if(!this.tasks[e])return null;let{timeoutId:t,callback:i}=this.tasks[e];return t&&(clearTimeout(t),delete this.tasks[e]),"function"==typeof i&&(i(),!0)},clear(e){e?Array.isArray(e)||(e=[e]):e=Object.keys(this.tasks),e.filter((e=>this.tasks[e])).map((e=>{if(!this.tasks[e])return null;let{intervalId:t,timeoutId:i}=this.tasks[e];return i&&clearTimeout(i),t&&clearInterval(t),delete this.tasks[e],e}));}},game=new Proxy({turn:0,round:0,phase:0,currentID:void 0,isGameStart:!0,isPassed:!1,spellSpace:{},domContainer:["temp","phase","round","turn","game","long"].reduce(((e,t,i)=>(e[t]=e[i]=[],e)),{}),end(e){(this.isGameStart&&!this.isPassed||!1===e)&&(this.isGameStart=!1,this.isPassed=!0,UI.seatUIs=[],UI.friendGeneral=0,getSeatUIs(null),laya.reset(),document.querySelectorAll(".mizhu").forEach((e=>e.style.display="none")),console.warn("游戏已结束！"),timer.clear("gameStart")),e&&this.isPassed&&(this.isPassed=!1,this.turn=0,this.round=0,this.phase=0,this.currentID=void 0,this.spellSpace={},getseven(user.userID),room.reset(),console.warn("游戏已重置！游戏即将开始！"),retry((()=>laya.init())));},ready(e){this.end(!0),room.cardList=e;let t=initMap.cardIDsOrder.filter((t=>e.includes(t))),i=t.concat(e.filter((e=>!t.includes(e)))).filter(Boolean);Qcard.init(i),Zone.init(i,"2-255"),room.isGuoZhan=e.includes(1150),room.isDouDiZhu=e.includes(13005),room.isShanHeTu=e.includes(20100),room.isShanHeTu&&(rogueMap.sanBanFu=0),domInit(),room.isShanHeTu&&patchSkinBtn(),[3338].forEach((e=>delete this.spellSpace[e])),console.warn("牌堆初始化完成"),recGameRecord(1,[]);},start(){!this.isGameStart&&room.size&&(this.isGameStart=!0,this.isPassed=!1,console.warn("游戏开始！["+room.seatIDs+"] > "+room.mySeats),timer.trigger("gameStart"),resetOrderContainer(),hideOrderContainer(room.size),Zone.draw());},enter(e,t,i){var n,l,o,a,s;if(e>0)this.turn=e,this.round=0,this.clear("turn"),1==e&&(this.clear("game"),this.start());else {0==t?(this.currentID=i,this.round++,this.phase=0,[7011,3090,2143,3271].forEach((e=>delete this.spellSpace[e])),document.getElementById("suit").innerText="",document.getElementById("boTu").innerText="",document.getElementById("result").innerHTML="",Zone.draw("2-255"),this.clear("round"),!0===globalState.autoBotSwitch&&laya.limit>0&&(null==(a=null==(o=null==(l=null==(n=laya.gamescene)?void 0:n.topMenu)?void 0:l.areaServerLabel)?void 0:o.text)?void 0:a.includes("身份"))&&(this.currentID==room.seatUIs.filter((e=>e.seat.currentHp>0)).map((e=>e.seat.index)).slice(-1)[0]?laya.auto(3):this.currentID!=room.mySeats[0]&&laya.auto(!0))):this.phase++,this.clear("phase");let e=document.getElementById("phrase"),r=parseInt(null==(s=e.innerText.match(/\(([0-9])\)$/))?void 0:s[1]);this.phase==r?e.innerText=e.innerText.replace(/(回合)?(.{2,3})(阶段)? ?\(([0-9])\)$/,`$2>${["开始时","准备","判定","摸牌","出牌","弃牌","结束","结束时","结束后"][t]}($4)`):e.innerText=`${["回合开始时","准备阶段","判定阶段","摸牌阶段","出牌阶段","弃牌阶段","结束阶段","回合结束时","回合结束后"][t]} (${this.phase})`;}},clear(e,t,i){let n=this.domContainer[e];for(let l=n.length-1;l>=0;l--)void 0===i&&t!==n[l].SpellID&&n[l].count--,n[l].count>0&&(t!==n[l].SpellID||i!==n[l].SeatID)||(n[l].element.remove(),n.splice(l,1));}},{ownKeys:e=>Reflect.ownKeys(e.spellSpace),getOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e.spellSpace,t),deleteProperty:(e,t)=>Reflect.deleteProperty(e.spellSpace,t),get:(e,t,i)=>t in e?e[t]:Reflect.get(e.spellSpace,t,e.spellSpace),set:(e,t,i,n)=>(t in e?e[t]=i:Reflect.set(e.spellSpace,t,i,e.spellSpace),!0)}),room={cardList:[],seatUIs:[],seatIDs:[],orderIDs:[],mySeats:[],generals:{},shift:0,isShanHeTu:!1,isGuoZhan:!1,isDouDiZhu:!1,size:void 0,firstID:void 0,seatPos:(e=8)=>({0:[],1:[0],2:[0,4],3:[0,3,5],4:[0,1,4,7],5:[0,1,3,5,7],6:[0,1,3,4,5,7],7:[0,1,2,3,5,6,7],8:[0,1,2,3,4,5,6,7]}[e]),dealCard:()=>null,reset(){this.cardList=[],this.seatUIs=[],this.seatIDs=[],this.orderIDs=[],this.mySeats=[],this.generals={},this.shift=0,this.isShanHeTu=!1,this.isGuoZhan=!1,this.isDouDiZhu=!1,this.size=void 0,this.firstID=void 0,this.dealCard=(e,t)=>{e=parseInt(e),this.orderIDs.includes(e)||(void 0===this.firstID&&(this.firstID=e,console.warn("[PubGsCMoveCard]先手位置:"+e)),this.orderIDs.push(e),t>0&&!this.mySeats.includes(e)&&(this.mySeats.length?this.mySeats.push(e):this.setMyID(e)),this.update(!1,this.orderIDs)),this.orderIDs.length==this.size&&(this.dealCard=()=>null);};},getOrder(e){var t;if(this.seatUIs.length)return null==(t=this.seatUIs.find((t=>t.seatID==e)))?void 0:t.order;let i=this.seatIDs.indexOf(this.firstID??this.seatIDs[0])%this.size,n=this.seatIDs.indexOf(parseInt(e));return -1!==n?(n-i+this.size)%this.size:void 0},getIndex(e){if(this.seatUIs.length)return this.seatUIs.findIndex((t=>t.seatID==e));let t=(this.seatIDs.indexOf(this.mySeats[0])+this.shift)%this.size,i=this.seatIDs.indexOf(parseInt(e));if(i<0)return;let n=(i-t+this.size)%this.size;return this.seatPos()[n]},getID(e){var t;if(this.seatUIs.length)return null==(t=this.seatUIs[this.seatPos().indexOf(parseInt(e))])?void 0:t.seatID;let i=(this.seatIDs.indexOf(this.mySeats[0])+this.shift)%this.size,n=this.seatPos().indexOf(parseInt(e));if(n<0)return;let l=(n+i+this.size)%this.size;return this.seatIDs[l]},sequence(e){let t=this.seatIDs.indexOf(e);return t<0?[]:this.seatIDs.slice(t).concat(this.seatIDs.slice(0,t))},update(e,t=this.orderIDs){if((t=t.slice()).length>this.seatIDs.length||t.length==this.seatIDs.length&&!1!==e)this.seatIDs=t,this.size=t.length;else if(e){for(let e=t.length;e<this.size;e++)t.push(((t[e-1]??-1)+1)%this.size);this.seatIDs=t,this.size=t.length;}this.draw();},fromUI(e=[]){var t;this.seatUIs=e,this.size=this.seatUIs.length,this.firstID=(null==(t=this.seatUIs.find((e=>0==e.order)))?void 0:t.seatID)??this.firstID,this.seatIDs=this.seatUIs.map((e=>e.seatID)),this.setMyID(this.seatUIs[0].seatID),this.draw();},setMyID(e){if(void 0!==e&&this.mySeats[0]!==e){let t=this.mySeats.indexOf(e);t>-1&&this.mySeats.splice(t,1),this.mySeats.unshift(e);}},setGeneral(e,t,i=0,n=!1){if(!initMap.generalDict[t])return;this.generals[e]||(this.generals[e]=Array(this.isGuoZhan?2:1).fill(0)),this.generals[e][i]=t,this.isGuoZhan&&!n&&timer.delay("seatUIs",(()=>laya.seatUIs()),3e3);let l=this.getOrder(e),o=document.getElementById(l+1);o&&o.style.setProperty("--No-content",`"${room.name(e)}"`);},find(e,t,i=!1){var n;return Array.isArray(t)||(t=[t]),null==(n=this.generals[e])?void 0:n.find((e=>t.find((t=>{var n;return i?null==(n=initMap.skinMap[e])?void 0:n.has(t):e==t}))))},name(e,t=!0){var i,n,l,o;let a=this.getOrder(e);if(void 0===a)return "";let s=(null==(i=this.generals[e])?void 0:i.length)>1?this.generals[e].map((e=>initMap.generalDict[e])):[null==(o=null==(l=null==(n=this.seatUIs.find((t=>t.seatID==e)))?void 0:n.seat)?void 0:l.general)?void 0:o.CardName];return null===t&&1!=(null==s?void 0:s.length)&&(s=[]),((null==s?void 0:s.some(Boolean))?s.map((e=>e||"暗")).join("丨"):"一二三四五六七八"[a]+"号位")+(t?"丨"+"一二三四五六七八"[a]:"")},draw(){this.seatIDs.forEach((e=>{let t=this.getOrder(e),i=document.getElementById(t+1);if(!i)return;let n=room.name(e);i.style.setProperty("--No-content",`"${n}"`);})),getSeatUIs();}},Qcard=new Proxy({name:{},color:Array.from({length:7},(()=>new Set)),number:Array.from({length:14},(()=>new Set)),query:new Set,select:{name:new Set,color:new Set,number:new Set},cards:[],QCARD:class{constructor(e,t,i,n,l){this.id=e,this.name=t,this.color=i,this.number=n,this.type=l,this.key=-1;}plot(e){let t=this._button;if(!t){if(t=this._button=document.createElement("button"),t.className=this.color<=2?"shoupai R":"shoupai",!this.id)return t;t.id="Qcard"+this.id,t.innerHTML=`<span>${n2C(this.color)+n2N(this.number)}</span><br>${this.name.substring(0,2)}`;}return this.key===e&&1!=e||(this.key=e,t.style.backgroundColor=0===e?"":1===e?"cyan":"#23201d",t.title=0===e?"牌堆":2===e?"弃牌堆":Card.findKZ(this.id).zones.map((e=>{let[t,i,n]=e.split("-").map((e=>parseInt(e)));return Zone.name(i,t,null,n,n)})).join("/")),t}},[Symbol.iterator]:function*(){for(let e of this.cards)void 0!==e&&(yield e);},init(e){this.name={},this.color=Array.from({length:7},(()=>new Set)),this.number=Array.from({length:14},(()=>new Set)),this.type=Array.from({length:4},(()=>new Set)),this.query=new Set,this.select={name:new Set,color:new Set,number:new Set},this.cards=[],e.forEach((e=>{let{name:t,color:i,number:n,type:l}=allCard[e];t in this.name||(this.name[t]=new Set),this.name[t].add(e),this.color[i].add(e),this.number[n].add(e),this.type[l].add(e),3==i&&n>=2&&n<=9&&this.number[0].add(e),t.match(/^(冰|火|雷)?杀$/)&&this.color[Math.ceil(i/2)+4].add(e),this.cards[e]=new this.QCARD(e,t,i,n,l);}));},onquery(e,t){if(this.select[e].delete(t)){if(this.select[e].size)return Array.from(this[e][t]).forEach((e=>this.query.delete(e))),void this.draw()}else this.select[e].add(t);this.query=["name","number","color"].filter((e=>this.select[e].size)).reduce(((e,t)=>new Set(Array.from(this.select[t]).flatMap((e=>Array.from(this[t][e]))).filter((t=>!e.size||e.has(t))))),new Set),this.draw();},queryone(e,t){this.query=new Set(Array.from(this[e][t])),this.draw();},draw(){const e=document.getElementById("cardTypeDetail");if(e.innerHTML="",0==this.query.size)return;let t=new Set(Zone.unknown),i=new Set(Zone.qipai),n=initMap.cardIDsOrder.filter((e=>this.query.has(e))).reduce(((e,n)=>(t.has(n)?e[0].push(n):i.has(n)?e[2].push(n):e[1].push(n),e)),[[],[],[]]);[0,1,2].forEach((t=>n[t].forEach((i=>e.appendChild(this.cards[i].plot(t))))));}},{get(e,t,i){return "number"==typeof t||"string"==typeof t&&!isNaN(t)?e.cards[t]:Reflect.get(...arguments)}}),_Card=class e{static label(t){if(e.groups.has(t))return e.groups.get(t);const i=e.LABELs.shift();return e.groups.set(t,i),i}constructor(t,i=null,n="12-255",l=null,o=null){var a;this._key=t,this.zone=n,this.id=i??(null==(a=this.next)?void 0:a.id)??this.key,this.next=l,this.prev=o,e.nodes.has(t)||e.nodes.set(t,new Set),e.nodes.get(t).add(this);}get head(){let e=this;for(;e.prev;)e=e.prev;return e}get end(){let e=this;for(;e.next;)e=e.next;return e}get key(){return this._key}set key(t){this._key!=t&&(e.nodes.get(this._key).delete(this),this._key=t,e.nodes.has(t)||e.nodes.set(t,new Set),e.nodes.get(t).add(this));}static get(t){return e.nodes.has(t)?Array.from(e.nodes.get(t)):[]}static init(t,i){return e.key=0,e.nodes=new Map,e.groups=new Map([[0,"?"]]),e.LABELs=Array.from({length:62},((e,t)=>String.fromCharCode(t+65))),t.map((t=>new e(0,t,i)))}toString(){return this.next?this.prev?this.key+"<"+this.next.toString():this.zone+":"+this.key+"<"+this.next.toString():"["+this.id+"]"+(this.key>0?allCard[this.id].ncn:"？")}plot(t){var i;if(this.key<0&&this.key%2==0&&this.next)return this.next.plot(t);let n=this._button;return n||(n=this._button=document.createElement("button"),n.className="shoupai"),n.disabled=this.key<=0&&this.key%2==0,(t||this.key!=(null==(i=null==n?void 0:n.dataset)?void 0:i.key)||this.key<=0&&e.label(this.key)!=n.innerHTML)&&(n.className="shoupai",n.id="card"+this.id,n.dataset.key=this.key,this.key>0?(n.classList.remove("G"),allCard[this.id].color>2?n.classList.remove("R"):allCard[this.id].color>0&&n.classList.add("R"),n.style.color="",n.style.fontSize="",n.title=new Zone("unknown").cards.has(this)?e.findKZ(this.id).zones.map((e=>{let[t,i,n]=e.split("-").map((e=>parseInt(e)));return Zone.name(i,t,null,n,n)})).join("/"):allCard[this.id].ncn,n.innerHTML=`<span>${allCard[this.id].cn}</span><br>${allCard[this.id].name.substring(0,2)}`):(n.classList.add("G"),n.innerHTML="？")),n}swap(e){if(!e||e==this)return this;for([this.key,e.key]=[e.key,this.key],[this.id,e.id]=[e.id,this.id],[this.next,e.next]=[e.next,this.next],this.next&&(this.next.prev=this),e.next&&(e.next.prev=e);e.prev&&e.prev.id!==e.id;)e.prev.id=e.id,e=e.prev;for(e.plot(!0),Zone.draw(e.zone),e=this;e.prev&&e.prev.id!==e.id;)e.prev.id=e.id,e=e.prev;return e.plot(!0),Zone.draw(e.zone),this}create(t){const i=new e(this.key,this.id,this.zone,this.next,this);return this.key=t,this.next&&(this.next.prev=i),this.next=i,this}delete(){let t=!1;if(this.next){let i=this.next;return this.key=i.key,this.id=i.id,this.next=i.next,i.next?i.next.prev=this:new Zone("unknown").cards.delete(i)&&(t=!0,this.prev&&new Zone("unknown").cards.add(this)),e.nodes.get(i.key).delete(i),t}return 0===this.key?(this.key=this.id,counter(this.id,this.key),!0):null}destroy(t){let i=!1,n=this.key;for(;n<0;)this.delete()&&(i=!0),e.unpack(n)&&(i=!0),n=this.key;return this.key!=t&&(this.key=t??this.id,counter(this.id,this.key)),this.prev?e.unpack(this.prev.key):(this.plot(!0),Zone.draw(this.zone)),i&&Zone.draw("unknown"),this}identify(t,i=null){if(null!==i&&console.count("REidentify"+i+">"+this),this.id==t)return this.key>0||(i&&(this.end.id=i),this.destroy()),this;let n,l=new Set([this.key]),o=[[this.key,[]]];for(;o.length>0;){let[i,a]=o.shift();if(n=e.find(i,t),n){a.concat(n).reduce(((e,t)=>e.swap(t).next),this);break}for(let t of e.get(i).filter((e=>e.next)))l.has(t.next.key)||(l.add(t.next.key),o.push([t.next.key,a.concat(t)]));}if(n){if(i){let e=this;for(e.id=i;e.next;)e=e.next,e.id=i;}return this.destroy(),this}return t>0?this.identify(0,t):(console.error("identify error: "+(t>0?t:i)+">"+this),null)}static move(t,i){Array.isArray(t)||(t=[t]);let{turn:n,round:l,phase:o}=game;return null==t||t.forEach((e=>Object.assign(e,{zone:i,turn:n,round:l,phase:o}))),Array.from(new Set(null==t?void 0:t.map((e=>e.key)))).filter((e=>e<=0)).map((t=>e.unpack(t))).length?Zone.draw("unknown"):Array.from(new Set(null==t?void 0:t.map((e=>e.key)))).filter((e=>e>0&&Qcard.query.has(e))).forEach((e=>{Qcard[e].plot("2-255"==i?2:1);})),t}static pack(t,i,n){if(!((null==t?void 0:t.length)>1&&(null==t?void 0:t.every((e=>e)))))return;let l,o=new Set(t.map((e=>e.key)));if(1===o.size)return [...o][0];if(e.key=e.key-1,n){if(1===new Set(t.map((e=>e.head.zone))).size)return null;let i=Array.from(e.nodes.keys()).filter((e=>e<0));for(let t=0;t>=e.key;t--)if(!i.includes(2*t-1)&&!i.includes(2*t-2)){l=2*t-n;break}i.filter((e=>e>l)).sort(((e,t)=>e-t)).forEach((t=>{e.get(t).forEach((e=>{e.key=e.key-2,e.head.plot(!0);}));})),l=-n;}else l=2*e.key-(i?2:1);return t.forEach((e=>{e.create(l),new Zone("unknown").cards.delete(e),i||new Zone("unknown").cards.add(e.end);})),Zone.draw("unknown"),l}static unpack(t){if(t>0)return !0;const i=e.get(t);let n=new Set(i.map((e=>{var t;return null==(t=e.next)?void 0:t.key}))),l=new Set(i.map((e=>e.head.zone)));if(1===i.length||!l.has("1-255")&&(1===l.size||1===n.size&&0!==t)){e.groups.has(t)&&(e.LABELs.unshift(e.groups.get(t)),e.groups.delete(t));let n=i.map((e=>e.delete())).some(Boolean);return Array.from(new Set(i.filter((e=>e.prev)).map((e=>e.prev.key)))).forEach((t=>e.unpack(t))),i.filter((e=>!e.prev)).forEach((e=>e.plot(!0))),Array.from(l).forEach((e=>Zone.draw(e))),n}return !1}static find(t,i){let n=e.get(t).find((e=>e.id==i));if(void 0===n&&0!=t){let l=e.get(0).find((e=>e.id==i));l&&(n=e.get(t).find((e=>0==e.end.key)),void 0!==n&&l.swap(n.end));}return n}static findIDs(t,i=!1,n=new Set,l=new Set){return l.add(t),t>0||!i&&0==t?n.add(t):(i||t%2!=0)&&e.get(t).forEach((t=>{if(t.next){let o=t.next.key;l.has(o)||e.findIDs(o,i,n,l);}else i&&n.add(t.id);})),Array.from(n)}static findKZ(t,i=!1,n=new Set,l=new Set){let o=t;return !(o instanceof e)&&t>0&&(o=e.get(t)[0]),o instanceof e||(o=e.get(0).find((e=>e.id==t))),o instanceof e&&(i||0!=o.key?(l.add(o.head.zone),n.has(o.key)||(n.add(o.key),(o.key<0||i&&0==o.key)&&e.get(o.key).forEach((t=>{t!=o&&e.findKZ(t,i,n,l);}))),o.prev&&e.findKZ(o.prev,i,n,l)):(l.add(""),n.add(0))),{keys:Array.from(n),zones:Array.from(l)}}};__publicField(_Card,"key",NaN),__publicField(_Card,"nodes",new Map),__publicField(_Card,"groups",new Map([[0,"?"]])),__publicField(_Card,"LABELs",Array.from({length:50},((e,t)=>String.fromCodePoint(t<20?9312+t:t<35?12861+t:12942+t))));let Card=_Card;const _Zone=class e{static get paidui(){return Array.from(new Set(Array.from(Card.get(0),(({id:e})=>e)).concat((e.obj["1-255"]??[]).map((({id:e})=>e)))))}static get qipai(){return (e.obj["2-255"]??[]).filter((({key:e})=>e>0)).map((({id:e})=>e))}static get unknown(){return Array.from(Card.get(0),(({id:e})=>e))}static shoupai(t){return (e.obj["5-"+t]??[]).filter((({key:e})=>e>0)).map((({id:e})=>e))}constructor(t,i=5,n=DING,l=null,o=null,a=null){var s;"number"==typeof t?(this.id=t,this.zone=i,0==this.id&&[0,1,2,3,9,12].includes(this.zone)&&(this.id=255),9==this.zone&&(this.zone=1),4==this.zone&&(this.id=this.id+"-"+(a||o||0)),8==this.zone&&(this.id="-"+(o||a||0)),this.zoneID=this.zone+"-"+this.id):"string"==typeof t?[this.zoneID,this.zone,this.id]=t.match(/(.*?)-(.*)/)??[t,t,""]:null==(s=null==t?void 0:t.every)||s.call(t,(e=>e instanceof Card)),this.zoneID in e.obj||(e.obj[this.zoneID]=[]),1==this.zone?this.pos=n===DING?DI:n===DI?DING:n:10===this.zone?this.pos=n:this.pos=RAND,this.count=l;}show(t=[]){if(isNaN(Card.key))return [];if(Array.isArray(t)||(t=[t]),0==t.filter((e=>e>0)).length)return [];let i=[],n=t.slice();if(this.pos==DING)i=this.cards.slice(-t.length).map((e=>e.identify(n.shift())));else if(this.pos!=RAND)i=this.cards.slice(this.pos,t.length).map((e=>e.identify(n.shift())));else if(1!=this.zone){let e=n.map((e=>Card.findKZ(e,!0).keys));this.cards.slice().sort(((e,t)=>t.key-e.key)).some((t=>{if(0==n.filter((e=>e>0)).length)return !0;e.some(((e,l)=>{if(e.includes(t.key))return i[l]=t.identify(n[l]),e.length=0,n[l]=null,!0}));})),n.forEach(((e,t)=>{var n,l,o,a;if(e&&(i[t]=null==(n=this.cards.find((e=>0==e.id)))?void 0:n.identify(e),void 0===i[t]&&(i[t]=null==(l=this.cards.find((e=>0==e.key)))?void 0:l.identify(e)),void 0===i[t])){let n=Card.get(e)[0];n?(i[t]=null==(a=null==(o=this.cards.find((e=>!i.includes(e))))?void 0:o.swap(n))?void 0:a.identify(e),console.error(this.zoneID+"SWAP Card ["+e+"] Shown")):(i[t]=new Card(e,e,this.zoneID),12!=this.zone&&console.error(this.zoneID+" No Card ["+e+"] Shown"));}}));}return e.draw(this.zoneID),i}remove(t=[],i,n){if(isNaN(Card.key))return [];Array.isArray(t)||(t=[t]),n&&(this.count=n);let l=[],o=t.slice();if(this.pos==DING)l=this.cards.splice(-this.count);else if(this.pos!=RAND)l=this.cards.splice(this.pos,this.count),1==this.zone&&[3208,7011,987,988].includes(i)&&(l=l.reverse());else if(t.filter((e=>e>0)).length>0){let e=o.map((e=>Card.findKZ(e,!0).keys));this.cards.slice().reverse().sort(((e,t)=>t.key-e.key)).some((t=>{if(0==o.filter((e=>e>0)).length)return !0;e.some(((e,i)=>{if(e.includes(t.key))return l[i]=this.cards.splice(this.cards.indexOf(t),1)[0],e.length=0,o[i]=null,!0}));})),o.forEach(((e,t)=>{var i;if(!e)return;let n=this.cards.findIndex((e=>0==e.id));if(-1===n&&(n=this.cards.findIndex((e=>0==e.key))),n>-1)l[t]=this.cards.splice(n,1)[0];else {let n=Card.get(e)[0],o=this.cards.findIndex((e=>!l.includes(e)));n&&o>=0?(l[t]=null==(i=this.cards.splice(o,1)[0])?void 0:i.swap(n),console.error(this.zoneID+"SWAP Card ["+e+"] Moved")):(l[t]=new Card(e,e,this.zoneID),12!=this.zone&&console.error(this.zoneID+" No Card ["+e+"] Moved"));}}));}else if(this.count==this.length||1==this.size)l=this.cards.splice(0,this.count);else if(1==this.zone||2==this.zone){var a=[...this.cards.filter((e=>e.key<=0)).sort(((e,t)=>t.key-e.key)),...this.cards.filter((e=>e.key>0))];if([11104,3488,862].includes(i)){var s=new Set(a.map((e=>e.key)));11104==i?s=new Set(Array.from(s).filter((e=>Card.get(e).some((e=>{var t;return null==(t=Qcard.type[3])?void 0:t.has(e.id)}))))):3488==i?s=new Set(Array.from(s).filter((e=>Card.get(e).some((e=>{var t,i,n;return (null==(t=Qcard.name["雷杀"])?void 0:t.has(e.id))||(null==(i=Qcard.name["火杀"])?void 0:i.has(e.id))||(null==(n=Qcard.name["冰杀"])?void 0:n.has(e.id))}))))):862==i&&(s=new Set(Array.from(s).filter((e=>Card.get(e).some((e=>Qcard.number[6].has(e.id))))))),a=a.filter((e=>s.has(e.key)));}l=a.slice(0,this.count),l.some((e=>e.key>0||e.key%2))&&Card.pack(a,!0),l.forEach((e=>this.cards.splice(this.cards.indexOf(e),1)));}else Card.pack(this.cards),l=this.cards.splice(0,this.count);return l.length!=this.count&&Array.from({length:this.count-l.length},(()=>(console.error(this.zoneID+" New Card Moved"),l.push(new Card(0,0,this.zoneID))))),t.filter((e=>e>0)).length==this.count?t.forEach(((e,t)=>{var i;return null==(i=l[t])?void 0:i.identify(e)})):l.filter((e=>e.key>0)).length==this.count&&l.forEach((({id:e},i)=>{t[i]=e;})),e.draw(this.zoneID),l}add(t){if(isNaN(Card.key))return;let i=Card.move(t,this.zoneID).slice();return this.pos==RAND||this.pos==DING?this.cards.splice(this.cards.length,0,...i):this.cards.splice(this.pos,0,...i.reverse()),e.draw(this.zoneID),t}set(t){isNaN(Card.key)||(e.obj[this.zoneID]=Card.move(t,this.zoneID),e.draw(this.zoneID));}get cards(){return e.obj[this.zoneID]??[]}get length(){var e;return (null==(e=this.cards)?void 0:e.length)??0}get size(){var e;return new Set((null==(e=this.cards)?void 0:e.map((e=>e.key)))??[]).size}static init(t,i){e.obj={unknown:new Set},e.obj[i]=Card.init(t,i);}static draw(t){var i,n;if(isNaN(Card.key))return;if(void 0===t)return void Object.keys(e.obj).filter((e=>"5"==e.split("-")[0])).forEach((t=>e.draw(t)));let l=null,o=null,[a,s,r]=(null==(i=t.split("-"))?void 0:i.map(Number))??[];if("unknown"==t)l="knownCards";else if(1==a)l="paiduiCards";else if(2==a)l="qipaiCards";else if(5==a)l=String(room.getOrder(s)+1);else {if(4!=a||!(r in initMap.markSpell))return;l="mark"+t;}o=document.getElementById(l);let c=Array.from(e.obj[t]??[]);if(2==a){let{turn:e,round:t,phase:i}=game;c=c.filter((i=>i.turn==e&&i.round==t));}if("unknown"==t&&(Array.from(new Set(c.map((e=>e.head.zone)))).forEach((t=>e.draw(t))),Qcard.draw()),c&&0!=c.filter((e=>e.key>0||e.key%2!=0)).length){if(o)o.querySelectorAll(":scope>.shoupai").forEach((e=>e.remove()));else {if(4!=a)return;null==(n=document.getElementById(String(room.getOrder(s)+1)))||n.insertAdjacentHTML("beforeend",`<div id="${l}" class="markedCard"><span class = 'mark'>${initMap.markSpell[r]}</span></div>`),o=document.getElementById(l);}"1-255"!=t&&c.sort(((e,t)=>e.key>0&&t.key>0?0:t.key-e.key)),4==a&&(o=o.firstElementChild||o);var d=1;c.map((e=>e.plot("unknown"==t))).reverse().forEach(((e,i,n)=>{var l,s;if(e.dataset.key==(null==(s=null==(l=n[i+1])?void 0:l.dataset)?void 0:s.key))d++;else {d>1&&(e.style.fontSize="",e.innerHTML=`<span>${e.innerHTML}×</span><br>${d}`);let i=parseInt(e.dataset.key);if(i<0){let n=Card.findIDs(i).sort(((e,t)=>e>0&&t>0?0:t-e));e.title=d+"张："+n.map((e=>allCard[e].ncn)).join("/"),"1-255"!==t&&n.length<5&&(e.style.fontSize="",e.innerHTML=n.map((e=>{var t,i;return (null==(i=null==(t=Card.get(e)[0])?void 0:t.plot())?void 0:i.outerHTML)||""})).join(""));}4==a?o.insertAdjacentElement("afterend",e):o.insertAdjacentElement("afterbegin",e),d=1;}}));}else o&&(o.classList.contains("markedCard")?o.remove():o.querySelectorAll(":scope>.shoupai").forEach((e=>e.remove())));}static name(e,t,i,n,l){var o;let a;if(isNaN(t))return "?";if(1==t&&0==e)return "牌堆(游戏开始前) ";if(1==t&&255==e)a="牌堆";else if(2==t)a="弃牌堆";else if(3==t)a="处理区";else if(4==t)a="标记";else if(5==t)a="手牌";else if(6==t)a="装备";else if(7==t)a="判定区";else if(8==t)a="弹窗";else {if(9==t)return "洗牌";10==t?a="交换临时区":11==t?a="弃牌临时区":12==t?a="回收区":0==t&&(a="游戏外");}return ([0,1,2,3,8,11,12].includes(t)?"":room.name(e,!1))+([4,8].includes(t)?"["+(null==(o=initMap.spellDict[8==t?l:n||l||0])?void 0:o.name)+"]":"")+(a??"zone"+t)+({[DI]:"底",[DING]:"顶",[RAND]:"*"}[i]??(i?":"+i:""))}};__publicField(_Zone,"obj",{unknown:new Set});let Zone=_Zone;function mergeGoodsList(e=[],t=[]){const i=new Map;return e.forEach((e=>{i.set(e.GoodsBaseID,e.ChangeCount);})),t.forEach((e=>{const{GoodsBaseID:t,ChangeCount:n}=e;i.has(t)?i.set(t,i.get(t)+n):i.set(t,n);})),Array.from(i,(([e,t])=>({GoodsBaseID:e,ChangeCount:t})))}const shortName={"乐不思蜀":"乐","兵粮寸断":"兵","八卦阵":"八卦","爪黄飞电":"爪黄+1","的卢":"的卢+1","绝影":"绝影+1","骅骝":"骅骝+1","赤兔":"赤兔-1","大宛":"大宛-1","紫骍":"紫骍-1","紫騂":"紫骍-1","诸葛连弩":"连弩","木牛流马":"木马","顺手牵羊":"顺手","万箭齐发":"万箭","五谷丰登":"五谷","无中生有":"无中","过河拆桥":"过拆","桃园结义":"桃园","无懈可击":"无懈","南蛮入侵":"南蛮","借刀杀人":"借刀","铁索连环":"铁索","随机应变":"随机","远交近攻":"远交","以逸待劳":"逸劳","知己知彼":"知己","逐近弃远":"逐近","洞烛先机":"洞烛","出其不意":"出其","水淹七军":"水淹","无懈可击·国":"国无","挟天子以令诸侯":"挟令","方天画戟":"方天戟","雌雄双股剑":"雌雄剑","青龙偃月刀":"青龙刀","丈八蛇矛":"丈八矛","朱雀羽扇":"朱雀扇","白银狮子":"白银狮","三尖两刃刀":"三尖刀","乌铁锁链":"乌铁链","五行鹤翎扇":"五行扇","太公阴符":"太公符","无双方天戟":"无双戟","束发紫金冠":"紫金冠","玲珑狮蛮带":"玲珑带","红棉百花袍":"百花袍","红锦百花袍":"百花袍","四乘粮舆":"四乘舆","铁蒺玄舆":"铁蒺舆","飞轮战舆":"飞轮舆","鬼龙斩月刀":"鬼龙刀","国风玉袍":"国风袍","赤炎镇魂琴":"赤炎琴","奇门八阵":"奇门阵","绝尘金戈":"绝尘+1","修罗炼狱戟":"修罗戟","虚妄之冕":"虚妄冕","赤血青峰":"赤青锋","赤血青锋":"赤青锋","鸾凤和鸣剑":"鸾凤剑","七彩神鹿":"神鹿-1","金乌落日弓":"金乌弓","刑天破军斧":"刑天斧","长安大舰":"长安-2","禅让诏书":"诏书","镔铁双戟":"镔铁戟","继往开来":"继往","攻守兼备":"攻守","进退自如":"进退","洪荒之力":"洪荒","同舟共济":"同舟","力争上游":"力争","逆水行舟":"逆水","撒豆成兵":"撒豆","移花接木":"移花","联军盛宴":"联军","调虎离山":"调虎","火烧连营":"火烧","勠力同心":"勠力","调剂盐梅":"调剂","声东击西":"声东","增兵减灶":"增兵","草木皆兵":"草木","唯我独尊":"独尊","弃甲曳兵":"弃甲","金蝉脱壳":"金蝉","故步自封":"自封","金鼓笙旗":"金鼓","党同伐异":"伐异","燎原之火":"燎原","八卦阵(复制)":"八卦","仁王盾(复制)":"仁王盾","藤甲(复制)":"藤甲","白银狮子(复制)":"白银狮","商鞅变法":"变法","真龙长剑":"真龙剑","传国玉玺":"玉玺","厚积形":"厚积","桎梏形":"桎梏","盈冲形":"盈冲","背水形":"背水","整肃形":"整肃","寸兵形":"寸兵","雄黄酒":"酒"},allCard=new Proxy({cards:{0:{name:"",type:0,color:0,number:0,ncn:"?",cn:"0",c:"",n:0}},[Symbol.iterator]:function*(){for(let e in this.cards)yield this.cards[e];}},{get:function(e,t){var i;if(t in e)return e[t];if(!e.cards[t])if(null==(i=initMap.cardDict)?void 0:i[t]){let{name:i,type:n,color:l,number:o,subType:a}=initMap.cardDict[t],s=n2C(l),r=n2N(o);e.cards[t]={name:{6:"火杀",7:"雷杀",11:"冰杀",12:"闪闪"}[a]||shortName[i]||i,type:parseInt(n),color:parseInt(l),number:parseInt(o),ncn:i+s+r,cn:s+r,c:s,n:r};}else e.cards[t]=e.cards[0];return e.cards[t]}});function n2C(e){return ["","♥","♦","♠","♣"][e]??""}function n2N(e,t=!0){return t&&1==parseInt(e)?"A":{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"J",12:"Q",13:"K"}[e]??""}function drawChatFace(){for(let e=11;e<=60;e++){const t=`https://web.sanguosha.com/220/h5_2/res/runtime/pc/Face/${e}.png`,i=document.createElement("img");i.src=t,i.classList.add("face"),i.onmousedown=()=>toClipboard(`#${e}`,!1),document.getElementsByClassName("chat-body")[0].appendChild(i);}["昏君，昏君啊","主公，别开枪，自己人","能不能快一点儿呀，兵贵神速啊","小内再不跳，后面还怎么玩儿啊","小内啊，您老悠着点儿","不好意思，刚才卡了","你可以打的再烂一点儿吗","哥们儿，给力点儿行吗","你们怎么忍心就这么让我酱油了","我，我惹你们了吗","姑娘，你真是条汉子","三十六计，走为上，容我去去便回","人心散了，队伍不好带啊","风吹鸡蛋壳，牌去人安乐","哥，交个朋友吧","妹子，交个朋友吧","我从未见过如此厚颜无耻之人","你随便杀，闪不了算我输","这波不亏","请收下我的膝盖","你咋不上天呢","放开我的队友，冲我来","见证奇迹的时刻到了"].forEach(((e,t)=>{const i=document.createElement("span");i.classList.add("calRes"),i.textContent=e,i.onmousedown=()=>toClipboard(`${e}`,!1),document.getElementsByClassName("chat-body")[0].appendChild(i);}));}async function toClipboard(e,t){tooltipSGS("复制成功！");var i={1:"⒈",2:"⒉",3:"⒊",4:"⒋",5:"⒌",6:"⒍",7:"⒎",8:"⒏",9:"⒐",J:"Ⓙ",Q:"Ⓠ",K:"Ⓚ","+":" ",10:"⒑"};if(t&&Object.keys(i).forEach((t=>{e=e.replaceAll(t,i[t]);})),laya.chat(e),window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var n=document.createElement("textarea");n.textContent=e,n.style.position="fixed",document.body.appendChild(n),n.select();try{return document.execCommand("copy")}catch(l){return console.warn("Copy to clipboard failed.",l),prompt("Copy to clipboard: Ctrl+C, Enter",e)}finally{document.body.removeChild(n);}}}async function drawCDK(e,t){if(globalConfig.CDKNotificationSwitch){let t=localGet("CDK");t||(t=[]);let i=e.filter((e=>!t.includes(e.cdk)));await sleep(1e4);for(let e of i)addTooltip(`找到兑换码！<br>${e.cdk}<br>点击即可兑换且关闭此条通知${e.rewards}<br>如不想要兑换码通知，可在设置中关闭`,"ac-tooltip",1e4,"green",(function(){!t.includes(e.cdk)&&t.push(e.cdk),localSet("CDK",t),getgift(e.cdk);}));}var i=document.getElementById(t);i.innerText="",0==e.length&&"CDK"==t&&(e=["所有兑换码已经兑换","迟点再看看吧"],localDel("CDK"));for(let l of e){let e=document.createElement("button");e.className="calRes",e.innerText="object"==typeof l?`${l.cdk}`:l,e.onmousedown=function(){getgift("object"==typeof l?l.cdk:l),e.innerText="已兑换",setTimeout((()=>{e.textContent="object"==typeof l?`${l.cdk}`:l;}),"500");},i.append(e);var n=document.createElement("br");i.append(n);}}function drawStore(e){var t=document.getElementById("storeDetail");t.innerText="",0==e.length&&(e=["暂无集市数据"]);for(let i of e){let e=document.createElement("button");e.className="storeDetail",e.innerText=i,t.append(e);}}let pre={9020101:"欢乐豆",100301:"手气卡",100201:"点将卡",1150001:"灵宝经诰",100401:"换将卡",200201:"诏令天下",112301:"校尉将印",112101:"朱砂",12119999:"桃花",111801:"功勋",1111801:"水晶碎片",1114301:"圣魂玄晶",112501:"大将军印",1142901:"夺宝券",21315101:"翻翻乐积分",21315001:"奇珍夺宝券"};function lotteryFilter(e){return !pre[e]}function drawLottery(e,t,i,n){var l;if(null==document.getElementById("sec"+e)){let t=document.getElementById("lottery");const i=document.createElement("div"),l=document.createElement("div");l.innerHTML=initMap.secId[e].Name+"："+initMap.generalDict[initMap.secId[e].bigrewards]+"  次数："+n+"<br>",l.id="sec"+e+"+times",i.id="sec"+e,i.append(l),t.append(i),t.append(document.createElement("hr"));}if(void 0!==document.getElementById("sec"+e)&&null==document.getElementById(e+"+"+t)){document.getElementById("sec"+e+"+times").innerHTML=initMap.secId[e].Name+"："+initMap.generalDict[initMap.secId[e].bigrewards]+"  次数："+n+"<br>";let o=document.getElementById("sec"+e);const a=document.createElement("div");a.className="suit",lotteryFilter(t)&&a.classList.add("r");const s=document.createElement("span"),r=document.createElement("span");s.innerText=(null==(l=initMap.goodsID(t))?void 0:l.name)+" * ",r.innerText=i,s.id=e+"+"+t,r.id=e+"+"+t+"+number",a.append(s),a.append(r),o.appendChild(a);}else if(void 0!==document.getElementById(e)&&null!=document.getElementById(e+"+"+t)){document.getElementById("sec"+e+"+times").innerHTML=initMap.secId[e].Name+"："+initMap.generalDict[initMap.secId[e].bigrewards]+"  次数："+n+"<br>";let l=document.getElementById(e+"+"+t+"+number"),o=parseInt(l.innerText);o+=i,l.innerText=o;}}function drawCard(e){let t=document.getElementById("lastUseCard");const i=document.createElement("div");for(const l of e){if("0"==l)continue;var n=document.createElement("button");n.className=allCard[l].color<=2?"shoupai R":"shoupai";let e=document.createElement("span");e.innerText=allCard[l].cn,n.appendChild(e),n.appendChild(document.createElement("br")),n.innerHTML+=allCard[l].name.substring(0,2),i.append(n);}t.innerHTML=i.innerHTML;}const observer=new MutationObserver((e=>{e.forEach((e=>{const t=e.target,i=document.getElementById(t.id),n=document.getElementById("s"+t.id);if(n&&i&&("childList"===e.type||"attributes"===e.type)){const e=t.innerHTML;if(n.dataset.lastContent!==e){if(n){const e=t.cloneNode(!0);n.innerHTML=e.innerHTML,checkOverflow(n);}n.dataset.lastContent=e;}}}));})),config={attributes:!0,childList:!0,subtree:!0};function checkOverflow(e){e&&e instanceof HTMLElement&&(e.scrollHeight>40?e.classList.add("show-ellipsis"):e.classList.remove("show-ellipsis"));}function debounce(e,t){let i;function n(...n){clearTimeout(i),i=setTimeout((()=>e.apply(this,n)),t);}return n.cancel=function(){clearTimeout(i),i=null;},n}const optimizedResizeHandler=debounce((()=>{requestAnimationFrame((()=>{document.querySelectorAll(".sorder-body").forEach((e=>{checkOverflow(e);}));}));}),500);function drawSeatUIs(){const e=document.getElementById("seatUI"),t=document.createDocumentFragment();for(let i of UI.seatUIs)if(i.posY&&i.posX&&void 0!==i.actualSeatID)if(null==document.getElementById("sor"+i.actualSeatID)){const e=document.createElement("div");e.className="sorderContainer",e.id="sor"+i.actualSeatID,e.style.top=i.posY+"px",e.style.left=i.posX+"px",e.style.width=(UI.unscaledWidth+UI.paddingRight)*UI.scale+"px";const n=document.createElement("div");n.className="sorder-body",n.classList.add("sNo"+i.actualSeatID),n.id="s"+i.actualSeatID,e.appendChild(n);const l=document.getElementById(i.actualSeatID);l&&(observer.observe(l,config),t.appendChild(e));}else {const e=document.getElementById("sor"+i.actualSeatID);e.style.top=i.posY+"px",e.style.left=i.posX+"px",e.style.width=(UI.unscaledWidth+UI.paddingRight)*UI.scale+"px";}if(0===UI.seatUIs.length){observer.disconnect();for(let e=1;e<=8;e++){const t=document.getElementById("sor"+e);t&&t.remove();}}e.appendChild(t);}window.addEventListener("resize",optimizedResizeHandler);const STYLES={TITLE:{color:"#f2de9c",fontSize:20,bold:!0},HR:{text:"--------------------",color:"#ccc",fontSize:15},GENERAL:{normal:"#f2de9c",warning:"rgb(240, 65, 85)",fontSize:20},GET_INFO:{color:"#f2de9c",fontSize:20,bold:!0}};function createLabel(e){const t=new Laya.Label;return t.text=e.text||"",t.color=e.color||"#ffffff",t.fontSize=e.fontSize||16,t.bold=e.bold||!1,t.align="center",t.valign="middle",t.width=210,t}function createHrLine(){return createLabel({text:STYLES.HR.text,color:STYLES.HR.color,fontSize:STYLES.HR.fontSize,bold:!1})}function createGeneralLabel(e,t){const[i,n]=highlightedSkill(e,t),l=e.start?"[先行]":"";return createLabel({text:`${e.generalname}${l}${n?" "+i.join(" "):""}`,color:n?STYLES.GENERAL.warning:STYLES.GENERAL.normal,fontSize:STYLES.GENERAL.fontSize,bold:!0})}function setupCityContainer(e,t,i){e.layoutEnabled=!0,e.vScrollBarSkin="",t.graphics.clear(),t.graphics.drawRect(0,0,210,i,"#3B3A27"),t.pos(0,0);}function processFightEvent(e,t){let i=0;e.generals.forEach((e=>{const n=createGeneralLabel(e,rogueMap.difficulty);t.addChild(n),i+=n.height;}));const n=createHrLine();t.addChild(n),i+=n.height;const l=createLabel({text:e.get.replace(/\n/g,"\n"),...STYLES.GET_INFO});return t.addChild(l),i+=l.height,i}function processChooseEvent(e,t){let i=0;for(let n=0;n<3;n++){const l=e+(n+1).toString(),o=e+(n+1).toString().padStart(2,"0"),a=initMap.Rchoose[o]?o:l;if(!initMap.Rchoose[a])continue;const s=initMap.Rchoose[a];s.generals&&s.generals.forEach((e=>{const n=createGeneralLabel(e,rogueMap.difficulty);t.addChild(n),i+=n.height;}));const r=createLabel({text:s.get.replace(/\n/g,"\n"),...STYLES.GET_INFO});t.addChild(r),i+=r.height;const c=createHrLine();t.addChild(c),i+=c.height;}return i}function drawCitiesUI(e,t){rogueMap.res=[];for(const i of e){const{x:e,y:t}=initMap.Rcity[i.id];let n=0;const l=new Laya.VBox;l.pos(e,t),l.zOrder=999,l.name="city";const o=new Laya.Sprite;o.alpha=.7,l.addChild(o),initMap.Rfight[i.event]?n=processFightEvent({...initMap.Rfight[i.event],event:i.event},l):n+=processChooseEvent(i.event,l),setupCityContainer(l,o,n),rogueMap.res.push({id:i.id,city:l});}wait((()=>laya.find("SceneLayer","RogueSmallMapScene"))).then((t=>{for(let e=(null==t?void 0:t.cityView.numChildren)-1;e>=0;e--){const i=t.cityView.getChildAt(e);"city"===i.name&&t.cityView&&t.cityView.removeChild(i);}(null==t?void 0:t.cityView)&&e&&rogueMap.res.forEach((({city:e})=>{t.cityView.addChild(e);}));}));}function buttonRes(e,t="点击复制",i=!0,n=!1,l=null){let o=document.createElement("button");return o.className="calRes",o.title=t,o.disabled=n,o.innerText=e,o.onclick=()=>{toClipboard(e,i),o.innerText="复制成功",setTimeout((()=>{o.textContent=e;}),500);},o}async function drawMiZhu(e){let t=e.slice().sort(((e,t)=>e-t)),i=[];!function e(n,l,o){if(13!==o){if(!(o>13))for(let i=l;i<t.length;i++)i>l&&t[i]===t[i-1]||(n.push(t[i]),e(n,i+1,o+t[i]),n.pop());}else i.push(n.slice());}([],0,0);let n=document.getElementById("result");n.innerHTML="";for(let l of i.sort(((e,t)=>t.length-e.length)))if(n.appendChild(buttonRes(l.map((e=>n2N(e,!1))).join("+"))),n.children.length>=15)break;""===n.innerHTML&&(n.innerHTML='<span class="textRes">【资援】无解！</span>');}async function drawYanJiao(e,t=!1){function i(e,...t){let i=e.slice();for(let n=0;n<i.length;n++){for(let e=0;e<t.length;e++)if(i[n]-=t[e][n],i[n]<0)return !1;if(n>0&&i[n]>=2)return 0}return i}let n=e.reduce(((e,t)=>(e[0]++,e[t]++,e)),Array(14).fill(0)),l=Math.floor(n[14]/2),o=new Map([[0,[Array(14).fill(0)]]]);for(let r=1;r<=13;r++){let e=n[r];if(0!=e)for(let t of Array.from(o.keys()).sort(((e,t)=>t-e))){let i=o.get(t);for(let n=1;n<=e;n++){let e=t+r*n;if(e>l)break;o.has(e)||o.set(e,[]);for(let t=0;t<i.length;t++){let l=i[t].slice();l[0]+=n,l[r]+=n,o.get(e).push(l);}}}}o.delete(0);let a=new Map;for(let r of Array.from(o.keys()).sort(((e,t)=>t-e))){let e=o.get(r);for(let t=0;t<e.length;t++)for(let l=t;l<e.length;l++){let o=i(n,e[t],e[l]);o&&(a.has(o[0])||a.set(o[0],[]),e[t][0]<=e[l][0]?a.get(o[0]).push([e[t],e[l],o]):a.get(o[0]).push([e[l],e[t],o]));}}let s=document.getElementById("result");s.innerHTML="",Array.from(a.keys()).sort(((e,t)=>e-t)).some((e=>{if(a.get(e).sort(((e,t)=>e[0][0]-t[0][0])).forEach((([e,i,n])=>{let l=document.createElement("button");l.className="calRes";let o=document.createElement("span"),a=document.createElement("span");o.innerText=e.flatMap(((e,t)=>t>0?Array(e).fill(n2N(t,!1)):[])).join("+"),a.innerText=i.flatMap(((e,t)=>t>0?Array(e).fill(n2N(t,!1)):[])).join("+"),l.appendChild(o),l.insertAdjacentHTML("beforeend","<span>=</span>"),l.appendChild(a),l.title="点击复制",l.onclick=function(){toClipboard(this.innerText,!0);},t&&(l.title="点击“=”左侧或右侧的数字，将被点击一侧的数字分配给自己，另一侧的分配给张昌蒲",o.className="yanjiaospan",a.className="yanjiaospan",o.onclick=function(t){t.stopPropagation(),laya.yanJiao([e,i,n],2);},a.onclick=function(t){t.stopPropagation(),laya.yanJiao([e,i,n],0);}),s.appendChild(l);})),s.children.length>=5)return !0})),""===s.innerHTML?s.innerHTML='<span class="textRes">【严教】无解！</span>':t&&s.insertAdjacentHTML("afterbegin","界小抄：点下方数字可以自动分配牌<br>点击想要分配给自己的一组数字即可");}async function drawChengXiang(e,t){if(!(null==e?void 0:e.length))return;let i=e.slice().sort(((e,t)=>e-t)),n=[];!function e(l,o,a){if(!(a>13)){n.unshift(l.slice()),t&&(n[0].K=13===a?l.length:0);for(let t=o;t<i.length;t++)t>o&&i[t]===i[t-1]||(l.push(i[t]),e(l,t+1,a+i[t]),l.pop());}}([],0,0);let l=document.getElementById("result");l.innerHTML="";for(let o of n.filter(((e,t,i)=>!i.some((t=>e.length<t.length&&e.every((e=>t.includes(e))))))).sort(((e,t)=>t.K-e.K||t.length-e.length)))l.appendChild(buttonRes(o.map((e=>n2N(e,!1))).join("+"))),t&&o.K&&l.lastChild.classList.add("textRes");}async function drawYiCheng(e,t){function i(e,t,n,l,o){if(n.length!==o+1){for(let a=l;a<e.length;a++)a>l&&e[a]===e[a-1]||(n.push(e[a]),n[0]+=e[a],i(e,t,n,a+1,o),n[0]-=n.pop());return t}t.push([...n,...n.reduce(((e,t)=>(e.splice(e.indexOf(t),1),e)),e.slice())]);}let n=document.getElementById("result");if(n.innerHTML="",!(null==e?void 0:e.length)||!(null==t?void 0:t.length))return;let l=Math.max(e.length,t.length);e.sort(((e,t)=>e-t)),t.sort(((e,t)=>e-t));for(let s=2;s<=l;s++){let o=i(e,[],[0],0,s);i(t,[],[0],0,s).forEach((e=>o.forEach((t=>{e[0]>t[0]&&e.slice(1,s+1).every((e=>!t.slice(1,s+1).includes(e)))&&(l<3||Array.from({length:s}).some(((i,n)=>e[n+1]<t[n+1])))&&n.appendChild(buttonRes(e.slice(1,s+1).map((e=>n2N(e)))+"→"+t.slice(1,s+1).map((e=>n2N(e))),"点击复制",!1));}))));}let o=Array.from(new Set(t)),a=Array.from(new Set(e));o.forEach((e=>{let t=a.filter((t=>t<e));t.length&&n.appendChild(buttonRes(n2N(e)+"→"+t.map((e=>n2N(e))).join("/"),"点击复制",!1));})),""===n.innerHTML&&(n.innerHTML='<span class="textRes">【易城】无法交换！</span>');}async function drawRogueLike(e){var t,i,n;if(!(null==e?void 0:e.allData))return;let l=e.allData,o=l.shopData,a=l.chapterData,s=l.generalpool;if(o){o.bShow=!0;let e=[];if(o.itemId&&initMap.Rplot)for(let t of o.itemId)initMap.Rplot[t]&&e.push(initMap.Rplot[t].name);drawStore(e);}if(s&&s.general_change&&s.general_change.length>0){addTooltip(`小抄提示：可换将为${s.general_change.map((e=>initMap.generalDict[e]||`Unknown (${e})`)).reverse().join(", ")}`,"acTooltip",1e4,"green",null,!0);}let r=l.seasonData,c=r&&r.difficulty;c&&(rogueMap.difficulty=c),rogueMap.general=(null==(i=null==(t=l.gameData)?void 0:t.myGeneral)?void 0:i.uGeneralId)??0,rogueMap.itemId=(null==(n=l.gameData)?void 0:n.itemId)??[],a&&a.locations&&(UI.cities=a.locations.map((e=>({id:e.location,event:e.event}))),initMap.Rcity&&globalConfig.rogueCitySwitch&&drawCitiesUI(UI.cities));}const drawMiaoSha=(()=>{class e{constructor(){this.id=0,this.goods_id=0,this.goods_cnt=0,this.price_type=0,this.price_num=0,this.stock=0,this.buy_limit=0,this.ori_price=0,this.all_bought_cnt=0,this.self_bought_cnt=0;}Read(e){this.id=e.readUnsignedByte(),this.goods_id=e.readUnsignedInt(),this.goods_cnt=e.readUnsignedInt(),this.price_type=e.readUnsignedByte(),this.price_num=e.readUnsignedInt(),this.stock=e.readUnsignedInt(),this.buy_limit=e.readUnsignedByte(),this.ori_price=e.readUnsignedInt();}UpdateDate(e){this.goods_id=e.goods_id,this.goods_cnt=e.goods_cnt,this.price_type=e.price_type,this.price_num=e.price_num,this.stock=e.stock,this.buy_limit=e.buy_limit,this.ori_price=e.ori_price,this.all_bought_cnt=e.all_bought_cnt,this.self_bought_cnt=e.self_bought_cnt;}}let t=!1;return async i=>{if(t)return null;const n=document.querySelectorAll('.left input[type="checkbox"]');let l=function(t){t.position=0;let i=[],n=t.readBoolean();if(t.Data.length<=1)return null;let l=t.readUnsignedInt(),o=t.readUnsignedInt(),a=new Date(1e3*l).toISOString().slice(5,16).replace("T"," "),s=new Date(1e3*o).toISOString().slice(5,16).replace("T"," "),r=t.readUnsignedInt();for(let c=0;c<r;c++){let n=new e;n.Read(t);let l=i.find((e=>e.id==n.id));l?l.UpdateDate(n):i.push(n);}r=t.readUnsignedInt();for(let e=0;e<r;e++){let e=t.readUnsignedInt(),n=t.readUnsignedInt(),l=i.find((t=>t.id==e));l&&(l.all_bought_cnt=n);}r=t.readUnsignedInt();for(let e=0;e<r;e++){let e=t.readUnsignedInt(),n=t.readUnsignedInt(),l=i.find((t=>t.id==e));l&&(l.self_bought_cnt=n);}return {commonVo:i,start_time:l,end_time:o,start:a,end:s,next:n}}(i);if(!l)return null;let{commonVo:o,start_time:a,end_time:s,start:r,end:c,next:d}=l;if(d)return;a=1e3*(a-28800);let u=o.map((({goods_id:e,goods_cnt:t,price_type:i,price_num:l,stock:o,buy_limit:s,ori_price:d,all_bought_cnt:u,self_bought_cnt:p},h)=>{var m;let f=l+["","通用元宝","元宝","银两"][i]+": "+(null==(m=initMap.goodsID(e))?void 0:m.name)+(t>1?"*"+t:""),g=`${r} ~ ${c} 共${o}个`,W=u>=o||p>=s;return Object.assign(n[h].dataset??{},{goods_id:e,start_time:a,goods:f}),{goods_id:e,goods:f,title:g,disabled:W}})),p=document.getElementsByClassName("right")[0];p&&(p.innerHTML=u.map((({goods:e,title:t,disabled:i})=>`<span class="secKillDetailText${i?" gray":""}" title="${t}">${e}</span>`)).join(""));let h=p.start-6e4;return h>timer.now()&&timer.set("miaosha",(()=>{tooltipSGS(`${r}\n秒杀即将开始！\n`+u.map((({goods:e})=>e)).join("\n")),t=!0,setTimeout((()=>{t=!1;}),66666);}),h),i.Size==i.position}})();let spellList=["巳蛇","灵动","八门","盾弓","智迟","持盈","卫主","不死","刚烈","觉醒","悲鸣","断肠","节命","先机","悲鸣","忘魂","雅士","挥泪","不屈","封冻","灵躯","武魂","已蛇","邪徒"];const spellPriority={getspell:0,getspell_ZD:1,getspell_KN:2,getspell_EM:3,getspell_LY:4};function highlightedSkill(e,t){let i=[],n=!1,l=getSpellDifficulty(t);const o=spellPriority[l];let a=Object.keys(spellPriority).filter((e=>spellPriority[e]<=o)).map((t=>e[t])).filter(Boolean).join(";");a=null==a?void 0:a.split(";").map((e=>{var t;return (null==(t=initMap.spellDict[e])?void 0:t.name)||"无收录技能"}));for(let s of a)spellList.includes(s)&&(i.push(s),n=!0);return [i,n]}function getSpellDifficulty(e){switch(Math.floor((e-1)/5)){case 0:default:return "getspell";case 1:return "getspell_ZD";case 2:return "getspell_KN";case 3:return "getspell_EM";case 4:return "getspell_LY"}}var variable='<head><title>三国杀打小抄</title><meta charset="UTF-8"><style>::-webkit-scrollbar{width:5px;height:12px}::-webkit-scrollbar-track{border:1px solid #050505}::-webkit-scrollbar-thumb{background:#5f563f}::-webkit-scrollbar-thumb:hover{background:#2c2c2c}.body{width:100%;padding:0;font-size:13px;background:#23201d;background-size:cover;color:#f2de9c;display:flex;flex-direction:column;margin:1px;user-select:none;max-width:100vw;overflow-x:hidden;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Tahoma,Arial,sans-serif}.nav{width:100%;background:#23201d;text-align:center;display:flex;align-items:center;gap:15px;padding:5px 0}.nav1{font-weight:bolder;height:20px;width:40%;color:#f2de9c;background:#23201d;margin-right:15px;display:block}.sha{font-weight:bolder;height:20px;width:40%;color:#f2de9c;background:#23201d;margin-right:15px;display:block}#nav1:empty{display:none}.nav2{height:20px;width:49%;float:right;text-align:center;color:#f2de9c;background:#23201d;margin-left:3px;border:1px solid #f2de9c;display:block;border-radius:5px}.nav2:hover{color:#f2de9c;background:#372820;border:1px solid #f2de9c}.nav2:focus{background:#372820;box-shadow:1px 1px 3px #f2de9c}.content{margin:1px}.AC-head{font-weight:bolder;height:66px;width:13%;float:right;text-align:center;color:#f2de9c;background:#23201d;margin:1px;border-radius:5px;border:1px #23201d solid;box-shadow:1px 0 3px;overflow:hidden}.AC-head:hover{background:#372820;border:1px #23201d solid;animation:blink 2s;animation-iteration-count:infinite}.AC-body{height:60px;width:79%;float:left;box-shadow:1px 0 3px;border:1px #23201d solid;color:#f2de9c;margin:1px;overflow:hidden;border-radius:5px;background:#23201d;resize:none}.invite-body{height:40px;width:92%;float:left;display:flex;box-shadow:1px 0 3px;border:1px #23201d solid;color:#f2de9c;margin:5px;overflow:hidden;border-radius:5px;background:#23201d;resize:none}.orderContainer{text-align:right;vertical-align:bottom}.order-head{font-weight:bolder;width:10%;height:25px;float:left;text-align:center;color:#f2de9c;margin-left:3px}.order-body:empty{height:35px}.order-body{position:relative;padding:5px;height:auto;width:94%;display:block;box-shadow:1px 1px 3px;z-index:1;margin:1px;overflow:hidden;border-radius:5px}.order-body:after{text-align:center;content:var(--No-content, \'座位号丨武将\');position:absolute;bottom:0;right:5px;z-index:-1;font:800 20px \'Arial Black\';-webkit-text-fill-color:transparent;-webkit-text-stroke-width:1px}.knownShouPai{border:1px #23201d solid;animation:blink 2s;animation-iteration-count:infinite}.knownCardsInHand{text-align:center;position:relative;overflow:hidden;display:none;height:auto}.knownCards:empty{text-align:center;position:relative;overflow:hidden;display:none}.knownCards{width:94%;text-align:center;position:relative;overflow:hidden;height:auto}@keyframes blink{50%{border-color:#f2de9c}}.paiduiCards:after{text-align:center;content:\'牌堆\';position:absolute;bottom:0;right:5px;z-index:-1;font:800 20px \'Arial Black\';-webkit-text-fill-color:transparent;-webkit-text-stroke-width:1px}.qipaiCards:after{text-align:center;content:\'本回合弃牌堆\';position:absolute;bottom:0;right:5px;z-index:-1;font:800 20px \'Arial Black\';-webkit-text-fill-color:transparent;-webkit-text-stroke-width:1px}.knownCards:after{text-align:center;content:\'场上手牌\';position:absolute;bottom:0;right:5px;z-index:-1;font:800 20px \'Arial Black\';-webkit-text-fill-color:transparent;-webkit-text-stroke-width:1px}#quanBian:after{text-align:center;content:\'权变牌\';position:absolute;bottom:0;right:5px;z-index:-1;font:800 20px \'Arial Black\';-webkit-text-fill-color:transparent;-webkit-text-stroke-width:1px}#yanXi:after{text-align:center;content:\'宴戏牌\';position:absolute;bottom:0;right:5px;z-index:-1;font:800 20px \'Arial Black\';-webkit-text-fill-color:transparent;-webkit-text-stroke-width:1px}.cardTypeDetail:after{text-align:center;content:\'牌堆类型详情\';position:absolute;bottom:0;right:5px;z-index:-1;font:800 20px \'Arial Black\';-webkit-text-fill-color:transparent;-webkit-text-stroke-width:1px}.ding{text-align:center;width:100%;position:relative;height:auto;display:none}.dingCards{text-align:center;position:relative;height:auto;min-height:60px;display:none}.dingCards:after{content:\'第一张为牌堆顶\';position:absolute;bottom:0;right:5px;z-index:-1;font:800 20px \'Arial Black\';-webkit-text-fill-color:transparent;-webkit-text-stroke-width:1px}.di{text-align:center;width:100%;position:relative;height:auto;display:none}.diCards{text-align:center;position:relative;height:auto;min-height:60px;display:none}.diCards:after{content:\'第一张为牌堆底\';position:absolute;bottom:0;right:5px;z-index:-1;font:800 20px \'Arial Black\';-webkit-text-fill-color:transparent;-webkit-text-stroke-width:1px}.cardDetail{width:100%;overflow:hidden;display:block}.type{width:100%;float:left}.cardTypeContainer{width:100%;overflow:hidden;display:block}.type-head{width:10%;float:left;text-align:center;color:#f2de9c;margin-left:3px;display:block;overflow:hidden;cursor:pointer}.type-body{padding:5px;width:94%;display:block;box-shadow:1px 1px 3px;margin:1px;overflow:hidden;border-radius:5px}.cardType{font-size:12px;width:25%;height:22px;float:left;text-align:center;border:1px;margin:0;background:#d2c8a0;box-shadow:inset 1px 1px 1px #000}.cardType:hover{color:#f2de9c;background:#372820;border:1px #23201d solid;animation:blink 2s;animation-iteration-count:infinite}.storeDetail{font-size:12px;width:50%;height:22px;float:left;text-align:center;border:1px;margin:0;background:#d2c8a0;box-shadow:inset 1px 1px 1px #000}.detail{width:100%;float:left;overflow:hidden}.detail-head{width:10%;height:25px;float:left;text-align:center;color:#f2de9c;margin-left:3px}.detail-body{min-height:40px;padding:5px;width:94%;float:left;display:block;box-shadow:1px 1px 3px;margin:1px;border-radius:5px;overflow:hidden}.panel-header{background:#23201d;color:#f2de9c;padding:3px;text-align:left;border:none;width:100%;cursor:pointer;display:flex;align-items:center;border-radius:5px;border:1px transparent solid}.triangle{width:0;height:0;border-top:6px solid transparent;border-bottom:6px solid transparent;border-left:6px solid #f2de9c;margin-right:10px;transition:transform .3s ease}.panel-content{max-height:0;width:100%;float:left;display:block;color:#f2de9c;margin:1px;overflow:hidden;border-radius:5px;background:#23201d;transition:max-height .3s ease-out}.panel-header.active .triangle{transform:rotate(90deg)}.panel-header.active{color:#f2de9c;background:#372820}.panel-header:hover{color:#f2de9c;background:#372820;border:1px #23201d solid;animation:blink 2s;animation-iteration-count:infinite}.r{color:#f04155}.suitRec{width:50%;float:right;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI Emoji",Tahoma,Arial,sans-serif;text-shadow:1px 0 0 rgba(255,255,255,.7),0 1px 0 rgba(255,255,255,.7),-1px 0 0 rgba(255,255,255,.7),0 -1px 0 rgba(255,255,255,.7)}.suit{width:50%;float:left}.phrase{float:left}.face{width:12.5%;display:block;float:left}.face:hover{width:12.5%;display:block;float:left;background:#f2de9c}#shandian{width:100%;float:left}.function{width:50%;margin:1px}.jizhan{width:100%;float:left}.yanjiao{width:50%;float:left}.yanjiaospan{border:1px solid #0000;box-sizing:border-box}.yanjiaospan:hover{border:1px solid #f2de9c;cursor:pointer}.calRes{width:98%;height:20px;float:left;text-align:center;color:#f2de9c;background:#23201d;border:1px solid #f2de9c;display:block;border-radius:5px;font-size:13px;margin:1px}.secKillDetailText{width:100%;height:26px;float:left;text-align:center;color:#f2de9c;background:#23201d;display:block;border-radius:5px;line-height:26px;margin-top:17px}.calRes:not(:disabled):hover{font-size:12px;color:#f2de9c;background:#372820;border:1px #23201d solid;animation:blink 2s;animation-iteration-count:infinite}.mizhuBTN{width:48%;height:20px;text-align:center;color:#f2de9c;background:#23201d;border:1px solid #f2de9c;display:block;border-radius:5px}.mizhuBTN:hover{color:#f2de9c;background:#372820;border:1px #23201d solid;animation:blink 2s;animation-iteration-count:infinite}.mizhu{width:100%;height:20px;float:left;text-align:center;color:#f2de9c;background:#23201d;margin-left:3px;border:1px solid #f2de9c;display:block;border-radius:5px}.mizhu:hover{color:#f2de9c;background:#372820;border:1px #23201d solid;animation:blink 2s;animation-iteration-count:infinite}#mySeatID1{width:48%}#mySeatID2{width:48%}.res{width:100%;float:left}a:link,a:visited{color:inherit;text-decoration:none;display:inline-flex;text-decoration:underline;border-radius:5px;cursor:pointer;align-items:center;justify-content:center}a:hover{color:#f2de9c;background:#372820;border:1px #23201d solid;animation:blink 2s;animation-iteration-count:infinite}#donate{position:relative;color:#f2de9c;display:block;text-align:center}.uuid{position:relative;color:#f2de9c;display:block;text-align:center;cursor:pointer}.uuid:hover{color:#f2de9c;background:#372820;border:1px #23201d solid;animation:blink 2s;animation-iteration-count:infinite}.uuid:active{background:#372820}.width{width:100%;height:5px;clear:both}.switch-container{display:flex}.switch{position:relative;display:block;margin-left:10px;width:56px;height:26px}.switch input{opacity:0;width:0;height:0}.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#23201d;-webkit-transition:.4s;transition:.4s;border-radius:34px;border:1px solid #f2de9c;--slider-position:2px}.slider:before{position:absolute;content:"";height:20px;width:20px;left:var(--slider-position,2px);bottom:2px;background-color:#f2de9c;-webkit-transition:.4s;transition:.4s;border-radius:50%}input:checked+.slider{background-color:#372820}input:focus+.slider{box-shadow:0 0 1px #372820}.status{position:absolute;top:50%;transform:translateY(-50%);left:5px;color:#555}.explanation{margin:0 10px;display:flex;width:100%}input:checked+.slider+.status:before{content:\'开\'}input:checked+.slider+#autoBotStatus:before{content:var(--bot-status, \'30\');color:#f2de9c}input+.slider+#autoBotStatus:before{content:var(--bot-status, \'关\')}input+.slider+.status:before{content:"关"}.calRes:disabled{background-color:#ccc;color:#666;cursor:not-allowed}.markedCard{display:inline-flex;align-items:center;border-radius:5px;border:1px solid #000;width:auto;background-color:#372820;color:#f2de9c}.mark{writing-mode:vertical-rl;margin-right:0;color:#f2de9c}.markedCard>.mark:only-child{display:none}.shoupai{color:#000;--shoupai-width:33px;padding:0;font-weight:bolder;margin-right:calc(32px - var(--shoupai-width));float:left;width:var(--shoupai-width);min-width:var(--shoupai-width);height:38px;border:1px solid #000;text-align:center;background:rgba(210,200,160,.5);border-radius:5px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI Emoji",\'Noto Color Emoji\';white-space:nowrap;text-shadow:1px 0 0 rgba(255,255,255,.7),0 1px 0 rgba(255,255,255,.7),-1px 0 0 rgba(255,255,255,.7),0 -1px 0 rgba(255,255,255,.7);font-size:13px}.shoupai.R{color:red}.shoupai.G{background:0}.shoupai.G .shoupai{background:0;pointer-events:none}.order-body:not(#paiduiCards) .shoupai:disabled{display:none}.order-body:not(#paiduiCards) .shoupai.G{width:auto}.left{width:30%;float:left}.right{width:70%;float:right}input[type=checkbox]:disabled+.slider{background-color:gray;cursor:not-allowed}.question-mark{display:inline-block;position:relative;width:15px;height:15px;line-height:15px;text-align:center;border:1px solid #f2de9c;border-radius:50%;margin-left:2px;transition:background-color .3s}.question-mark:hover{background-color:#372820;cursor:pointer}.tooltip{position:relative;background-color:#333;text-align:center;padding:5px;border-radius:5px;max-width:200px;white-space:pre-line;z-index:10000000001;opacity:0;pointer-events:none;transition:opacity .1s ease-in-out;color:#f2de9c;font-size:13px}.tooltip.visible{opacity:1;pointer-events:auto}.tooltip.top{margin-left:50px}#sidebarHint{position:fixed;top:0;right:0;width:25px;height:100%;background-color:rgba(55,40,32,.8);color:#f2de9c;display:none;justify-content:center;align-items:center;font-size:20px;writing-mode:vertical-rl;text-orientation:upright}:root{--my-background-image:url(\'https://web.sanguosha.com/220/h5_2/res/assets/bigPng/propGet.png\')}.sorderContainer{font-size:13px;width:100%;display:flex;align-items:center;width:146px;z-index:10000000000;user-select:none;text-align:left;transition:height .2s;position:fixed;transform-origin:0 0}.sorder-head{display:flex;align-items:center;justify-content:center;font-weight:bolder;width:10%;height:25px;text-align:center;color:#f2de9c;margin-left:3px}.sorder-body{pointer-events:auto;height:auto;width:100%;float:right;display:flex;flex-wrap:wrap;overflow:hidden;z-index:1;max-height:48px}.sorder-body.show-ellipsis::after{content:\'...\';position:absolute;bottom:0;left:50%;transform:translateX(-50%);text-align:center;color:#f2de9c;font-weight:700;height:20px;background:linear-gradient(to bottom,rgba(255,255,255,0),rgb(0 0 0 / 80%));width:inherit}.sorder-body:hover{max-height:none;overflow:visible}.sorder-body:hover::after{display:none}.sorder-body:not(#paiduiCards) .shoupai:disabled{display:none}.sorder-body:not(#paiduiCards) .shoupai.G{width:auto}@keyframes fadeInLeftToRight{0%{clip-path:inset(0 100% 0 0);opacity:0}100%{clip-path:inset(0 0 0 0);opacity:1}}@keyframes fadeOutRightToLeft{0%{clip-path:inset(0 0 0 0);opacity:1}100%{clip-path:inset(0 100% 0 0);opacity:0}}.ac-tooltip{position:fixed;top:100px;left:45%;background-color:transparent;background-image:var(--my-background-image);cursor:pointer;background-size:100% 100%;color:#f44336;font-size:16px;border-radius:4px;z-index:9999;overflow:hidden;white-space:nowrap;padding:16px 32px;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transform:translateX(0);transition:opacity 1s ease-in-out,visibility 1s ease-in-out}.ac-tooltip.green{background-color:transparent;color:#f2de9c}.city{visibility:hidden;transition:opacity 1s ease-in-out,visibility 1s ease-in-out;background-color:rgba(55,52,39,.7);color:#f2de9c;align-items:center;justify-content:center;border-radius:5px;text-align:center;flex-direction:column;padding:5px}hr{width:100%;margin:0}@keyframes blink{50%{border-color:#f2de9c}}.show{animation:fadeInLeftToRight 1s forwards,blink 2s infinite;visibility:visible}.hide{animation:fadeOutRightToLeft 1s forwards;visibility:hidden}.window{width:1024px;height:600px;border:2px solid #333;border-radius:8px;box-shadow:0 0 15px rgba(0,0,0,.5);position:relative;background-color:#f5f5f5;overflow:hidden}.window-header{display:flex;justify-content:space-between;align-items:center;background-color:#23201d;color:#fff;padding:5px;cursor:move}.window-header .title{font-weight:700;padding-left:10px}.window-header .controls{display:flex;gap:5px}.window-header .controls button{background:0 0;border:none;color:#fff;cursor:pointer;padding:5px}.window-header .controls button:hover{background-color:rgba(255,255,255,.2)}.window-content{width:100%;height:calc(100% - 40px);border:none}.fullscreen{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1000}.particle{position:absolute;width:8px;height:8px;background-color:#f2de9c;border-radius:50%;pointer-events:none;opacity:0;z-index:10000000001}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-5C3C11THB3"><\/script><script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js" integrity="sha512-7eHRwcbYkK4d9g/6tD/mhkf++eoTHwpNM9woBxtPUBWm67zeAfFC+HrdoE2GanKeocly/VxeLvIqwvCdk7qScg==" crossorigin="anonymous" referrerpolicy="no-referrer"><\/script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-5C3C11THB3")<\/script></head><div class="body"><div class="nav"><div class="nav1" id="phrase">当前阶段提示</div><div class="sha" id="sha">可出杀次数：0</div></div><div class="content" id="content"><div class="orderAndShouPai" id="orderAndShouPai"><button class="panel-header"><span class="triangle"></span> <b>武将手牌</b></button><div class="panel-content order" id="button"><div class="orderContainer" id="or1"><div class="order-body No1" id="1" style="--No-content:\'神诸葛亮丨一\'"><button class="shoupai">♣Q<br>测试</button> <button class="shoupai">♣Q<br>测试</button> <button class="shoupai">♣Q<br>测试</button> <button class="shoupai">♣Q<br>测试</button><div class="markedCard"><span class="mark">木马</span> <button class="shoupai G">♥10<br>测试</button> <button class="shoupai R">♦K<br>测试</button></div><button class="shoupai">♣Q<br>测试</button> <button class="shoupai">♣Q<br>测试</button> <button class="shoupai">♣Q<br>测试</button> <button class="shoupai">♣Q<br>测试</button></div></div><div class="orderContainer" id="or2"><div class="order-body No2" id="2" style="--No-content:\'卧龙诸葛丨二\'"><button class="shoupai G">♥10<br>暗牌</button> <button class="shoupai G">♥10<br>样式</button></div></div><div class="orderContainer" id="or3" style="--No-content:\'天候孔明丨三\'"><div class="order-body No3" id="3"></div></div><div class="orderContainer" id="or4" style="--No-content:\'诸葛亮丨四\'"><div class="order-body No4" id="4"></div></div><div class="orderContainer" id="or5" style="--No-content:\'武诸葛亮丨五\'"><div class="order-body No5" id="5"></div></div><div class="orderContainer" id="or6" style="--No-content:\'卧龙凤雏丨六\'"><div class="order-body No6" id="6"></div></div><div class="orderContainer" id="or7" style="--No-content:\'界卧龙诸葛丨七\'"><div class="order-body No7" id="7"></div></div><div class="orderContainer" id="or8" style="--No-content:\'界诸葛亮丨八\'"><div class="order-body No8" id="8"></div></div></div><div><div class="orderContainer"><div class="order-body knownCards" id="knownCards"></div></div><div class="orderContainer"><div class="order-body paiduiCards" id="paiduiCards"></div></div><div class="orderContainer"><div class="order-body qipaiCards" id="qipaiCards"></div></div><div class="orderContainer"><div class="knownCards quanBianYanXi" id="quanBian"></div><div class="knownCards quanBianYanXi" id="yanXi"></div></div></div></div><div class="width"></div><div class="cardDetail" id="cardDetail"><div class="space"></div><div class="detail"><div class="detail-body"><div class="suit r" id="heart">♥红桃 × 0</div><div class="suit" id="spade">♠黑桃 × 0</div><div class="suit" id="club">♣梅花 × 0</div><div class="suit r" id="diamond">♦方片 × 0</div><div class="suit r" id="hongsha">红杀 × 0</div><div class="suit" id="heisha" n>黑杀 × 0</div><span>乱击/权变</span><div class="suitRec" id="suit"></div><br><span>博图</span><div class="suitRec" id="boTu"></div><br><span>上一张使用的牌</span><br><button class="shoupai R" id="lastUseCard">＾＾<br>•ω•</button><br><br><br><div id="guhuo" style="display:none">蛊惑牌</div><div class="function yanjiao" id="yanjiao">严教小抄</div><button class="function mizhuBTN" id="mizhu">糜竺小抄</button> <button class="function mizhu mySeatID" id="mySeatID1">座位：1</button> <button class="function mizhu mySeatID" id="mySeatID2">座位：2</button><div class="function res" id="result">结果样式：1 1 1 1 = 4</div></div></div><div class="width"></div><div class="type"><div class="cardTypeContainer"><div class="type-body type1" id="type1"><button class="cardType" id="test1">小抄</button> <button class="cardType">开发</button> <button class="cardType">小伙伴</button></div></div><div class="cardTypeContainer"><div class="type-body type2" id="type2"><button class="cardType">霜迟</button> <button class="cardType">孤独尊</button> <button class="cardType">无所谓</button> <button class="cardType">埃城</button> <button class="cardType">辉神</button> <button class="cardType">人富</button></div></div><div class="cardTypeContainer"><div class="type-body type3" id="type3"></div></div><div class="orderContainer"><div class="knownCards cardTypeDetail" id="cardTypeDetail"></div></div></div></div><div class="width"></div><div class="width"></div><div class="laya" id="laya"><div class="space"></div><button class="panel-header laya-header"><span class="triangle"></span> <b>快捷操作</b></button><div class="panel-content" id="layaDiv"><div class="switch-container"><div id="autoBotSwitchContainer"><span class="explanation">自动挂机</span> <label class="switch" data-tooltip="AI接管挂机刷酒馆30亲密度&#10;自动创建演武房间开始对战&#10;建议点将张辽禁将只留标风&#10;禁用其它SP武将可提高胜率&#10;到身份演武房间列表后开启&#10;界小抄用户可以无限制使用&#10;开关数字表示酒馆剩余时间&#10;双击打开官阶百胜无尽挂机&#10;到经典场国战开启可刷福卡"><input id="autoBotSwitch" type="checkbox" disabled="disabled"> <span class="slider"></span> <span class="status" id="autoBotStatus"></span></label></div><div><span class="explanation" id="autoExplanation"></span></div></div><div class="switch-container"><div><span class="explanation">盖主速刷</span> <label class="switch" data-tooltip="主公点将黄盖一分钟苦肉自杀速刷&#10;可用来刷武将百胜战功和官阶任务&#10;保证已激活的账号在 7 天内登录过&#10;一：登录小号创建自选身份密码房&#10;二：多开大号加入房间点自动挂机&#10;三：大号需双击自动挂机开始锁定&#10;四：小号点将黄盖，打开盖主速刷&#10;五：大号准备并保持两窗口在前台&#10;"><input id="autoHGSwitch" type="checkbox" disabled="disabled"> <span class="slider"></span> <span class="status" id="autoHGStatus"></span></label></div><div><span class="explanation" id="autoHGExplanation"></span></div></div><div class="switch-container" style="display:none"><div><span class="explanation">加入互助</span> <label class="switch" data-tooltip="点击加入小抄互相助力小组&#10;每天自动助力三位小抄玩家&#10;同时收到三位小抄玩家助力&#10;默认为小抄给当前玩家助力&#10;右侧可输入想要助力的玩家&#10;“再”打开《加入互助》开关&#10;该玩家可收到三个小抄助力&#10;"><input id="autoInviteSwitch" type="checkbox"> <span class="slider"></span> <span class="status"></span></label></div><div><textarea class="invite-body" type="text" id="inviteName" required maxlength="10" size="10" placeholder="大西瓜"></textarea></div></div><button class="calRes" id="guanxing">自助观星</button> <button class="calRes" id="mail" disabled="disabled">一键领取邮箱物品</button> <button class="calRes" id="task" disabled="disabled">一键领取所有任务奖励</button></div></div><div class="store" id="store"><div class="space"></div><button class="panel-header"><span class="triangle"></span> <b>山河图</b></button><div class="panel-content"><div class="switch-container"><div><span class="explanation">山河地图</span> <label class="switch" data-tooltip="提前预测奇遇事件"><input id="rogueCitySwitch" type="checkbox"> <span class="slider"></span> <span class="status"></span></label></div></div><div><button class="calRes" id="openStore">点击打开商店换装备->跳奇遇</button></div><div><span id="chongsheng">重生是否发动：否</span></div><div><span id="sanBanFu">三板斧计数器</span></div><div id="storeDetail"><button class="storeDetail">集市霸王·壹300</button> <button class="storeDetail">集市霸王·贰200</button> <button class="storeDetail">集市霸王·叁100</button> <button class="storeDetail">会员商店·肆1100</button> <button class="storeDetail">稳定承载1100</button> <button class="storeDetail">极奢1100</button></div></div></div><div class="secKill" id="secKill"><div class="space"></div><button class="panel-header"><span class="triangle"></span> <b>秒杀连点器（悬停查看详情）</b></button><div class="panel-content" id="secKillDetail"><div class="left"><br><div><label class="switch" data-tooltip="界小抄功能&#10;选择您想秒杀的物品&#10;到点之后将自动帮抢&#10;勿开开关关秒杀界面"><input id="secKillItem1Switch" type="checkbox" disabled="disabled"> <span class="slider"></span> <span class="status"></span></label></div><br><div><label class="switch" data-tooltip="界小抄功能&#10;选择您想秒杀的物品&#10;到点之后将自动帮抢&#10;勿开开关关秒杀界面"><input id="secKillItem2Switch" type="checkbox" disabled="disabled"> <span class="slider"></span> <span class="status"></span></label></div><br><div><label class="switch" data-tooltip="界小抄功能&#10;选择您想秒杀的物品&#10;到点之后将自动帮抢&#10;勿开开关关秒杀界面"><input id="secKillItem3Switch" type="checkbox" disabled="disabled"> <span class="slider"></span> <span class="status"></span></label></div><br></div><div class="right"><span class="secKillDetailText">暂无数据</span> <span class="secKillDetailText">暂无数据</span> <span class="secKillDetailText">暂无数据</span></div></div></div><div class="chat" id="chat"><div class="space"></div><button class="panel-header"><span class="triangle"></span> <b>聊天（点击自动输入）</b></button><div class="panel-content chat-body"></div></div><div class="CDK"><button class="panel-header"><span class="triangle"></span> <b>兑换码（点击即兑换）</b></button><div class="panel-content"><div class="function res" id="CDK"><button class="calRes">小麦好帅</button></div></div></div><div class="tianguo"><button class="panel-header"><span class="triangle"></span> <b>统计</b></button><div class="panel-content"><button id="gamerecord" class="calRes" style="text-align:center">战绩胜率统计</button> <button id="baisheng" class="calRes" style="text-align:center">百胜战功统计</button><div id="PlayerTianGuo" style="text-align:center">你的天过次数/总次数</div><div><div id="lottery"><a href="https://goka.top:8080/choujiang?username=" target="_blank" class="calRes external-link" data-url="https://goka.top:8080/choujiang?username=" id="choujiang">点击查看祈愿台数据</a></div></div></div></div><button class="panel-header"><span class="triangle"></span> <b>设置</b></button><div class="setting panel-content"><div class="switch-container"><div><span class="explanation">屏蔽动态</span> <label class="switch" data-tooltip="屏蔽其他人的动态皮肤&#10;电脑卡顿的话可以打开"><input id="skinStateBlockSwitch" type="checkbox"> <span class="slider"></span> <span class="status"></span></label></div></div><div class="switch-container"><div><span class="explanation">皮肤壁纸</span> <label class="switch" data-tooltip="打开后进入皮肤详情界面进行设置&#10;可以将动静态皮肤设置为游戏壁纸&#10;也可以把静态皮肤图片保存到本地&#10;不建议与微端自定义背景同时使用"><input id="skinPaperSwitch" type="checkbox"> <span class="slider"></span> <span class="status"></span></label></div><div id="paperStateButton"><span class="explanation">全局壁纸</span> <label class="switch" data-tooltip="局外背景替换为皮肤壁纸&#10;需要先打开皮肤壁纸开关"><input id="allPaperSwitch" type="checkbox"> <span class="slider"></span> <span class="status"></span></label></div><div><span class="explanation">五阶特效</span> <label class="switch" data-tooltip="其他角色显示五阶特效"><input id="generalSwitch" type="checkbox"> <span class="slider"></span> <span class="status"></span></label></div></div><div class="switch-container"><div><span class="explanation">屏蔽击杀</span> <label class="switch" data-tooltip="屏蔽击杀特效"><input id="killEffectSwitch" type="checkbox"> <span class="slider"></span> <span class="status"></span></label></div><div style="display:none"><span class="explanation">金色卡背</span> <label class="switch"><input id="cardBackSwitch" type="checkbox"> <span class="slider"></span> <span class="status"></span></label></div><div><span class="explanation">明牌框框</span> <label class="switch" data-tooltip="明牌展示在武将下面"><input id="seatUISwitch" type="checkbox"> <span class="slider"></span> <span class="status"></span></label></div><div><span class="explanation">卡牌标签</span> <label class="switch" data-tooltip="会在自己手上的卡牌显示标签&#10;明牌：五谷顺手迂志等明牌&#10;新组合：界小抄提示百出的新组合&#10;更多标签在开发中"><input id="cardLabelSwitch" type="checkbox"> <span class="slider"></span> <span class="status"></span></label></div></div><div class="switch-container"><div><span class="explanation">自动签到</span> <label class="switch" data-tooltip="自动领取打卡签到的奖励"><input id="autoSignSwitch" type="checkbox"> <span class="slider"></span> <span class="status"></span></label></div><div><span class="explanation">跳体验卡</span> <label class="switch" data-tooltip="签到会有体验武将&#10;如领取会污染将池&#10;开启按钮跳过领取&#10;月底记得手动领取"><input id="autoSignSkipSwitch" type="checkbox"> <span class="slider"></span> <span class="status"></span></label></div><div><span class="explanation">领武将包</span> <label class="switch" data-tooltip="每天登录，自动领取免费的武将包"><input id="autoWuJiangSwitch" type="checkbox" disabled="disabled"> <span class="slider"></span> <span class="status"></span></label></div></div><div class="switch-container"><div><span class="explanation">公会三敲</span> <label class="switch" data-tooltip="每天自动公会三敲&#10;无惧公会长的诫厉"><input id="autoDrumSwitch" type="checkbox" disabled="disabled"> <span class="slider"></span> <span class="status"></span></label></div><div><span class="explanation">月卡奖励</span> <label class="switch" data-tooltip="界小抄功能&#10;自动领取月卡奖励"><input id="autoYueKaSwitch" type="checkbox" disabled="disabled"> <span class="slider"></span> <span class="status"></span></label></div><div><span class="explanation">自动砍树</span> <label class="switch" data-tooltip="界小抄功能&#10;每天登录自动砍树"><input id="autoKanShuSwitch" type="checkbox" disabled="disabled"> <span class="slider"></span> <span class="status"></span></label></div></div><div class="switch-container"><div><span class="explanation">跳过弹窗</span> <label class="switch" data-tooltip="跳过广告弹窗&#10;MVP结算&#10;武将包弹窗&#10;皮肤包弹窗&#10;老仙特效"><input id="skipWindowSwitch" type="checkbox"> <span class="slider"></span> <span class="status"></span></label></div><div><span class="explanation">跳过出货</span> <label class="switch" data-tooltip="跳过出货弹窗&#10;祈愿台翻翻乐&#10;加快氪金速度"><input id="skipProbWindowSwitch" type="checkbox"> <span class="slider"></span> <span class="status"></span></label></div><div><span class="explanation">兑换码&emsp;</span> <label class="switch" data-tooltip="开启将显示分享的兑换码通知&#10;且收集和分享您的兑换码兑换"><input id="CDKNotificationSwitch" type="checkbox"> <span class="slider"></span> <span class="status"></span></label></div></div><div class="switch-container"><div><span class="explanation">天书小抄</span> <label class="switch" data-tooltip="发动天书在时机点增加类型标注&#10;以及提醒该类型后续发动的效果"><input id="tianshuSwitch" type="checkbox"> <span class="slider"></span> <span class="status"></span></label></div><div><span class="explanation">活动提醒</span> <label class="switch" data-tooltip="活动结束前一天和结束当天&#10;生成提醒检查未兑换物品"><input id="questNotificationSwitch" type="checkbox"> <span class="slider"></span> <span class="status"></span></label></div></div></div><div class="width"></div><div class="ACContainer"><textarea class="AC-body" type="text" id="AC" name="AC" required placeholder="点击添加激活码"></textarea> <button class="AC-head" type="submit" id="ACSubmit">激活</button></div><div style="text-align:center"><a href="https://afdian.com/@yimadaO_o" class="external-link" data-url="https://afdian.com/@yimadaO_o">开发不易 如您喜欢 不妨支持小抄</a><div class="width"></div><a href="https://qm.qq.com/q/zR8xy0INl6" class="external-link" data-url="https://qm.qq.com/q/zIwVQjlqnY">加群一起玩</a><div class="width"></div><a href="https://support.qq.com/products/664780/" class="external-link" data-url="https://support.qq.com/products/664780/" target="_blank">提需求</a><div class="width"></div><a href="https://goka.top:8080" class="external-link" data-url="https://goka.top:8080" target="_blank">关于我们</a><div class="width"></div><div class="uuid id" id="uuid">id：</div><div class="width"></div><div class="uuid nickName" id="nickName">昵称：</div><div class="width"></div><div class="uuid guildID" id="guildID">公会数字ID：</div><div class="width"></div><div class="width"></div></div></div><script><\/script></div>';let iframe=null;const version=" "+"3.1.0".replace(/^2\.9\./,""),versionText="\n新增活动截止提醒，不怕过期忘记兑换物品了；\n修复山河图中奇遇不能显示的bug；\n修复跳过弹窗中公告不能显示的bug；\n".replace(/；/g,"<br>");function Init(){return window.WDVerSion="1.0.0",window.padding=globalConfig.padding||0,window.addEventListener("resize",resize),new Promise(((e,t)=>{Promise.all([new Promise((e=>{!function t(){var i;"undefined"!=typeof JSZipUtils&&"undefined"!=typeof CtrUtil&&void 0!==(null==(i=null==CtrUtil?void 0:CtrUtil.Ctr)?void 0:i.Ofb_Dec)&&"undefined"!=typeof SystemContext&&document.getElementById("bgDiv")?initFrame(!0).then(e):setTimeout(t,1e3);}();}))]).then(e).catch(t);}))}function Exit(){var e,t,i,n;return window.removeEventListener("resize",resize),window.removeEventListener("resize",scheduleSetGameSize),window.removeEventListener("SGSresize",SGSresize),null==(e=document.getElementById("seatUI"))||e.remove(),null==(t=document.getElementById("rogueUI"))||t.remove(),null==(i=document.getElementById("cusBGDiv"))||i.remove(),null==(n=document.getElementById("createIframe"))||n.remove(),globalState.isFrameAdd=!1,!0}function resize(){window.innerWidth=document.documentElement.clientWidth-window.padding;}function SGSresize(){window.dispatchEvent(new Event("resize"));}let updateTimeout;function scheduleSetGameSize(){updateTimeout&&clearTimeout(updateTimeout),updateTimeout=setTimeout((()=>{setGameSize(),updateTimeout=null;}),500);}async function initFrame(e=!1){var t,i,n,l,o;if(e&&(null==(t=document.getElementById("seatUI"))||t.remove(),null==(i=document.getElementById("rogueUI"))||i.remove(),null==(n=document.getElementById("cusBGDiv"))||n.remove(),null==(l=document.getElementById("createIframe"))||l.remove(),globalState.isFrameAdd=!1),!globalState.isFrameAdd){window.addEventListener("resize",scheduleSetGameSize),SystemContext._gameScreenType=SystemContext.gameScreenType,SystemContext._gameScale=SystemContext.gameScale,Object.defineProperty(SystemContext,"gameScreenType",{get:function(){return this._gameScreenType},set:function(e){this._gameScreenType!==e&&(this._gameScreenType=e,window.dispatchEvent(new Event("SGSresize")));}}),Object.defineProperty(SystemContext,"gameScale",{get:function(){return this._gameScale},set:function(e){this._gameScale!==e&&(this._gameScale=e,window.dispatchEvent(new Event("SGSresize")));}}),window.addEventListener("SGSresize",SGSresize);try{document.getElementById("bgDiv").firstElementChild.draggable=!1,null==(o=document.querySelector("link[rel=stylesheet]"))||o.remove();}catch{}return addSeatUI(),addDynamicBG(),addFrame(),globalState.isFrameAdd=!0,loadConfig_w(!0)}}function addDynamicBG(){var e=document.getElementById("bgDiv");if(e){var t=document.createElement("div");t.id="cusBGDiv",t.style.position="absolute",t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)",t.style.zIndex="0",t.style.pointerEvents="none";var i=document.createElement("video");i.className="bg-ani",i.id="sgsBgVideo",i.autoplay=!0,i.loop=!0,i.muted=!0,i.preload="auto",i.style.setProperty("object-fit","fill","important");var n=document.createElement("img");n.className="bg-ani",n.id="sgsBgIMG",n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",n.style.zIndex="1",n.style.position="absolute",n.style.top="0",n.style.left="0",t.appendChild(i),t.appendChild(n),e.appendChild(t),window.dispatchEvent(new Event("resize"));}}function setGameSize(){if(!SystemContext)return;UI.width=SystemContext.gameWidth*SystemContext.gameScale|0,UI.height=SystemContext.gameHeight*SystemContext.gameScale|0,UI.scale=SystemContext.gameScale,UI.seatUIs&&UI.seatUIs.length>0&&(getSeatUiPos(),drawSeatUIs());let e={width:(SystemContext.gameWidth*SystemContext.gameScale|0)/window.devicePixelRatio,height:(SystemContext.gameHeight*SystemContext.gameScale|0)/window.devicePixelRatio};globalConfig.padding&&document.getElementById("createIframe")?(document.getElementById("bgDiv").style.width=document.documentElement.clientWidth+"px",document.getElementById("createIframe").style.height="100%",document.getElementById("createIframe").style.right="0px",document.getElementById("createIframe").style.top="0px"):document.getElementById("bgDiv").style.width=document.documentElement.clientWidth+"px";let t=document.getElementById("cusBGDiv"),i=document.getElementById("sgsBgVideo"),n=document.getElementById("sgsBgIMG"),l=document.getElementById("seatUI"),o=document.getElementById("rogueUI"),a=((window.innerHeight*window.devicePixelRatio-SystemContext.gameScale*SystemContext.gameHeight)/(2*window.devicePixelRatio)+SystemContext.gameScale*SystemContext.gameHeight/2)/window.devicePixelRatio;t&&(t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.left=window.innerWidth/2+"px",t.style.top=a+"px"),i.width=e.width,i.height=e.height,i.style.left=window.innerWidth/2+"px",i.style.top=a+"px",n.width=e.width,n.height=e.height,l.style.width=`${e.width}px`,l.style.height=`${e.height}px`,l.style.left=window.innerWidth/2+"px",l.style.top=a+"px",o.style.width=`${e.width}px`,o.style.height=`${e.height}px`,o.style.left=window.innerWidth/2+"px",o.style.top=a+"px",UI.centerX=window.innerWidth>e.width?e.width/2:window.innerWidth/2,UI.centerY=e.height/2;}function getSeatUiPos(){const e={ScaledHeight:UI.selfSeatUiUnscaledHeight*UI.scale};let t=UI.unscaledWidth*UI.scale,i=UI.unscaledHeight*UI.scale;UI.ScaleWidth=t,UI.ScaleHeight=i;let n=UI.height,l=UI.width;var o,a,s=e.ScaledHeight,r=UI.seatUIs.length;if(1!=r){o=t,a=i;var c,d=(c=UI.seatUIs).length-1,u=0,p=0,h=0;d<3?p=d:3==d?p=1:4==d||6==d?p=2:5!=d&&7!=d||(p=3),h=d-(u=d-p>>1)-p,room.isDouDiZhu&&(2==UI.seatUIs[0].actualSeatID?(p=1,u=1):3==UI.seatUIs[0].actualSeatID&&(p=1,h=1)),room.isShanHeTu&&3==r&&1==UI.friendGeneral&&(p=1,h=1);var m,f,g=1,W=0,I=0,y=0,v=0,S=UI.rightBarWidth*UI.scale;if(u>0){var b=o,w=a*u;for(y=.25*(n-s-w)|0,UI.verticalGap=y,w+=(u-1)*y,m=g+u,W=l-b-UI.paddingRight*UI.scale-S-0,I=(n-s-w-UI.paddingTop*UI.scale-UI.paddingBottom>>1)+(UI.paddingTop+10)*UI.scale+w+UI.leftRightTop;g<m;g+=1)I-=i,(f=c[g]).posX=(W-5|0)/window.devicePixelRatio,f.posY=(I+i|0)/window.devicePixelRatio,f.DisplayLocation="Right",I-=y;}if(p>0){var k=o*p;for(v=.07*(l-S-k)|0,UI.horizontalGap=v,m=g+p,W=(l-(k+=(p-1)*v)-S)/2+k+(l<=1600?UI.paddingLeftTopExtra:0),I=(UI.paddingTop+10)*UI.scale;g<m;g+=1)W-=t,(f=c[g]).posX=(W|0)/window.devicePixelRatio,f.posY=(I+i|0)/window.devicePixelRatio,f.DisplayLocation="Top",W-=v;}if(h>0){var C=a*h;for(C+=(h-1)*(y=.25*(n-s-C)|0),m=g+h,W=UI.paddingLeft*UI.scale,I=(n-s-C-UI.paddingTop*UI.scale-UI.paddingBottom>>1)+(UI.paddingTop+10)*UI.scale+UI.leftRightTop;g<m;g+=1)(f=c[g])&&(f.DisplayLocation="Left",f.posX=(W+0|0)/window.devicePixelRatio,f.posY=(I+i|0)/window.devicePixelRatio),I+=a+y;}}}function getSeatUIs(e){if(UI.seatUIs=[],drawSeatUIs(),null===e)return;let t=room.sequence(room.mySeats[0]);UI.seatUIs=t.map((e=>({actualSeatID:room.getOrder(e)+1}))),getSeatUiPos(),drawSeatUIs();}function addDragHint(){var e=document.createElement("div");e.id="sidebarHint",e.innerText="拖到这里变为变为侧边栏，再次拖动取消侧边栏",document.body.appendChild(e);}function addSeatUI(){var e=document.createElement("div");e.id="seatUI",e.style.position="absolute",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.pointerEvents="none",e.style.display="";var t=document.createElement("div");t.id="rogueUI",t.style.position="absolute",t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)",t.style.pointerEvents="none",t.style.display="",globalConfig.seatUISwitch?e.style.display="block":(e.style.display="none",document.querySelectorAll("#seatUI > *:not(.city)").forEach((e=>e.style.display="none"))),document.body.appendChild(e),document.body.appendChild(t);}function resetOrderContainer(){for(let e=0;e<=7;e++){let t="or"+(e+1);document.getElementById(t).style.display="block";}}function hideOrderContainer(e){for(let t=7;t>=e;t--){let e="or"+(t+1);document.getElementById(e).style.display="none";}}function addFrame(){let e=document.getElementById("createIframe");if(!e){e=document.createElement("div"),e.id="createIframe",e.id="createIframe",e.className="createIframe",e.style.position="fixed",e.style.overflow="hidden",e.style.resize="vertical",e.style.top="31px",e.style.right="155px",e.style.width="230px",e.style.height="500px",e.style.zIndex="10000000000",e.style.display="flex",e.style.flexDirection="column",e.style.color="#f2de9c",e.style.background="rgb(35, 32, 29)",e.style.userSelect="none",e.style.textAlign="left",e.style.transition="height 200ms",e.style.borderRadius="8px",e.style.transformOrigin="top right",e.style.transform="translate(0px, 0px)";var t=document.createElement("p");t.id="header",t.className="header",t.style.margin="1px",t.style.userSelect="none",t.style.cursor="grab",t.style.display="flex",t.style.alignItems="center",t.style.fontSize="20px",t.style.borderRadius="5px";var i=document.createElement("span");i.id="title",i.style="margin-right: auto;",i.innerText="三国杀打小抄"+version,e.appendChild(t),e.onmouseover=function(){document.querySelectorAll("div.city").forEach((e=>{e.classList.remove("hide"),e.classList.add("show");}));},e.onmouseout=function(){document.querySelectorAll("div.city").forEach((e=>{e.classList.remove("show"),e.classList.add("hide");}));};var n=document.createElement("button");n.innerText="-",n.id="toggle-me",n.style="text-align: center;color: #f2de9c;background: rgb(35, 32, 29);border-radius: 6px;width: 26px;height: 26px;border: 1px solid rgb(212, 212, 162);cursor: pointer;user-select: none;background: rgb(107, 30, 30);display: flex;align-items: center;justify-content: center;margin: 1px;font-size: 20px;",n.type="button",n.addEventListener("mouseover",(function(){n.style.backgroundColor="rgb(130, 30, 30)";})),n.addEventListener("mouseout",(function(){n.style.backgroundColor="rgb(107, 30, 30)";})),t.appendChild(i),t.appendChild(n),localStorage.getItem("DXCVersion")!=version&&(addTooltip(`小抄已经更新到${version}<br>${versionText}`,"acTooltip",3e4,"green"),localStorage.setItem("DXCVersion",version)),document.body.appendChild(e),iframe=document.createElement("div"),iframe.style="border: none;width: 230px;height: 100%;margin: 0px;overflow-y: auto;overflow-x: hidden;",iframe.id="iframe-source",e.append(iframe),iframe.innerHTML=variable;iframe.querySelectorAll("script").forEach((e=>{const t=document.createElement("script");e.src?(t.src=e.src,t.async=e.async):t.textContent=e.textContent,document.body.appendChild(t),e.remove();}));const l=document.querySelectorAll('input[id$="Switch"]'),o=document.querySelectorAll(".slider");l.forEach(((e,t)=>{const i=o[t];e.addEventListener("change",(e=>{const t=e.target.checked;try{gsap.to(i,{duration:.4,ease:"power2.inOut",css:{"--slider-position":t?"30px":"2px"},onStart:()=>{gsap.to(i,{scale:1.1,duration:.2,ease:"power1.inOut"});},onComplete:()=>{gsap.to(i,{scale:1,duration:.2,ease:"power1.inOut"});}}),gsap.to(i,{duration:.4,ease:"power2.inOut",boxShadow:t?"0 0 15px rgba(255, 204, 0, 1)":"0 0 0 rgba(0, 0, 0, 0)",background:t?"linear-gradient(to right, #ff7b54, #ffcc00)":"rgb(35, 32, 29)"});}catch(n){console.error("GSAP animation failed:",n);}}));}));document.querySelectorAll(".panel-header").forEach((e=>{e.addEventListener("click",(function(){const e=this.nextElementSibling;this.classList.toggle("active"),e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px";const t=new MutationObserver((()=>{e.style.maxHeight&&(e.style.maxHeight=e.scrollHeight+"px");}));t.observe(e,{childList:!0,subtree:!0,characterData:!0}),e.style.maxHeight||t.disconnect();}));}));const a=document.querySelector(".laya-header");if(a){const e=a.nextElementSibling;a.classList.add("active"),e.style.maxHeight=e.scrollHeight+"px";}document.querySelectorAll(".switch").forEach((function(e){e.addEventListener("mouseenter",(function(t){if(e.getAttribute("data-tooltip")){let t=document.createElement("div");t.classList.add("tooltip","top"),t.textContent=e.getAttribute("data-tooltip"),document.body.appendChild(t);const i=e.getBoundingClientRect();t.style.left=i.left+window.scrollX+i.width/2-t.offsetWidth-15+"px",t.style.top=i.top+window.scrollY-t.offsetHeight-15+"px",t.classList.add("visible"),e.addEventListener("mouseleave",(function(){t.classList.remove("visible"),t.remove();}));}}));}));}addDragHint(),buttonClick(),initDragElement(),drawChatFace();}function buttonClick(){function e(e,t,i){var n,l,o=e.target,a=o.checked;if("autoBotSwitch"!==(i=o.id)&&"autoHGSwitch"!==i&&"secKillItem1Switch"!==i&&"secKillItem2Switch"!==i&&"secKillItem3Switch"!==i)if(globalConfig[i]=a,"skinSwitch"==i)document.getElementById("skinStateButton").style.display=a?"block":"none";else if("seatUISwitch"==i)document.getElementById("seatUI").style.display=a?"block":"none";else if("skinPaperSwitch"==i){let e=null==(n=laya.find("SceneLayer",null))?void 0:n.sceneName;document.getElementById("paperStateButton").style.display=a?"block":"none",paper.switch(a&&(gameScene.includes(e)||globalConfig.allPaperSwitch&&!["RogueLikeBigMapScene","RogueSmallMapScene"].includes(e)));}else if("allPaperSwitch"==i){let e=null==(l=laya.find("SceneLayer",null))?void 0:l.sceneName;paper.switch(a&&globalConfig.skinPaperSwitch&&!["RogueLikeBigMapScene","RogueSmallMapScene"].includes(e)||gameScene.includes(e));}else "rogueCitySwitch"==i&&(a&&UI.cities?drawCitiesUI(UI.cities):drawCitiesUI(""));else vld(null);}if((t=document.getElementById("toggle-me")).onclick=function(){globalState.closeIframe=!globalState.closeIframe,globalState.closeIframe?(document.getElementById("createIframe").style.top="31px",document.getElementById("createIframe").style.right="155px",document.getElementById("iframe-source").style.display="none",t.innerText="+",document.getElementById("createIframe").style.height="30px",document.getElementById("createIframe").style.opacity="0.6",document.getElementById("createIframe").style.width="75px",document.getElementById("title").innerText="小抄",document.getElementById("createIframe").style.resize="none",globalConfig.padding&&(globalConfig.padding=0,window.dispatchEvent(new Event("resize")),translateX=0,translateY=0,document.getElementById("createIframe").style.transform=`translate(${translateX}px, ${translateY}px)`)):(document.getElementById("iframe-source").style.display="block",t.innerText="-",document.getElementById("createIframe").style.height="500px",document.getElementById("createIframe").style.opacity="1",document.getElementById("createIframe").style.width="230px",document.getElementById("title").innerText="三国杀打小抄"+version,document.getElementById("createIframe").style.resize="vertical");},document.getElementById("autoInviteSwitch").addEventListener("click",(e=>{var t;if(e.target.checked){var i=null==(t=document.getElementById("inviteName"))?void 0:t.value;"string"==typeof i&&0!==i.length&&(globalState.inviteName=i,localSet("INVITE_NAME",globalState.inviteName),tooltipSGS(`为目前机器所有账号绑定助力${globalState.inviteName}，如需更改/删除，更改/删除昵称重新打开开关`)),fetchInviteList(globalState.inviteName.trim()||user.nickname);}else localDel("INVITE_NAME");})),document.getElementById("guanxing").onclick=function(){attachWindowEvents(createWindow(json2html(initMap.gxjson),"myWindowGuanXing","观星","小抄观星 公告为准"));},document.getElementById("baisheng").onclick=function(){attachWindowEvents(createWindow(`<html><head><meta charset="utf-8" /><title>百胜</title></head><body>${array2table(Object.values(laya.class("AchievementManager").myOpenAchDic.Maps).filter((e=>{var t,i,n,l;return 2048==(null==(t=e.achievementInfo)?void 0:t.flags)&&(null==(l=null==(n=null==(i=e.achievementInfo)?void 0:i.Desc)?void 0:n.includes)?void 0:l.call(n,"100"))})).map((e=>({num:e.GetProCount(),id:e.achievementInfo.characterId,desc:e.achievementInfo.Desc,time:e.finishTime||1/0}))).sort(((e,t)=>t.num-e.num||e.time-t.time||e.id-t.id)).map((({num:e,id:t,desc:i,time:n},l)=>({i:l+1,num:e,g:initMap.generalDict[t]??t,desc:i,time:n!=1/0?new Date(1e3*n).toLocaleDateString():""}))),{i:"顺序",num:"进度",g:"武将",desc:"条件",time:"完成时间"})}</body></html>`,"myWindowBaiSheng","百胜查询 control + F 快速定位",""));},document.getElementById("gamerecord").onclick=async function(){for(this.disabled=!0,getseven(user.userID);gameRecord.req;)await sleep(500);this.disabled=!1,user.v&&await getGameRecord();attachWindowEvents(createWindow(recordHTML(JSON.stringify(gameRecord)),"myWindowGameRecord","游戏记录",""));},document.getElementById("mizhu").onmousedown=function(){let e=document.querySelectorAll(".mizhu");room.mySeats.length<=1?(e.forEach((e=>e.style.display="none")),drawMiZhu(Array.from(Zone.shoupai(room.mySeats[0]),(e=>allCard[e].number)))):room.mySeats.forEach(((t,i)=>{e[i].style.display="block",e[i].innerText=room.name(t),e[i].onclick=()=>{drawMiZhu(Array.from(Zone.shoupai(t),(e=>allCard[e].number)));},0==i&&e[i].click();}));},0==window.padding){console.warn("closesidebar");var t=document.getElementById("toggle-me");console.warn("toggle"),t.click();}window.dispatchEvent(new Event("resize")),document.querySelectorAll(".switch").forEach((t=>t.addEventListener("change",e))),document.getElementById("ACSubmit").onclick=()=>debounce(ACSubmit,300)(),skipChapter(),openExternalLink();}function createParticleEffect(e){const t=e.getBoundingClientRect(),i=t.left+t.width/2,n=t.top+t.height/2;for(let l=0;l<20;l++){const e=document.createElement("div");e.classList.add("particle"),document.body.appendChild(e);const t=360*Math.random(),l=50*Math.random()+30;gsap.fromTo(e,{x:i,y:n,opacity:1},{x:i+Math.cos(t*Math.PI/180)*l,y:n+Math.sin(t*Math.PI/180)*l,opacity:0,duration:1,ease:"power2.out",onComplete:()=>{e.remove();}});}}function skipChapter(){document.getElementById("openStore").onclick=function(){laya.class("GameEventDispatcher").ShowWindow("RogueJiShiWindow"),addTooltip("满足以下条件购买技能或者装备可跳关<br>1、已经进入对局<br>2、商店有可替换的装备/技能<br>例如身上有麒麟弓，商店有贯石斧<br>购买完成之后，投降之后会显示替换提示<br>","acTooltip",1e4,"green",!1);};}function openExternalLink(){document.querySelectorAll(".external-link").forEach((e=>{e.addEventListener("click",(async t=>{t.preventDefault();const i=e.dataset.url;if(window.WEIDUAN)try{const{shell:e}=require("electron");return void e.openExternal(i)}catch(l){console.warn("Electron API调用失败，回退通用方法");}const n=window.open(i,"_blank");n&&!n.closed||showManualLink(targetUrl);}));}));}null==(_b=null==(_a=document.getElementById("createSkinIframeSource"))?void 0:_a.contentWindow)||_b.document;const showManualLink=e=>{const t=`\n    <div style="${modal.style.cssText}">\n        <p>跳转的网站被您屏蔽了，请手动访问：<a href="${e}" target="_blank">${e}</a></p>\n    </div>\n`;document.body.insertAdjacentHTML("beforeend",t);};function createWindow(e,t,i,n){let l=document.getElementById("myWindow"+t);if(l)return l.style.display="block",l;const o=document.createElement("div");o.classList.add("window"),o.id=t;const a=document.createElement("div");a.classList.add("window-header");const s=document.createElement("div");s.classList.add("title"),s.innerText=i;const r=document.createElement("div");r.classList.add("controls");const c=document.createElement("button");c.innerText="⬜";const d=document.createElement("button");d.innerText="❌",r.appendChild(c),r.appendChild(d),a.appendChild(s),a.appendChild(r);const u=document.createElement("iframe");return u.classList.add("window-content"),u.srcdoc=`\n    <html>\n      <head><meta charset="utf-8" /><title>${t}</title>\n      <style>\n        .watermark {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          pointer-events: none; /* 防止干扰交互 */\n          z-index: 9999;\n          background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='400' height='200'><text x='50%' y='50%' font-size='20' fill='rgba(0,0,0,0.1)' transform='rotate(-30, 100, 100)' text-anchor='middle'>${n}</text></svg>");\n          background-repeat: repeat;\n        }\n      </style>\n      </head>\n      <body><div class="watermark"></div>${e}</body>\n     \n    </html>\n  `,o.appendChild(a),o.appendChild(u),document.body.appendChild(o),{windowDiv:o,maximizeBtn:c,closeBtn:d}}function attachWindowEvents(e){const{windowDiv:t,maximizeBtn:i,closeBtn:n}=e;let l=!1;i.addEventListener("click",(()=>{l?t.classList.remove("fullscreen"):t.classList.add("fullscreen"),l=!l;})),n.addEventListener("click",(()=>{t.style.display="none";}));}let translateX=0,translateY=0;function initDragElement(){const e=document.getElementById("header"),t=document.getElementById("createIframe"),i=document.getElementById("sidebarHint");let n=!1,l=0,o=0,a=0,s=0,r=!1;const c=i=>{e.style.cursor="grabbing",n=!0,l=i.clientX||i.touches[0].clientX,o=i.clientY||i.touches[0].clientY,t.style.userSelect="none",t.style.willChange="transform",document.addEventListener("mousemove",d),document.addEventListener("mouseup",u),document.addEventListener("touchmove",d),document.addEventListener("touchend",u);};function d(e){if(!n)return;i.style.display="flex";const c=e.clientX||e.touches[0].clientX,d=e.clientY||e.touches[0].clientY;a+=c-l,s+=d-o,globalConfig.padding&&(globalConfig.padding=0,t.style.height="500px",window.dispatchEvent(new Event("resize"))),r||(r=!0,requestAnimationFrame((()=>{t.style.transform=`translate(${a}px, ${s}px)`,r=!1;}))),window.innerWidth-c<25?i.style.backgroundColor="rgba(55, 40, 32, 1)":i.style.backgroundColor="rgba(55, 40, 32, 0.8)",l=c,o=d;}function u(l){if(i.style.display="none",e.style.cursor="grab",n=!1,document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",u),document.removeEventListener("touchmove",d),document.removeEventListener("touchend",u),t.style.willChange="auto",window.innerWidth-(l.clientX||l.touches[0].clientX)<25&&"header"===e.id&&!globalConfig.padding){if(globalState.closeIframe){document.getElementById("toggle-me").click();}globalConfig.padding=232,window.dispatchEvent(new Event("resize")),a=0,s=0,t.style.transform=`translate(${a}px, ${s}px)`;}}e.addEventListener("mousedown",c),e.addEventListener("touchstart",c);}function counter(e,t){let{name:i,number:n,color:l}=allCard[e??0];if(!(void 0===e||e&&i&&void 0!==Qcard.name[i]))return;let o=Zone.unknown;(e?[i]:Object.keys(Qcard.name)).forEach((e=>{let t=o.filter((t=>Qcard.name[e].has(t))).length,i=document.getElementById(e);i.textContent=t>1?t+e:e,i.disabled=t<=0;})),(e?[5,6].filter((t=>Qcard.color[t].has(e))).concat(l):[1,2,3,4,5,6]).forEach((e=>{var t;let i=o.filter((t=>Qcard.color[e].has(t))).length,n=document.getElementById(["","heart","club","spade","diamond","hongsha","heisha"][e]);n.innerHTML=null==(t=n.innerHTML)?void 0:t.replace(/-?[0-9]+/,String(i));})),e?Qcard.query.has(e)&&Qcard[e].plot(0==t?0:1):Qcard.draw();}function domInit(){for(let e=1;e<=3;e++)document.getElementById("type"+e).innerHTML="";for(let e of document.getElementsByClassName("order-body"))e.innerHTML="",e.title="一二三四五六七八"[e.id.slice(-1)]??e.title;for(let e in Qcard.name){let t=document.getElementById("type"+allCard[[...Qcard.name[e]][0]].type),i=document.createElement("button");i.id=e,i.className="cardType",i.innerText=e,i.onclick=()=>{Qcard.queryone("name",e);},t.appendChild(i);}UI.seatUIs=[],drawSeatUIs(),drawRogueLike();}var blacklist=[1562902854,1678425373];const idleCallback=function(){const e="function"==typeof window.requestIdleCallback;return function(t,i=500){if(e){const e=window.requestIdleCallback(t),n=setTimeout((()=>{window.cancelIdleCallback(e),t();}),i);return ()=>clearTimeout(n)}return setTimeout(t,0)}}();function logic(e){var t,i,n,l,o,a,s,r,c,d,u,p,h,m,f,g,W,I,y,v,S,b,w,k,C,x,R,D,T,L,E,O,G,B,N,P,M,H,A;try{if(!e)return;if(null==(t=e.startsWith)?void 0:t.call(e,"socket连接关闭"))return void confirm({content:"您的二次密码认证错误，请稍后再试"},"确定");if(null==(i=e.startsWith)?void 0:i.call(e,"SwitchScene"))idleCallback((()=>{var t,i;let n=laya.scene=e.slice(e.lastIndexOf("-")+1);game.end(gameScene.includes(n)),globalConfig.skinPaperSwitch&&paper.switch(globalConfig.allPaperSwitch?!["RogueLikeBigMapScene","RogueSmallMapScene"].includes(n):gameScene.includes(n)),"TableScene"==n?globalState.autoBotSwitch&&timer.delay("auto",(()=>retry((()=>globalState.autoBotSwitch&&laya.readyStart()),20)),8e3):"HallScene"==n?!0!==globalState.autoBotSwitch&&28!==globalState.autoBotSwitch||(tooltipSGS("5秒后开始酒馆自动挂机"),timer.delay("auto",(()=>retry((()=>(!0===globalState.autoBotSwitch||28===globalState.autoBotSwitch)&&laya.newRoom()),10,1e3)),5e3)):["NewPaiWeiScene","DouDiZhu2023Scene","RogueLike1v1Scene","RogueLikeBigMapScene"].some((t=>e.endsWith(t)))&&(!0!==globalState.autoBotSwitch&&28!==globalState.autoBotSwitch||null==(t=document.getElementById("autoBotSwitch"))||t.click(),9!==globalState.autoBotSwitch&&29!==globalState.autoBotSwitch||null==(i=document.getElementById("autoHGSwitch"))||i.click());}));else if(globalConfig.skipWindowSwitch&&["RogueLike1v1ZhanJiWindow","GameResultWindow","GeneralOpenResultWindow","GameMvpWindow","GameZhanJiWindow","SkinOpenResultWindowNew","OldbackOneClickDrawAwdWin","VersionNoticeWindow","AdPushWindow"].includes(e)){let t="GetPropSpecialWindow"==e?5:1,i="GetPropSpecialWindow"==e?e=>{var t,i;return null==(t=null==e?void 0:e.Hide)||t.call(e),null==(i=null==e?void 0:e.Close)?void 0:i.call(e)}:"GameResultWindow"==e?e=>sleep(500).then((()=>{var t;return null==(t=null==e?void 0:e.laterClose)?void 0:t.call(e)})):"RogueLike1v1ZhanJiWindow"==e?e=>sleep(500).then((()=>{var t;return null==(t=null==e?void 0:e.onClickClose)?void 0:t.call(e)})):"AdPushWindow"==e?e=>(null==e||e.curViewList.forEach((e=>{var t;return null==(t=null==e?void 0:e.closeClicker)?void 0:t.call(e)})),tooltipSGS("小抄已经为你跳过广告和祈愿台出货播报")):e=>{var t;return null==(t=(null==e?void 0:e.laterClose)??(null==e?void 0:e.Close))?void 0:t.bind(e)()};retry((()=>wait((()=>laya.find(null,e)),10,200*t).then((e=>Array.isArray(e)?e.every(i):(null==e?void 0:e.Close)?i(e):"done"))),t,1e3);}else if(globalConfig.skipProbWindowSwitch&&["GetPropSpecialWindow"].includes(e)){let t=5,i=e=>{var t,i;return null==(t=null==e?void 0:e.Hide)||t.call(e),null==(i=null==e?void 0:e.Close)||i.call(e),!0};retry((()=>wait((()=>laya.find(null,e)),10,200*t).then((e=>Array.isArray(e)?e.every(i):(null==e?void 0:e.Close)?i(e):"done"))),t,1e3);}if(globalState.autoBotSwitch&&["GameResultWindow","GameMvpWindow","GameZhanJiWindow"].includes(e)){let t="GameResultWindow"==e?e=>sleep(500).then((()=>{var t;return null==(t=null==e?void 0:e.laterClose)?void 0:t.call(e)})):e=>{var t;return null==(t=(null==e?void 0:e.laterClose)??(null==e?void 0:e.Close))?void 0:t.bind(e)()};retry((()=>wait((()=>laya.find(null,e)),10,200).then((e=>Array.isArray(e)?e.every(t):(null==e?void 0:e.Close)?t(e):"done"))),1,1e3);}else if(null==(n=e.endsWith)?void 0:n.call(e,"View"))"VuplexWebView"==e&&timer.trigger("VuplexWebView");else if(null==(l=e.endsWith)?void 0:l.call(e,"Window"))"SkinInfoWindow"==e?globalConfig.skinPaperSwitch&&getskin():"BlessNewWindow"==e?calTongXinJieLv():"SelectSkinWindow"==e?9!=globalState.autoBotSwitch&&wait((()=>laya.find("WindowLayer",e))).then((e=>null==e?void 0:e.Close())):"SelectCardWindow"==e?!laya.flag||(null==(a=null==(o=room.seatUIs[0])?void 0:o.seat)?void 0:a.OnlineState)>1||selectCard(!0,!0):"WuGuFengDengWindow"!=e||!laya.flag||(null==(r=null==(s=room.seatUIs[0])?void 0:s.seat)?void 0:r.OnlineState)>1?["SelectGeneralWindow","SelectGeneralHappyWindow","SelectCountryWarGeneralWindow"].includes(e)&&globalState.autoBotSwitch&&setTimeout((()=>{wait((()=>laya.find("WindowLayer",e))).then((async t=>{var i,n;if(!(null==(i=null==t?void 0:t.generalUis)?void 0:i.length))return;if("SelectCountryWarGeneralWindow"==e){for(let e of t.generalUis)(null==e?void 0:e.Card)&&(null==e?void 0:e.CanSelect)&&(t.onClickGeneralCard(e),await sleep(1e3));return await sleep(1e3),void(null==(n=t.confirmBtnEvent)||n.call(t))}let l=-1,o=null;t.generalUis.some((e=>{var t;if(null==e?void 0:e.dianJiangSk)return o=e;let i=(null==(t=null==e?void 0:e.generalInfo)?void 0:t.quality)||0;i>l&&(l=i,o=e);})),null==o||o.sureBtnClick(),9!=globalState.autoBotSwitch&&setTimeout((()=>null==o?void 0:o.sureBtnClick()),500);}));}),3e3):laya.wugu();else if(void 0===e.className&&void 0===e.ClassName)return;globalConfig.killEffectSwitch&&"CClientGameRewardPointNTF"==e.className&&(e.Type=0);let{ProtoObj:V,ClassName:Z,SeatID:z,SrcSeatID:j,targetSeatID:F,SpellID:Q,Param:K,Params:J,Datas:Y,DataCount:X,CardCount:$,CardIDs:ee,FromID:te,FromZone:ie,FromPosition:ne,FromZoneParam:le,ToID:oe,ToZone:ae,ToPosition:se,ToZoneParam:re,MoveType:ce,Type:de}=e;if(Z||(Z=e.className||e.toString()),e.userID&&e.userID!=user.userID&&["ClientLoginRep","ClientUserDataCounterNtf","ClinetNetSpeedNtf","SmsgUpdateTaskListToClient","ClientGuildMemberChangeNtf"].includes(Z)){if(Object.assign(user,{userID:e.userID,nickname:e.Nickname||user.nickname||"",account:e.Account||localStorage.LastUserName||localStorage.SGS_LASTLOGIN_ACCOUNT||localStorage.SGS_LASTLOGIN_ACCOUNT1||user.account||""}),globalState.UsedGeneralSkinID=localGet(user.account+"::UsedGeneralSkinID",globalState.UsedGeneralSkinID),Object.assign(paper.res,localGet(user.userID+"::paperRes",{},!0)),setProto(),blacklist.includes(user.userID))return;Promise.all([initFrame(),wait((()=>{var e;patchShowWindow();const t=laya.get("QldjChooseRuleWindow");let{clientId:i,nickname:n,guildID:l,guildName:o,Level:a,vipLevel:s}=(null==(e=null==t?void 0:t.seat)?void 0:e.playerInfo)||{};return laya.del("QldjChooseRuleWindow"),i!=user.userID||!n||!o&&l?null:(Object.assign(user,{nickname:n,guildID:l,guildName:o,Level:a,vipLevel:s}),n)}),30,1e3)]).then((()=>{globalConfig.autoSignSwitch&&autoSign(globalConfig.autoSignSkipSwitch),login(user.userID);let e=document.getElementById("uuid");e.innerText="id："+user.userID,e.onclick=function(){toClipboard(user.userID,!1),e.innerText="复制成功",setTimeout((()=>{e.textContent="id："+user.userID;}),"500");};let t=document.getElementById("nickName");t.innerText="昵称："+user.nickname,t.onclick=function(){toClipboard(user.nickname,!1),t.innerText="复制成功",setTimeout((()=>{t.textContent="昵称："+user.nickname;}),"500");},document.getElementById("guildID").innerText="公会数字ID："+user.guildID,activate(),document.getElementById("inviteName").setAttribute("placeholder",user.nickname||""),localGet("INVITE_NAME")&&localGet("INVITE_NAME")!=user.nickname&&(document.getElementById("inviteName").value=localGet("INVITE_NAME")),Date.now()<new Date("2024-12-15")&&globalConfig.autoInviteSwitch&&async function(e=2e4){var t;let i=0;for(;!user.nickname||!user.userID;)if(await new Promise((e=>setTimeout(e,2e3))),i+=2e3,i>=e)return void tooltipSGS("没办法获取到昵称用于助力 请重新登录");fetchInviteList((null==(t=globalState.inviteName)?void 0:t.trim())||user.nickname);}();}));}if("ClientGeneralSkinRep"==Z){void 0===room.mySeats[0]&&5==de&&e.ClientID<10&&(room.setMyID(e.ClientID),getSeatUIs());let t=e.GeneralSkinList[0],i=room.find(room.mySeats[0],t.GeneralID,!0);t.GeneralID!=i&&globalConfig.skinStateBlockSwitch&&(t.state=0);}else if("ClientGeneralSkinReq"==Z)globalConfig.skinSwitch;else if("MsgReconnectGame"==Z)tooltipSGS("断线重连，本局游戏中小抄记录可能不准");else if("ClientOfficerInfoRep"==Z)user.curOfficerLv=e.curOfficerLv;else if("decodeSSCChatmsgNtf"==Z){if(11==V.scene&&(V.scene=2),globalConfig.msgBlockSwitch&&((null==(c=null==V?void 0:V.chatMsg)?void 0:c.startsWith("oldback@"))||26==(null==V?void 0:V.MsgType))&&delete e.data.protoObj,globalConfig.msgBlockSwitch&&7==V.Channel&&[/收.*桃/,"桃花","鲜花","出的"].some((e=>{var t;return e instanceof RegExp?e.test(null==V?void 0:V.chatMsg):null==(t=null==V?void 0:V.chatMsg)?void 0:t.includes(e)}))&&delete e.data.protoObj,user.vip&&((null==(d=null==V?void 0:V.chatMsg)?void 0:d.startsWith("[GM]"))||(null==V?void 0:V.SpokerMan)!=user.nickname&&[2,10,13].includes(null==V?void 0:V.Channel))&&delete e.data.protoObj,null==(u=null==V?void 0:V.chatMsg)?void 0:u.startsWith("INFO:")){let t=atob(V.chatMsg.slice(5));delete e.data.protoObj;let[i,n,l,o]=t.split(":").map((e=>isNaN(Number(e))?e:Number(e)));if(console.warn(t,{[i]:n,[l]:o}),"mainSeatID"==i){let e=laya.order.indexOf(n);e>=0&&(laya.order.splice(e,1),laya.order.push(n),laya.seatUIs()),wait((()=>room.mySeats[0]>=0)).then((()=>{var e,t;(null==(t=null==(e=room.seatUIs[0])?void 0:e.seat)?void 0:t[l])==o&&laya.chat(`sub-SeatID:${room.mySeats[0]}  :${l}:${o}`,"INFO");}));}else if(i="sub-SeatID"){let e=laya.order.indexOf(n);e>=0&&(laya.order.splice(e,1),laya.order.splice(-1,0,n),laya.seatUIs());}}}else if("ClientRoleGeneralStarRep"==Z)globalConfig.generalSwitch&&(e.Star>=0&&(e.Star=4),V.star>=0&&(V.star=4));else if("ClientGameRecordInfoRep"==Z)(null==V?void 0:V.query_uid)==user.userID&&[26,35,44,5,7].includes(null==V?void 0:V.id)&&(null==(p=null==gameRecord?void 0:gameRecord.req)||p.delete(V.id),0==(null==(h=gameRecord.req)?void 0:h.size)&&delete gameRecord.req,(null==(m=null==V?void 0:V.all_record)?void 0:m.length)&&recGameRecord(V.id||0,V.all_record));else if("DbsCcUserGoodshintNtf"==Z)2010==de&&"object"==typeof e.GoodsList&&(globalState.goods=mergeGoodsList(globalState.goods,e.GoodsList)),58!=de&&65!=de||(timer.delay("tongxin",(()=>calTongXinJieLv()),1e3),e.GoodsList.forEach((e=>{lotteryFilter(e.GoodBaseID)||tooltipSGS(`恭喜你获得：${initMap.goodsID(e.GoodBaseID).name}`);}))),2e3!=de&&2001!=de||e.GoodsList.forEach((e=>{lotteryFilter(e.GoodBaseID)||tooltipSGS(`恭喜你获得：${initMap.goodsID(e.GoodBaseID).name}`);})),5==de&&"object"==typeof e.GoodsList&&(globalState.CDKgoods=e.GoodsList);else if("decodeClientSecretInfoRep"==Z){if(Object.keys(globalState.goods).length>0){initMap.currentSec=V.secId;for(let e of globalState.goods)drawLottery(initMap.currentSec,e.GoodsBaseID,e.ChangeCount,V.openTime),(11180==e.GoodsBaseID||lotteryFilter(e.GoodsBaseID))&&recLottery(V.secId,e.GoodsBaseID,V.openTime,V.levelId,e.ChangeCount);}globalState.goods=[];}else if("ClientPickupgiftbagRep"==Z&&globalConfig.CDKNotificationSwitch){if(""!=e.CDKey&&!/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]+$/.test(e.CDKey)&&(1==e.Result||2==e.Result))for(let t of initMap.CDKDict)if(isDataMatched(t.dataInfo,globalState.CDKgoods)){t.cdk=e.CDKey,postCDK(t);break}}else if("decodeClientTavernInfoRep"==Z){let e=(null==(f=null==V?void 0:V.tavern_info)?void 0:f.day_quest_finished_cnt)??0;if(globalState.autoBotStatus=30-e,globalState.autoBotInfinite||document.querySelector(".status").style.setProperty("--bot-status",`"${globalState.autoBotStatus.toString().padStart(2,"0")}"`),e>=30){let t=document.getElementById("autoBotSwitch");(null==t?void 0:t.checked)&&!globalState.autoBotInfinite&&t.click(),tooltipSGS(`今日已获得亲密度：${e}<br>恭喜你完成酒馆任务~`);}else e>0&&tooltipSGS(`酒馆已获得 ${e} 亲密度<br>今日还可得 ${30-e} 亲密度`);}else if("MsgHeartAliveRep"==Z)timer.sync(e);else if("ClientSecKillInfoRep"==Z)drawMiaoSha(e.Data);else if("decodeRogueLikeDataSync"==Z)drawRogueLike(V);else if("ClientActivitysetDataRep"==Z)idleCallback((()=>{drawRogueLike();}));else if("decodeRogueLikeGameOverRep"==Z)document.getElementById("chongsheng").innerText="重生是否发动：是";else if("SmsgGamePlayerDead"==Z)z==room.mySeats[0]&&(!0===globalState.autoBotSwitch&&!globalState.autoBotInfinite||28===globalState.autoBotSwitch&&room.seatUIs.slice(1).every((({ai:e})=>e)))&&setTimeout((()=>{var e,t;room.seatUIs.reduce(((e,{seat:t,ai:i,figure:n})=>e+(n||i<2?1:-1)*(null==t?void 0:t.currentHp)),0)<0&&(null==(t=null==(e=laya.gamescene)?void 0:e.topMenu)||t.onClickBack(),confirm({title:"退出游戏"},"确定",!0,5e3));}),5e3);else if("MsgGameDealCharacter"==Z){if(1099193522==user.userID&&"undefined"!=typeof Allows&&void 0!==de&&1==de){var q=Math.floor(Math.random()*Allows.length+1);document.getElementById("title").innerText="选"+q;}}else if("GsCUpdateRoleDataNtf"==Z)void 0===room.mySeats[0]&&58===e.StateID&&(room.setMyID(z),console.warn(Z,"游戏人数："+room.size+", 我的座位："+room.mySeats,room.seatIDs));else if("GsCFirstPhaseRole"==Z)void 0!==z&&(room.firstID=z,console.warn("先手位置:"+room.firstID));else if("MsgGameRoundNtf"==Z)e.isPassed&&(game.isPassed=e.isPassed);else if("MsgGameOver"==Z||"ClientRecommendShopItemRep"==Z||"ClientLeavetableRep"==Z);else if("decodeRougeBaseInfoRep"==Z)UI.friendGeneral=(null==(g=null==V?void 0:V.friendGeneral)?void 0:g.length)??UI.friendGeneral;else if("MsgGamePlayCardNtf"==Z)game.ready(e.CardList);else if("SmsgGameSetCharacter"==Z)void 0===room.mySeats[0]&&room.isDouDiZhu&&1==e.Infos.length&&room.setMyID(e.Infos[0].SeatID),e.Infos.forEach((({SeatID:e,CharacterID:t})=>{room.setGeneral(e,t);}));else if("GsCGuoZhanSetCharacter"==Z)null==(W=e.GeneralData)||W.forEach((({index:e,cardID:t})=>{room.setGeneral(z,t,e);}));else if("MsgGameTurnNtf"==Z)game.enter(e.TurnCnt);else if("GsCGamephaseNtf"==Z)game.enter(null,e.Round,z);else if("GsCUpdateRoleDataExNtf"==Z)game.currentID==z&&1==e.DataID&&Array.isArray(e.Datas)&&(document.getElementById("sha").innerText="可出杀次数："+Math.max(0,Y[2]-Y[1]),z==room.mySeats[0]&&room.isShanHeTu&&(null==(I=rogueMap.itemId)?void 0:I.includes(2042))&&(0==Y[1]&&(rogueMap.previousData=0),rogueMap.sanBanFu+=Y[1]-rogueMap.previousData,rogueMap.previousData=Y[1],rogueMap.sanBanFu%3==0?document.getElementById("sanBanFu").innerText="三板斧计数器":document.getElementById("sanBanFu").innerText="三板斧计数器："+((Number(rogueMap.sanBanFu)-1)%3+1)));else if("GsCTriggerSpellNew"==Z){if(globalConfig.wuxieSwitch){const t=e=>{var t;return e?`<font color='#FFFF00' href='1|${e}|0|2'>"${null==(t=initMap.spellDict[e])?void 0:t.name}"</font>`:"未知技能"},i=e=>{return (t=room.name(e,null))?`<font color='#FFFF00' >${t}${e==room.mySeats[0]?"(你)":""}</font>`:"";var t;};let n=(null==(y=e.TriggerSpellData)?void 0:y.length)?e.TriggerSpellData:[{}];if(!n.length)return;laya.trace("<font color='#00FFFF'>&gt;&gt;</font>"+((null==(v=n[0])?void 0:v.SpellId)?"":(H=i(e.SrcSpellCasterSeat),A=e.SrcSpellID?t(e.SrcSpellID):"",H&&A?H+"的"+A:H||A))+"<font color='#00FFFF'>&gt;</font>"+(e=>e?"向"+e:"")(i(e.TriggerSeatId))+"询问"+n.map((({SpellId:n,SeatId:l,Targets:o})=>((e,t)=>t?`对${t}的`:e?`${e}的`:"")(l!=e.TriggerSeatId?i(l):"",(null==o?void 0:o.map(i).join(","))||"")+t(n))).join(","));}if(3269==(null==(b=null==(S=e.TriggerSpellData)?void 0:S[0])?void 0:b.SpellId)&&e.TriggerSeatId==room.mySeats[0]){let t=e.TriggerSeatId,i=0,n=0;new Zone(t,5).cards.concat(new Zone(t,6).cards).forEach((e=>{let t=card[e.id].color;1===t||2===t?i++:(3===t||4===t)&&n++;})),document.getElementById("result").innerHTML='<span class="textRes">【双雄】'+(i>n?"弃 黑":i<n?"弃 红":"平")+'</span><br><span class="textRes">'+i+"红\t\t"+n+"黑</span>";}}else if("ClientHappyGetFriendHandcardRep"==Z)room.find(e.seatId,[7004,2087,3048])&&new Zone(e.seatId).show(e.Cards);else if("PubGsCUseCard"==Z)room.mySeats[0]==z&&drawCard([e.CardID]),game.currentID==z&&room.find(game.currentID,[7003,2086,3047])&&1==e.useType&&1!=e.fromZone&&!e.isSend?(game.spellSpace[7011]||(game.spellSpace[7011]={count:0,color:new Set}),3!=allCard[e.CardID].type&&game.spellSpace[7011].count++,game.spellSpace[7011].color.add(allCard[e.CardID].c),document.getElementById("suit").innerHTML="["+game.spellSpace[7011].count+"]"+Array.from(game.spellSpace[7011].color).join("")):game.currentID==z&&room.find(game.currentID,[330,1068])&&1==e.useType&&!e.isSend&&(document.getElementById("suit").innerHTML=allCard[e.CardID].cn);else if("PubGsCUseSpell"==Z){if(room.mySeats[0]==z&&1==ee.length&&drawCard(ee),3324==Q)document.getElementById("chongsheng").innerText="重生是否发动：是";else if(2143==Q)game.spellSpace[Q]||(game.spellSpace[Q]=new Set),ee.forEach((e=>game.spellSpace[Q].add(allCard[e].c))),document.getElementById("suit").innerHTML=Array.from(game.spellSpace[Q]).join("");else if([3157,3511].includes(Q)&&0!=ee.filter((e=>e>0)).length&&(j==room.mySeats[0]||user.v))game[Q]=ee;else if([3193,3185,3138].includes(Q)||3161==Q)game.phase--;else if(3338==Q&&0!=ee.length&&user.v&&573==room.generals[room.mySeats[0]]){game.spellSpace[Q]||(game.spellSpace[Q]=new Set);const e=ee[0]+"-"+ee[1];game.spellSpace[Q].has(e)||(game.spellSpace[Q].add(e),console.warn("new combination",game.spellSpace[Q]),timer.delay("baichu",(()=>updateCardLabels("新组合")),500));}}else if("GsCRoleOptTargetNtf"==Z)if(945==Q&&0==K&&(null==J?void 0:J.length)>0)drawYanJiao(J.map((e=>allCard[e].number)),user.v&&z==room.mySeats[0]);else if(3440==Q&&room.mySeats.includes(z)&&0==K&&(null==J?void 0:J.length)>0)28==de?drawYiCheng(J.map((e=>allCard[e].number)),new Zone(z).cards.map((e=>allCard[e.id].number))):drawYiCheng();else if(11003==Q&&0==K&&(null==J?void 0:J.length)>0&&j!=room.mySeats[0]&&globalConfig.v)document.getElementById("result").innerHTML='<span class="textRes"> 【锻造】<br>'+J.map((e=>allCard[e].ncn)).join("<br>")+"</span>";else if([7016,7017].includes(Q)&&(null==J?void 0:J.length)>0&&(j==room.mySeats[0]||user.v)){game[Q]=J.slice();let e=Array.from(new Set(new Zone(K).cards.map((({key:e})=>e)))).sort(((e,t)=>t-e)),t=Array.from(new Set(new Zone(255,1).cards.slice(0,room.isGuoZhan?void 0:2).map((({key:e})=>e)))).sort(((e,t)=>t-e)),{yes:i,no:n}=J.reduce(((i,n)=>{let{keys:l}=Card.findKZ(n);return void 0!==e.find((e=>l.includes(e)))&&i.yes.push(n),void 0!==t.find((e=>l.includes(e)))&&i.no.push(n),i}),{yes:[],no:[]}),l=document.getElementById("result");2==n.length?i=J.filter((e=>!n.includes(e))):1==i.length&&(n=J.filter((e=>!i.includes(e)))),1==i.length||2==i.length?(l.innerHTML='<span class="textRes">【宴戏】'+i.map((e=>allCard[e].ncn)).join("/")+"</span>",game[Q]=i.concat(J.filter((e=>!i.includes(e))))):l.innerHTML='<span class="textRes">【宴戏】未知</span>';let o=new Zone(K).show(game[Q][0]).concat(new Zone(255,1,room.isGuoZhan?RAND:DING).show(game[Q].slice(-2)));3==i.length?Card.pack(o):1==i.length?Card.pack(o.slice(1,3)):2==i.length&&(Card.pack(o.slice(0,2)),Card.pack(o.slice(1,3))),J.forEach((e=>{l.innerHTML+='<span class="textRes'+(i.length<3&&i.includes(e)?" textRes":"")+'">'+allCard[e].ncn+"："+[[i,"手牌"],[n,"牌堆"]].filter((([t,i])=>t.includes(e))).map((([e,t])=>t)).join("/")+"</span><br>";}));}else [4,5,921,372,811,357,3119,501,3437].includes(Q)&&(null==J?void 0:J.length)>0||[851,361,774,3310].includes(Q)&&0==K&&(null==J?void 0:J.length)>0?void 0!==F&&255!==F&&new Zone(F).show(J):943==Q&&0==K&&1==(null==J?void 0:J.length)?new Zone(255,1).show(J):898==Q&&0==K&&(null==J?void 0:J.length)>2?void 0!==j&&255!==j&&new Zone(j).show(J.slice(1,J[0]+1)):(987==Q||988==Q)&&1==K&&(null==J?void 0:J.length)>2?void 0===F||255===F||j!=room.mySeats[0]&&!user.v||new Zone(F).show(J.slice(-J[1])):3266==Q&&0==K&&(null==J?void 0:J.length)>0?void 0===F||j!=room.mySeats[0]&&!user.v||new Zone(F,255==F?1:5).show(J.filter(((e,t)=>t%3==1))):3483==Q&&1==K?(null==J?void 0:J.length)>2&&void 0!==F&&255!==F?new Zone(F).show(J.slice(-J[1])):J[0]>0&&(game[Q]=J[0]):(7010==Q||7011==Q)&&(null==J?void 0:J.length)>0&&255==F?(game.spellSpace[7009]=J.slice(),(j==room.mySeats[0]||user.v)&&Card.pack(new Zone(255,1).show(J))):2900==Q&&28==de&&room.setGeneral(F,J[2],J[1],!0);else if("CGsRoleSpellOptRep"==Z)2022==Q?room.setGeneral(z,Y[0],Y[1],!0):7009==Q?(null==(w=game[7009])||w.pop(),(null==(k=game[7009])?void 0:k.length)||new Zone(255,1).show(Y)):3336==Q?new Zone(255,1,DI).show(null==(C=null==Y?void 0:Y.slice())?void 0:C.reverse()):Y.length>0&&15==Q&&10==de&&recLe(1==allCard[Y[0]].color);else if("PubGsCMoveCard"==Z){if(ee=ee.slice(),0===$||0===ce||11===ae||e.isSend)return;if(713==Q&&21==ce&&$==ee.length-2){let e=ee.splice(0,1)[0];ee.splice(e,1);}if(ee.filter((e=>e>0)).length!=$&&0!=ee.filter((e=>e>0)).length&&(console.error("PubGsCMoveCard error: 明暗牌混合：["+ee+"]"),console.error(e),ee=[]),1==ie&&ne==RAND&&[3208,7011,987,988].includes(Q)&&(ne=DING),1==ie&&ne==RAND&&13==ce&&1==$&&(ne=DING),1==ie&&ne==RAND&&4==ae&&8==ce&&795==Q&&1==$&&(ne=DING),1==ie&&ne==RAND&&5==ae&&3101==Q&&1==$&&(ne=DI),1==ie&&ne==RAND&&5==ae&&!room.isGuoZhan&&[7016,7017].includes(Q)&&1==$&&(ne=DING),1==ie&&5==ae&&3338==Q&&user.v&&oe==room.mySeats[0]&&timer.delay("baichu",(()=>updateCardLabels("新组合")),500),8==ie&&5==ae&&6==Q||5==ie&&5==ae){let e=new Set(room.mySeats);e.delete(room.mySeats[0]),console.log(e),e.has(te)||oe!=room.mySeats[0]||timer.delay("mingpai",(()=>updateCardLabels("明牌",ee)),500);}1==ae&&255==oe&&se==DING&&(ee=ee.filter((e=>4400!=e&&4401!=e)));var _=new Zone(te,ie,ne,$,Q,le),U=new Zone(oe,ae,se,$,Q,re);if(12==ae||12==ie)12!=ae?U.add(ee.concat(Array($-ee.length).fill(0)).map((e=>new Card(e,e,U.zoneID)))):12!=ie&&0!=ie&&_.remove(ee,Q);else if(5==ie&&1==ae&&0==oe)U.add(_.remove(ee.filter((e=>e>0))).map((e=>e.destroy(0))));else if(2==ie&&9==ae&&0==te&&0==oe)game.isGameStart&&!game.isPassed&&Card.pack(Card.get(0).map((e=>e.destroy())),!1,1),U.set([...U.cards.map((e=>game.isPassed?e.destroy(0):e)),..._.cards.map((e=>e.destroy(0)))]),_.set([]),counter(),game.isPassed=!1;else if(255!==ce){if(1==ie&&5==ae&&room.dealCard(oe,ee[0]),2==ae&&(game.spellSpace[3090]||(game.spellSpace[3090]=new Set),ee.forEach((e=>game.spellSpace[3090].add(allCard[e].c))),document.getElementById("boTu").innerHTML=Array.from(game.spellSpace[3090]).join("")),!(5!=ie&&5!=ae||oe!=(null==(x=room.mySeats)?void 0:x[0])&&te!=(null==(R=room.mySeats)?void 0:R[0]))){let e=Array.from(Zone.shoupai(room.mySeats[0]));5==ae?e.push(...ee):5==ie&&(e=e.filter((e=>!ee.includes(e)))),e=e.map((e=>allCard[e]));const{countType2:t,countSha:i}=[...e].reduce(((e,t)=>(2!==t.type||["乐","兵","闪电"].includes(t.name)||e.countType2++,["杀","火杀","雷杀","冰杀"].includes(t.name)&&e.countSha++,e)),{countType2:0,countSha:0});document.getElementById("result").innerHTML='<span class="textRes">【权道】杀：普通锦囊</span><br><span class="textRes">'+i+"："+t+"</span>";}if([441,3492].includes(Q)&&8==ae&&6==ce&&drawChengXiang(ee.map((e=>allCard[e].number)),3492==Q&&user.v),3033==Q&&1==ie&&8==ae&&1==ee.filter((e=>e>0)).length){let e=allCard[ee[0]].number,t=0,i=0,n=0;Zone.paidui.forEach((l=>{let o=allCard[l].number;o===e?n++:o>e?t++:i++;})),document.getElementById("result").innerHTML='<span class="textRes">【吉占】猜'+(t>i?"大":"小")+'</span><br><span class="textRes">跟'+e+"比，"+t+"张大\t\t"+i+"张小\t\t"+n+"平</span>";}if(3329==Q&&te==game.currentID){let e=allCard[ee[0]].number,t=Zone.paidui,i=["无中","洞烛","顺手","过拆","逐近","决斗","南蛮","万箭","出其","水淹","随机","洪荒","同舟","力争","移花"].flatMap((e=>t.filter((t=>{var i;return null==(i=Qcard.name[e])?void 0:i.has(t)})))).reduce(((t,i)=>{let n=allCard[i].number;return n>e?t.g++:n<e?t.l++:t.e++,t}),{g:0,l:0,e:0}),n=["五谷","桃园","火攻","借刀","撒豆"].flatMap((e=>t.filter((t=>{var i;return null==(i=Qcard.name[e])?void 0:i.has(t)})))).reduce(((t,i)=>{let n=allCard[i].number;return n>e?t.g++:n<e?t.l++:t.e++,t}),{g:0,l:0,e:0});document.getElementById("result").innerHTML='<span class="textRes">【和衷】'+(i.g>i.l?"大":i.g<i.l?"小":n.g>n.l?"大":n.g<n.l?"小":"平")+'</span><br><span class="textRes">'+i.g+"."+n.g+"大\t\t"+i.l+"."+n.l+"小</span>";}else 3488==Q&&5==ie&&5==ae&&21==ce&&1==ee.filter((e=>e>0)).length?(game[Q]||(game[Q]={}),game[Q][te]=ee.find((e=>e>0))):3488==Q&&5==ie&&10==ae&&11==ce&&0==ee.filter((e=>e>0)).length?(ee[0]=(null==(D=game[Q])?void 0:D[te])||0,game[Q].stack=ee[0]):3488!=Q||10!=ie||1!=ae&&2!=ae||11!=ce||0!=ee.filter((e=>e>0)).length||(ee[0]=(null==(T=game[Q])?void 0:T.stack)||0,null==(L=game[Q])||delete L.stack);if([3157,3511].includes(Q)&&2==ie&&5==ae&&$==(null==(E=game[Q])?void 0:E.length)&&0==ee.filter((e=>e>0)).length&&game[Q].forEach(((e,t)=>ee[t]=e)),3543==Q&&2==ie&&1==ae&&0==ee.filter((e=>e>0)).length&&ee.splice(0,1/0,...new Zone(255,2).cards.map((e=>e.id)).filter((e=>[1,2].includes(allCard[e].color))).reverse().slice(0,$)),[7016,7017].includes(Q)&&5==ae&&1==$&&(j==room.mySeats[0]||user.v)&&(ee[0]&&(null==(O=game[Q])?void 0:O.includes(ee[0]))?game[Q].splice(game[Q].indexOf(ee[0]),1):5==ie||2==(null==(G=game[Q])?void 0:G.length)||1==(null==(B=game[Q])?void 0:B.length)?ee[0]=(null==(N=game[Q])?void 0:N.shift())||0:room.isGuoZhan),te!=oe||ie!=ae||ne!=se&&1==ae||le!=re&&4==ae)if(3208==Q&&10==ie&&5==ae&&0===ee.filter((e=>e>0)).length)_.pos=DI,Card.pack(_.cards.slice(0,_.length-1)),U.add(_.remove(ee));else if(3483==Q)if(10==ie&&10==ae)0===ee.filter((e=>e>0)).length&&(_.pos=DI,U.pos=DING),U.add(_.remove(ee));else if(1==ie&&10==ae&&ne==RAND)game[Q]&&Card.pack(_.cards.slice(0,game[Q])),0==ee.filter((e=>e>0)).length&&(_.pos=DI),U.add(_.remove(ee));else if(5==ie&&10==ae)game[Q]=U.add(_.remove(ee));else if(10==ie&&1==ae&&ne==RAND){if(0==ee.filter((e=>e>0)).length&&(null==(P=game[Q])?void 0:P.length)==$&&game[Q].every((e=>_.cards.includes(e)))){let e=game[Q].flatMap((e=>_.cards.splice(_.cards.indexOf(e),1)));Card.pack(U.add(e));let t=e.map((e=>e.key));t.every((e=>e>0))&&ee.splice(0,$,...t);}else U.add(_.remove(ee));delete game[Q];}else U.add(_.remove(ee));else if(780==Q&&5==ie&&ne==RAND&&1==$)if(5==ae&&te==game.currentID)game[Q]=U.add(_.remove(ee))[0];else if(1==ae&&te!=game.currentID&&_.cards.includes(game[Q])){let e=null==(M=U.add(_.cards.splice(_.cards.indexOf(game[Q]),1))[0])?void 0:M.key;e>0&&0==ee.filter((e=>e>0)).length&&(ee[0]=e),delete game[Q];}else U.add(_.remove(ee));else U.add(_.remove(ee,Q));else _.show(ee);}}}catch(V){console.error(V);}}function main(){let e=Array.prototype.slice.call(arguments);try{return "INIT"===e[0]?Init():"EXIT"===e[0]?Exit():logic(e[e.length-1])}catch(t){console.error(t.message),console.error(t.stack);const[,e,i]=t.stack.match(/(\d+):(\d+)/);console.error("Line:",e),console.error("Column:",i),tooltipSGS("小抄GG了，联系作者解决");}}debounce((e=>{const t=globalState.recGoods[e.secId];if(t&&t.length>0){for(let i of t)recLottery(e.secId,i.GoodsBaseID,e.openTime,e.levelId,i.ChangeCount);delete globalState.recGoods[e.secId];}}),6e4),"undefined"!=typeof SGSMODULE&&(Object.defineProperty(window.console,"log",{get:()=>console.info,set(){}}),window.SGSMODULE.forEach((e=>e("EXIT"))),delete window.SGSMODULE),console.info("%c三国杀打小抄","font-weight: bold; color: white; background-color: #525288; padding: 1px 4px; border-radius: 4px;"),window.SGSMODULE=[],Object.defineProperty(window.console,"log",{get:()=>function(...e){(window._debug||window.isLogAllClass)&&console.debug(...e),window.SGSMODULE.forEach((t=>null==t?void 0:t(...e)));},set(){}}),main("INIT").then((e=>{e&&window.SGSMODULE.push(main);}));

})();